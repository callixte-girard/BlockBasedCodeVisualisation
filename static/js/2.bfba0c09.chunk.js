/*! For license information please see 2.bfba0c09.chunk.js.LICENSE */
(this.webpackJsonpjs2blockly=this.webpackJsonpjs2blockly||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(97)},function(t,e,n){"use strict";t.exports=function(t,e,n,o,i,r,s,a){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,i,r,s,a],c=0;(l=new Error(e.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,n){"use strict";var o=n(14);t.exports=o},function(t,e,n){"use strict";t.exports=function(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),o=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r){var s=Object(r);for(var a in s)o.call(s,a)&&(n[a]=s[a])}}return n}},function(t,e,n){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen,isInWorker:!o};t.exports=i},function(t,e,n){"use strict";var o=n(22),i=n(33),r=(n(15),n(71)),s=n(11),a=n(72),l=n(23),u=n(25),c=n(74),h=n(12),p=n(19),d=n(48),f=n(13),_=n(3),g=n(26),m=n(75),v=n(50),E=n(1),T=n(31),y=n(52),b=(n(53),n(2),o.ID_ATTRIBUTE_NAME),S={},C=9,k="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),D={},I={},R=[];function A(t){return t?t.nodeType===C?t.documentElement:t.firstChild:null}function O(t){var e=A(t);return e&&V.getID(e)}function w(t){return t&&t.getAttribute&&t.getAttribute(b)||""}function x(t,e){if(t){w(t)!==e&&E(!1);var n=V.findReactContainerForID(e);if(n&&m(n,t))return!0}return!1}var N=null;function M(t){var e=S[t];if(!e||!x(e,t))return!1;N=e}function L(t,e,n,o,i,s){r.useCreateElement&&(s=_({},s),n.nodeType===C?s[k]=n:s[k]=n.ownerDocument);var a=p.mountComponent(t,e,o,s);t._renderedComponent._topLevelWrapper=t,V._mountImageIntoNode(a,n,i,o)}function B(t,e,n,o,i){var r=f.ReactReconcileTransaction.getPooled(o);r.perform(L,null,t,e,n,r,o,i),f.ReactReconcileTransaction.release(r)}function P(t,e){for(p.unmountComponent(t),e.nodeType===C&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function F(t){var e=O(t);return!!e&&e!==l.getReactRootIDFromNodeID(e)}var U=function(){};U.prototype.isReactComponent={},U.prototype.render=function(){return this.props};var V={TopLevelWrapper:U,_instancesByReactRootID:D,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,o){return V.scrollMonitor(n,(function(){d.enqueueElementInternal(t,e),o&&d.enqueueCallbackInternal(t,o)})),t},_registerComponent:function(t,e){(!e||1!==e.nodeType&&e.nodeType!==C&&11!==e.nodeType)&&E(!1),i.ensureScrollValueMonitoring();var n=V.registerContainer(e);return D[n]=t,n},_renderNewRootComponent:function(t,e,n,o){var i=v(t,null),r=V._registerComponent(i,e);return f.batchedUpdates(B,i,r,e,n,o),i},renderSubtreeIntoContainer:function(t,e,n,o){return(null==t||null==t._reactInternalInstance)&&E(!1),V._renderSubtreeIntoContainer(t,e,n,o)},_renderSubtreeIntoContainer:function(t,e,n,o){s.isValidElement(e)||E(!1);var i=new s(U,null,null,null,null,null,e),r=D[O(n)];if(r){var a=r._currentElement.props;if(y(a,e)){var l=r._renderedComponent.getPublicInstance(),u=o&&function(){o.call(l)};return V._updateRootComponent(r,i,n,u),l}V.unmountComponentAtNode(n)}var c=A(n),h=c&&!!w(c),p=F(n),d=h&&!r&&!p,f=V._renderNewRootComponent(i,n,d,null!=t?t._reactInternalInstance._processChildContext(t._reactInternalInstance._context):g)._renderedComponent.getPublicInstance();return o&&o.call(f),f},render:function(t,e,n){return V._renderSubtreeIntoContainer(null,t,e,n)},registerContainer:function(t){var e=O(t);return e&&(e=l.getReactRootIDFromNodeID(e)),e||(e=l.createReactRootID()),I[e]=t,e},unmountComponentAtNode:function(t){(!t||1!==t.nodeType&&t.nodeType!==C&&11!==t.nodeType)&&E(!1);var e=O(t),n=D[e];if(!n){F(t);var o=w(t);o&&l.getReactRootIDFromNodeID(o);return!1}return f.batchedUpdates(P,n,t),delete D[e],delete I[e],!0},findReactContainerForID:function(t){var e=l.getReactRootIDFromNodeID(t);return I[e]},findReactNodeByID:function(t){var e=V.findReactContainerForID(t);return V.findComponentRoot(e,t)},getFirstReactDOM:function(t){return function(t){for(;t&&t.parentNode!==t;t=t.parentNode)if(1===t.nodeType){var e=w(t);if(e){var n,o=l.getReactRootIDFromNodeID(e),i=t;do{if(n=w(i),null==(i=i.parentNode))return null}while(n!==o);if(i===I[o])return t}}return null}(t)},findComponentRoot:function(t,e){var n=R,o=0,i=function(t){N=null,l.traverseAncestors(t,M);var e=N;return N=null,e}(e)||t;for(0,n[0]=i.firstChild,n.length=1;o<n.length;){for(var r,s=n[o++];s;){var a=V.getID(s);a?e===a?r=s:l.isAncestorIDOf(a,e)&&(n.length=o=0,n.push(s.firstChild)):n.push(s.firstChild),s=s.nextSibling}if(r)return n.length=0,r}n.length=0,E(!1)},_mountImageIntoNode:function(t,e,n,o){if((!e||1!==e.nodeType&&e.nodeType!==C&&11!==e.nodeType)&&E(!1),n){var i=A(e);if(c.canReuseMarkup(t,i))return;var r=i.getAttribute(c.CHECKSUM_ATTR_NAME);i.removeAttribute(c.CHECKSUM_ATTR_NAME);var s=i.outerHTML;i.setAttribute(c.CHECKSUM_ATTR_NAME,r);var a=t,l=function(t,e){for(var n=Math.min(t.length,e.length),o=0;o<n;o++)if(t.charAt(o)!==e.charAt(o))return o;return t.length===e.length?-1:n}(a,s);a.substring(l-20,l+20),s.substring(l-20,l+20);e.nodeType===C&&E(!1)}if(e.nodeType===C&&E(!1),o.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(t)}else T(e,t)},ownerDocumentContextKey:k,getReactRootID:O,getID:function(t){var e=w(t);if(e)if(S.hasOwnProperty(e)){var n=S[e];n!==t&&(x(n,e)&&E(!1),S[e]=t)}else S[e]=t;return e},setID:function(t,e){var n=w(t);n!==e&&delete S[n],t.setAttribute(b,e),S[e]=t},getNode:function(t){return S.hasOwnProperty(t)&&x(S[t],t)||(S[t]=V.findReactNodeByID(t)),S[t]},getNodeFromInstance:function(t){var e=u.get(t)._rootNodeID;return a.isNullComponentID(e)?null:(S.hasOwnProperty(e)&&x(S[e],e)||(S[e]=V.findReactNodeByID(e)),S[e])},isValid:x,purgeID:function(t){delete S[t]}};h.measureMethods(V,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=V},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(t)}var r=n(39);function s(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?Object(r.a)(t):e}n.d(e,"a",(function(){return s}))},function(t,e,n){"use strict";function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var o=n(15),i=n(3),r=(n(34),"function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103),s={key:!0,ref:!0,__self:!0,__source:!0},a=function(t,e,n,o,i,s,a){return{$$typeof:r,type:t,key:e,ref:n,props:a,_owner:s}};a.createElement=function(t,e,n){var i,r={},l=null,u=null;if(null!=e)for(i in u=void 0===e.ref?null:e.ref,l=void 0===e.key?null:""+e.key,void 0===e.__self?null:e.__self,void 0===e.__source?null:e.__source,e)e.hasOwnProperty(i)&&!s.hasOwnProperty(i)&&(r[i]=e[i]);var c=arguments.length-2;if(1===c)r.children=n;else if(c>1){for(var h=Array(c),p=0;p<c;p++)h[p]=arguments[p+2];r.children=h}if(t&&t.defaultProps){var d=t.defaultProps;for(i in d)"undefined"===typeof r[i]&&(r[i]=d[i])}return a(t,l,u,0,0,o.current,r)},a.createFactory=function(t){var e=a.createElement.bind(null,t);return e.type=t,e},a.cloneAndReplaceKey=function(t,e){return a(t.type,e,t.ref,t._self,t._source,t._owner,t.props)},a.cloneAndReplaceProps=function(t,e){return a(t.type,t.key,t.ref,t._self,t._source,t._owner,e)},a.cloneElement=function(t,e,n){var r,l=i({},t.props),u=t.key,c=t.ref,h=(t._self,t._source,t._owner);if(null!=e)for(r in void 0!==e.ref&&(c=e.ref,h=o.current),void 0!==e.key&&(u=""+e.key),e)e.hasOwnProperty(r)&&!s.hasOwnProperty(r)&&(l[r]=e[r]);var p=arguments.length-2;if(1===p)l.children=n;else if(p>1){for(var d=Array(p),f=0;f<p;f++)d[f]=arguments[f+2];l.children=d}return a(t.type,u,c,0,0,h,l)},a.isValidElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},t.exports=a},function(t,e,n){"use strict";var o={enableMeasure:!1,storedMeasure:function(t,e,n){return n},measureMethods:function(t,e,n){},measure:function(t,e,n){return n},injection:{injectMeasure:function(t){o.storedMeasure=t}}};t.exports=o},function(t,e,n){"use strict";var o=n(49),i=n(17),r=n(12),s=n(19),a=n(35),l=n(3),u=n(1),c=[],h=o.getPooled(),p=!1,d=null;function f(){T.ReactReconcileTransaction&&d||u(!1)}var _=[{initialize:function(){this.dirtyComponentsLength=c.length},close:function(){this.dirtyComponentsLength!==c.length?(c.splice(0,this.dirtyComponentsLength),E()):c.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];function g(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=o.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!1)}function m(t,e){return t._mountOrder-e._mountOrder}function v(t){var e=t.dirtyComponentsLength;e!==c.length&&u(!1),c.sort(m);for(var n=0;n<e;n++){var o=c[n],i=o._pendingCallbacks;if(o._pendingCallbacks=null,s.performUpdateIfNecessary(o,t.reconcileTransaction),i)for(var r=0;r<i.length;r++)t.callbackQueue.enqueue(i[r],o.getPublicInstance())}}l(g.prototype,a.Mixin,{getTransactionWrappers:function(){return _},destructor:function(){this.dirtyComponentsLength=null,o.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return a.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),i.addPoolingTo(g);var E=function(){for(;c.length||p;){if(c.length){var t=g.getPooled();t.perform(v,null,t),g.release(t)}if(p){p=!1;var e=h;h=o.getPooled(),e.notifyAll(),o.release(e)}}};var T={ReactReconcileTransaction:null,batchedUpdates:function(t,e,n,o,i,r){f(),d.batchedUpdates(t,e,n,o,i,r)},enqueueUpdate:function t(e){f(),d.isBatchingUpdates?c.push(e):d.batchedUpdates(t,e)},flushBatchedUpdates:E=r.measure("ReactUpdates","flushBatchedUpdates",E),injection:{injectReconcileTransaction:function(t){t||u(!1),T.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t||u(!1),"function"!==typeof t.batchedUpdates&&u(!1),"boolean"!==typeof t.isBatchingUpdates&&u(!1),d=t}},asap:function(t,e){d.isBatchingUpdates||u(!1),h.enqueue(t,e),p=!0}};t.exports=T},function(t,e,n){"use strict";function o(t){return function(){return t}}function i(){}i.thatReturns=o,i.thatReturnsFalse=o(!1),i.thatReturnsTrue=o(!0),i.thatReturnsNull=o(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";t.exports={current:null}},function(t,e,n){"use strict";var o=n(30),i=o({bubbled:null,captured:null}),r={topLevelTypes:o({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),PropagationPhases:i};t.exports=r},function(t,e,n){"use strict";var o=n(1),i=function(t){if(this.instancePool.length){var e=this.instancePool.pop();return this.call(e,t),e}return new this(t)},r=function(t){t instanceof this||o(!1),t.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(t)},s=i,a={addPoolingTo:function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||s,n.poolSize||(n.poolSize=10),n.release=r,n},oneArgumentPooler:i,twoArgumentPooler:function(t,e){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,t,e),n}return new this(t,e)},threeArgumentPooler:function(t,e,n){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,t,e,n),o}return new this(t,e,n)},fourArgumentPooler:function(t,e,n,o){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,t,e,n,o),i}return new this(t,e,n,o)},fiveArgumentPooler:function(t,e,n,o,i){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,t,e,n,o,i),r}return new this(t,e,n,o,i)}};t.exports=a},function(t,e,n){"use strict";t.exports=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null}},function(t,e,n){"use strict";var o=n(121);function i(){o.attachRefs(this,this._currentElement)}var r={mountComponent:function(t,e,n,o){var r=t.mountComponent(e,n,o);return t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t),r},unmountComponent:function(t){o.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,n,r){var s=t._currentElement;if(e!==s||r!==t._context){var a=o.shouldUpdateRefs(s,e);a&&o.detachRefs(t,s),t.receiveComponent(e,n,r),a&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};t.exports=r},function(t,e,n){"use strict";var o=n(17),i=n(3),r=n(14),s=(n(2),{type:null,target:null,currentTarget:r.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});function a(t,e,n,o){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var i=this.constructor.Interface;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];a?this[s]=a(n):"target"===s?this.target=o:this[s]=n[s]}var l=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;this.isDefaultPrevented=l?r.thatReturnsTrue:r.thatReturnsFalse,this.isPropagationStopped=r.thatReturnsFalse}i(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=r.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=r.thatReturnsTrue)},persist:function(){this.isPersistent=r.thatReturnsTrue},isPersistent:r.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),a.Interface=s,a.augmentClass=function(t,e){var n=Object.create(this.prototype);i(n,t.prototype),t.prototype=n,t.prototype.constructor=t,t.Interface=i({},this.Interface,e),t.augmentClass=this.augmentClass,o.addPoolingTo(t,o.fourArgumentPooler)},o.addPoolingTo(a,o.fourArgumentPooler),t.exports=a},function(t,e,n){var o,i,r;i=[n(102)],void 0===(r="function"===typeof(o=function(t){"use strict";return t})?o.apply(e,i):o)||(t.exports=r)},function(t,e,n){"use strict";var o=n(1);function i(t,e){return(t&e)===e}var r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=r,n=t.Properties||{},s=t.DOMAttributeNamespaces||{},l=t.DOMAttributeNames||{},u=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};for(var h in t.isCustomAttribute&&a._isCustomAttributeFunctions.push(t.isCustomAttribute),n){a.properties.hasOwnProperty(h)&&o(!1);var p=h.toLowerCase(),d=n[h],f={attributeName:p,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseAttribute:i(d,e.MUST_USE_ATTRIBUTE),mustUseProperty:i(d,e.MUST_USE_PROPERTY),hasSideEffects:i(d,e.HAS_SIDE_EFFECTS),hasBooleanValue:i(d,e.HAS_BOOLEAN_VALUE),hasNumericValue:i(d,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(d,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(d,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.mustUseAttribute&&f.mustUseProperty&&o(!1),!f.mustUseProperty&&f.hasSideEffects&&o(!1),f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1||o(!1),l.hasOwnProperty(h)){var _=l[h];f.attributeName=_}s.hasOwnProperty(h)&&(f.attributeNamespace=s[h]),u.hasOwnProperty(h)&&(f.propertyName=u[h]),c.hasOwnProperty(h)&&(f.mutationMethod=c[h]),a.properties[h]=f}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<a._isCustomAttributeFunctions.length;e++){if((0,a._isCustomAttributeFunctions[e])(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,o=s[t];return o||(s[t]=o={}),e in o||(n=document.createElement(t),o[e]=n[e]),o[e]},injection:r};t.exports=a},function(t,e,n){"use strict";var o=n(73),i=n(1),r=".",s=r.length,a=1e4;function l(t,e){return t.charAt(e)===r||e===t.length}function u(t){return""===t||t.charAt(0)===r&&t.charAt(t.length-1)!==r}function c(t,e){return 0===e.indexOf(t)&&l(e,t.length)}function h(t){return t?t.substr(0,t.lastIndexOf(r)):""}function p(t,e){if(u(t)&&u(e)||i(!1),c(t,e)||i(!1),t===e)return t;var n;for(n=t.length+s;n<e.length&&!l(e,n);n++);return e.substr(0,n)}function d(t,e){var n=Math.min(t.length,e.length);if(0===n)return"";for(var o=0,r=0;r<=n;r++)if(l(t,r)&&l(e,r))o=r;else if(t.charAt(r)!==e.charAt(r))break;var s=t.substr(0,o);return u(s)||i(!1),s}function f(t,e,n,o,r,s){(t=t||"")===(e=e||"")&&i(!1);var l=c(e,t);l||c(t,e)||i(!1);for(var u=0,d=l?h:p,f=t;;f=d(f,e)){var _;if(r&&f===t||s&&f===e||(_=n(f,l,o)),!1===_||f===e)break;u++<a||i(!1)}}var _={createReactRootID:function(){return t=o.createReactRootIndex(),r+t.toString(36);var t},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===r&&t.length>1){var e=t.indexOf(r,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,o,i){var r=d(t,e);r!==t&&f(t,r,n,o,!1,!0),r!==e&&f(r,e,n,i,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(f("",t,e,n,!0,!1),f(t,"",e,n,!1,!0))},traverseTwoPhaseSkipTarget:function(t,e,n){t&&(f("",t,e,n,!0,!0),f(t,"",e,n,!0,!0))},traverseAncestors:function(t,e,n){f("",t,e,n,!0,!1)},getFirstCommonAncestorID:d,_getNextDescendantID:p,isAncestorIDOf:c,SEPARATOR:r};t.exports=_},function(t,e,n){"use strict";var o=n(66),i=n(118),r=n(67),s=n(68),a=n(69),l=n(1),u=(n(2),{}),c=null,h=function(t,e){t&&(i.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},p=function(t){return h(t,!0)},d=function(t){return h(t,!1)},f=null;var _={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(t){f=t},getInstanceHandle:function(){return f},injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:function(t,e,n){"function"!==typeof n&&l(!1),(u[e]||(u[e]={}))[t]=n;var i=o.registrationNameModules[e];i&&i.didPutListener&&i.didPutListener(t,e,n)},getListener:function(t,e){var n=u[e];return n&&n[t]},deleteListener:function(t,e){var n=o.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var i=u[e];i&&delete i[t]},deleteAllListeners:function(t){for(var e in u)if(u[e][t]){var n=o.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e),delete u[e][t]}},extractEvents:function(t,e,n,i,r){for(var a,l=o.plugins,u=0;u<l.length;u++){var c=l[u];if(c){var h=c.extractEvents(t,e,n,i,r);h&&(a=s(a,h))}}return a},enqueueEvents:function(t){t&&(c=s(c,t))},processEventQueue:function(t){var e=c;c=null,a(e,t?p:d),c&&l(!1),r.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=_},function(t,e,n){"use strict";var o={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=o},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var o=n(16),i=n(24),r=(n(2),n(68)),s=n(69),a=o.PropagationPhases,l=i.getListener;function u(t,e,n){var o=function(t,e,n){var o=e.dispatchConfig.phasedRegistrationNames[n];return l(t,o)}(t,n,e?a.bubbled:a.captured);o&&(n._dispatchListeners=r(n._dispatchListeners,o),n._dispatchIDs=r(n._dispatchIDs,t))}function c(t){t&&t.dispatchConfig.phasedRegistrationNames&&i.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,u,t)}function h(t){t&&t.dispatchConfig.phasedRegistrationNames&&i.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(t.dispatchMarker,u,t)}function p(t,e,n){if(n&&n.dispatchConfig.registrationName){var o=n.dispatchConfig.registrationName,i=l(t,o);i&&(n._dispatchListeners=r(n._dispatchListeners,i),n._dispatchIDs=r(n._dispatchIDs,t))}}function d(t){t&&t.dispatchConfig.registrationName&&p(t.dispatchMarker,0,t)}var f={accumulateTwoPhaseDispatches:function(t){s(t,c)},accumulateTwoPhaseDispatchesSkipTarget:function(t){s(t,h)},accumulateDirectDispatches:function(t){s(t,d)},accumulateEnterLeaveDispatches:function(t,e,n,o){i.injection.getInstanceHandle().traverseEnterLeave(n,o,p,t,e)}};t.exports=f},function(t,e,n){"use strict";var o=n(20),i=n(54),r={view:function(t){if(t.view)return t.view;var e=i(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};function s(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(s,r),t.exports=s},function(t,e,n){var o,i,r;i=[n(103)],void 0===(r="function"===typeof(o=function(t){"use strict";return t.setLocale=function(e){t.Msg=t.Msg||{},Object.keys(e).forEach((function(n){t.Msg[n]=e[n]}))},t})?o.apply(e,i):o)||(t.exports=r)},function(t,e,n){"use strict";var o=n(1);t.exports=function(t){var e,n={};for(e in t instanceof Object&&!Array.isArray(t)||o(!1),t)t.hasOwnProperty(e)&&(n[e]=e);return n}},function(t,e,n){"use strict";var o=n(4),i=/^[ \r\n\t\f]/,r=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(t,e){t.innerHTML=e};if("undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction&&(s=function(t,e){MSApp.execUnsafeLocalFunction((function(){t.innerHTML=e}))}),o.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),i.test(e)||"<"===e[0]&&r.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}t.exports=s},function(t,e,n){"use strict";var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;function r(t){return o[t]}t.exports=function(t){return(""+t).replace(i,r)}},function(t,e,n){"use strict";var o=n(16),i=n(24),r=n(66),s=n(119),a=n(12),l=n(70),u=n(3),c=n(47),h={},p=!1,d=0,f={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},_="_reactListenersID"+String(Math.random()).slice(2);var g=u({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=t}},setEnabled:function(t){g.ReactEventListener&&g.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,i=function(t){return Object.prototype.hasOwnProperty.call(t,_)||(t[_]=d++,h[t[_]]={}),h[t[_]]}(n),s=r.registrationNameDependencies[t],a=o.topLevelTypes,l=0;l<s.length;l++){var u=s[l];i.hasOwnProperty(u)&&i[u]||(u===a.topWheel?c("wheel")?g.ReactEventListener.trapBubbledEvent(a.topWheel,"wheel",n):c("mousewheel")?g.ReactEventListener.trapBubbledEvent(a.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(a.topWheel,"DOMMouseScroll",n):u===a.topScroll?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent(a.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(a.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):u===a.topFocus||u===a.topBlur?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent(a.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(a.topBlur,"blur",n)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent(a.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(a.topBlur,"focusout",n)),i[a.topBlur]=!0,i[a.topFocus]=!0):f.hasOwnProperty(u)&&g.ReactEventListener.trapBubbledEvent(u,f[u],n),i[u]=!0)}},trapBubbledEvent:function(t,e,n){return g.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return g.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!p){var t=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(t),p=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});a.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=g},function(t,e,n){"use strict";t.exports=!1},function(t,e,n){"use strict";var o=n(1),i={Mixin:{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,i,r,s,a,l){var u,c;this.isInTransaction()&&o(!1);try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=t.call(e,n,i,r,s,a,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var o=e[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=o.initialize?o.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(t){this.isInTransaction()||o(!1);for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r,s=e[n],a=this.wrapperInitData[n];try{r=!0,a!==i.OBSERVED_ERROR&&s.close&&s.close.call(this,a),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}},OBSERVED_ERROR:{}};t.exports=i},function(t,e,n){"use strict";var o=n(30)({prop:null,context:null,childContext:null});t.exports=o},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var o=n(28),i=n(70),r={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:n(55),button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+i.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+i.currentScrollTop}};function s(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(s,r),t.exports=s},function(t,e,n){"use strict";function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";t.exports=n(109)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=l(n(110)),s=l(n(179)),a=n(180);function l(t){return t&&t.__esModule?t:{default:t}}var u=/"<.+>"/g;function c(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=void 0;if((0,a.isImmutable)(t))o=c(t.toJS(),e,n);else if("string"===typeof t)o=n?"'"+t+"'":t;else if("number"===typeof t||"boolean"===typeof t)o=""+t;else if(Array.isArray(t)){var l=new Array(e.spacing+1).join(" "),p=n?", ":"\n"+l,d=t.map((function(t){return c(t,e)})).join(p);o=n?"["+d+"]":""+d}else r.default.isValidElement(t)?o=h(t,e):"object"===("undefined"===typeof t?"undefined":i(t))?o=(o=(0,s.default)(function t(e,n){var o=void 0;return Array.isArray(e)?o=e.map((function(e){return t(e)})):e&&"object"===("undefined"===typeof e?"undefined":i(e))?(o={},Object.keys(e).map((function(s){var a=e[s];r.default.isValidElement(a)?a=h(a,n):Array.isArray(a)?a=a.map((function(e){return t(e,n)})):"object"===("undefined"===typeof a?"undefined":i(a))?a=t(a,n):"function"===typeof a&&(a=n.useFunctionCode?n.functionNameOnly?a.name.toString():a.toString():"..."),o[s]=a}))):o=e,o}(t,e))).replace(u,(function(t){return t.slice(1,t.length-1)})):"function"===typeof t&&(o=e.useFunctionCode?e.functionNameOnly?t.name.toString():t.toString():"...");return o}function h(t,e){var n={displayName:t.type.displayName||t.type.name||t.type,ignoreProps:[],ignoreTags:[],keyValueOverride:{},spacing:0,detectFunctions:!1},i=o({},n,e);if(-1!==i.ignoreTags.indexOf(i.displayName))return"";var r={name:i.displayName};if(delete i.displayName,t.props){var s=new Array(i.spacing+3).join(" ");r.props=Object.keys(t.props).filter((function(e){return"children"!==e&&!function(t,e,n){return!!t&&t[e]===n}(t.type.defaultProps,e,t.props[e])&&-1===i.ignoreProps.indexOf(e)})).map((function(e){var n=void 0;if("function"===typeof i.keyValueOverride[e])n=i.keyValueOverride[e](t.props[e]);else if(i.keyValueOverride[e])n=i.keyValueOverride[e];else{if(i.shortBooleanSyntax&&"boolean"===typeof t.props[e]&&t.props[e])return e;n=c(t.props[e],o({},i,{key:e}))}"string"===typeof n&&"'"===n[0]||(n="{"+n+"}");var r=n.split(/\r\n|\r|\n/);return r.length>1&&(n=r.join("\n"+s)),e+"="+n})).join("\n"+s),t.key&&-1===i.ignoreProps.indexOf("key")&&(r.props+="key='"+t.key+"'"),r.props.length>0&&(r.props=" "+r.props)}if(t.props.children){i.spacing+=2;var a=new Array(i.spacing+1).join(" ");return Array.isArray(t.props.children)?r.children=t.props.children.reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){return t&&t.type&&-1===i.ignoreTags.indexOf(t.type.displayName||t.type.name||t.type)})).map((function(t){return c(t,i,!1)})).join("\n"+a):r.children=c(t.props.children,i,!1),"<"+r.name+r.props+">\n"+a+r.children+"\n"+a.slice(0,-2)+"</"+r.name+">"}return"<"+r.name+r.props+" />"}e.default=h,t.exports=e.default},function(t,e,n){"use strict";var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function s(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(t){o[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,l=s(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(o){a=o(n);for(var h=0;h<a.length;h++)r.call(n,a[h])&&(l[a[h]]=n[a[h]])}}return l}},function(t,e,n){"use strict";var o=n(4),i=n(32),r=n(31),s=function(t,e){t.textContent=e};o.canUseDOM&&("textContent"in document.documentElement||(s=function(t,e){r(t,i(e))})),t.exports=s},function(t,e,n){"use strict";var o=n(22),i=n(12),r=n(117),s=(n(2),/^[a-zA-Z_][\w\.\-]*$/),a={},l={};function u(t){return!!l.hasOwnProperty(t)||!a.hasOwnProperty(t)&&(s.test(t)?(l[t]=!0,!0):(a[t]=!0,!1))}function c(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&e<1||t.hasOverloadedBooleanValue&&!1===e}var h={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+"="+r(t)},setAttributeForID:function(t,e){t.setAttribute(o.ID_ATTRIBUTE_NAME,e)},createMarkupForProperty:function(t,e){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){if(c(n,e))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===e?i+'=""':i+"="+r(e)}return o.isCustomAttribute(t)?null==e?"":t+"="+r(e):null},createMarkupForCustomAttribute:function(t,e){return u(t)&&null!=e?t+"="+r(e):""},setValueForProperty:function(t,e,n){var i=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(i){var r=i.mutationMethod;if(r)r(t,n);else if(c(i,n))this.deleteValueForProperty(t,e);else if(i.mustUseAttribute){var s=i.attributeName,a=i.attributeNamespace;a?t.setAttributeNS(a,s,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===n?t.setAttribute(s,""):t.setAttribute(s,""+n)}else{var l=i.propertyName;i.hasSideEffects&&""+t[l]===""+n||(t[l]=n)}}else o.isCustomAttribute(e)&&h.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){u(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))},deleteValueForProperty:function(t,e){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){var i=n.mutationMethod;if(i)i(t,void 0);else if(n.mustUseAttribute)t.removeAttribute(n.attributeName);else{var r=n.propertyName,s=o.getDefaultValueForProperty(t.nodeName,r);n.hasSideEffects&&""+t[r]===s||(t[r]=s)}}else o.isCustomAttribute(e)&&t.removeAttribute(e)}};i.measureMethods(h,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=h},function(t,e,n){"use strict";var o=n(46),i=n(5),r={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:o.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){i.purgeID(t)}};t.exports=r},function(t,e,n){"use strict";var o=n(63),i=n(44),r=n(5),s=n(12),a=n(1),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(t,e,n){var o=r.getNode(t);l.hasOwnProperty(e)&&a(!1),null!=n?i.setValueForProperty(o,e,n):i.deleteValueForProperty(o,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=r.getNode(t);o.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=r.getNode(t[n].parentID);o.processUpdates(t,e)}};s.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=u},function(t,e,n){"use strict";var o,i=n(4);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=function(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r="function"===typeof s[n]}return!r&&o&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}},function(t,e,n){"use strict";n(15);var o=n(11),i=n(25),r=n(13),s=n(3),a=n(1);n(2);function l(t){r.enqueueUpdate(t)}function u(t,e){var n=i.get(t);return n||null}var c={isMounted:function(t){var e=i.get(t);return!!e&&!!e._renderedComponent},enqueueCallback:function(t,e){"function"!==typeof e&&a(!1);var n=u(t);if(!n)return null;n._pendingCallbacks?n._pendingCallbacks.push(e):n._pendingCallbacks=[e],l(n)},enqueueCallbackInternal:function(t,e){"function"!==typeof e&&a(!1),t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],l(t)},enqueueForceUpdate:function(t){var e=u(t);e&&(e._pendingForceUpdate=!0,l(e))},enqueueReplaceState:function(t,e){var n=u(t);n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,l(n))},enqueueSetState:function(t,e){var n=u(t);n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(e),l(n))},enqueueSetProps:function(t,e){var n=u(t);n&&c.enqueueSetPropsInternal(n,e)},enqueueSetPropsInternal:function(t,e){var n=t._topLevelWrapper;n||a(!1);var i=n._pendingElement||n._currentElement,r=i.props,u=s({},r.props,e);n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(r,u)),l(n)},enqueueReplaceProps:function(t,e){var n=u(t);n&&c.enqueueReplacePropsInternal(n,e)},enqueueReplacePropsInternal:function(t,e){var n=t._topLevelWrapper;n||a(!1);var i=n._pendingElement||n._currentElement,r=i.props;n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(r,e)),l(n)},enqueueElementInternal:function(t,e){t._pendingElement=e,l(t)}};t.exports=c},function(t,e,n){"use strict";var o=n(17),i=n(3),r=n(1);function s(){this._callbacks=null,this._contexts=null}i(s.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length&&r(!1),this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(s),t.exports=s},function(t,e,n){"use strict";var o=n(125),i=n(76),r=n(77),s=n(3),a=n(1),l=(n(2),function(){});function u(t){var e,n;if(null===t||!1===t)e=new i(u);else if("object"===typeof t){var o=t;(!o||"function"!==typeof o.type&&"string"!==typeof o.type)&&a(!1),"string"===typeof o.type?e=r.createInternalComponent(o):e="function"===typeof(n=o.type)&&"undefined"!==typeof n.prototype&&"function"===typeof n.prototype.mountComponent&&"function"===typeof n.prototype.receiveComponent?new o.type(o):new l}else"string"===typeof t||"number"===typeof t?e=r.createInstanceForText(t):a(!1);return e.construct(t),e._mountIndex=0,e._mountImage=null,e}s(l.prototype,o.Mixin,{_instantiateReactComponent:u}),t.exports=u},function(t,e,n){"use strict";var o=n(1),i=!1,r={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){i&&o(!1),r.unmountIDFromEnvironment=t.unmountIDFromEnvironment,r.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,r.processChildrenUpdates=t.processChildrenUpdates,i=!0}}};t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e){var n=null===t||!1===t,o=null===e||!1===e;if(n||o)return n===o;var i=typeof t,r=typeof e;return"string"===i||"number"===i?"string"===r||"number"===r:"object"===r&&t.type===e.type&&t.key===e.key}},function(t,e,n){"use strict";n(3);var o=n(14),i=(n(2),o);t.exports=i},function(t,e,n){"use strict";t.exports=function(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}},function(t,e,n){"use strict";var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i(t){var e=this.nativeEvent;if(e.getModifierState)return e.getModifierState(t);var n=o[t];return!!n&&!!e[n]}t.exports=function(t){return i}},function(t,e,n){"use strict";n(15);var o=n(25),i=n(5),r=n(1);n(2);t.exports=function(t){return null==t?null:1===t.nodeType?t:o.has(t)?i.getNodeFromInstance(t):(null!=t.render&&"function"===typeof t.render&&r(!1),void r(!1))}},function(t,e,n){"use strict";var o=n(84),i=n(36),r=n(1),s=(n(2),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0});function a(t){null!=t.checkedLink&&null!=t.valueLink&&r(!1)}function l(t){a(t),(null!=t.value||null!=t.onChange)&&r(!1)}function u(t){a(t),(null!=t.checked||null!=t.onChange)&&r(!1)}var c={value:function(t,e,n){return!t[e]||s[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:o.func},h={};function p(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var d={checkPropTypes:function(t,e,n){for(var o in c){if(c.hasOwnProperty(o))var r=c[o](e,o,t,i.prop,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(r instanceof Error&&!(r.message in h)){h[r.message]=!0;p(n)}}},getValue:function(t){return t.valueLink?(l(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(u(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(l(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(u(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=d},function(t,e,n){"use strict";var o="function"===typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=function(t){var e=t&&(o&&t[o]||t[i]);if("function"===typeof e)return e}},function(t,e,n){"use strict";n(15);var o=n(11),i=n(23),r=n(58),s=n(1),a=(n(2),i.SEPARATOR),l=":",u={"=":"=0",".":"=1",":":"=2"},c=/[=.:]/g;function h(t){return u[t]}function p(t,e){return t&&null!=t.key?d(t.key):e.toString(36)}function d(t){return"$"+(""+t).replace(c,h)}t.exports=function(t,e,n){return null==t?0:function t(e,n,i,u){var c,h=typeof e;if("undefined"!==h&&"boolean"!==h||(e=null),null===e||"string"===h||"number"===h||o.isValidElement(e))return i(u,e,""===n?a+p(e,0):n),1;var f=0,_=""===n?a:n+l;if(Array.isArray(e))for(var g=0;g<e.length;g++)f+=t(c=e[g],_+p(c,g),i,u);else{var m=r(e);if(m){var v,E=m.call(e);if(m!==e.entries)for(var T=0;!(v=E.next()).done;)f+=t(c=v.value,_+p(c,T++),i,u);else for(0;!(v=E.next()).done;){var y=v.value;y&&(f+=t(c=y[1],_+d(y[0])+l+p(c,0),i,u))}}else if("object"===h){String(e);s(!1)}}return f}(t,"",e,n)}},function(t,e,n){"use strict";t.exports=function(t){var e,n=t.keyCode;return"charCode"in t?0===(e=t.charCode)&&13===n&&(e=13):e=n,e>=32||13===e?e:0}},function(t,e,n){"use strict";t.exports="0.14.9"},function(t,e,n){"use strict";var o=n(63),i=n(44),r=n(45),s=n(5),a=n(3),l=n(32),u=n(43),c=(n(53),function(t){});a(c.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){if(this._rootNodeID=t,e.useCreateElement){var o=n[s.ownerDocumentContextKey].createElement("span");return i.setAttributeForID(o,t),s.getID(o),u(o,this._stringText),o}var r=l(this._stringText);return e.renderToStaticMarkup?r:"<span "+i.createMarkupForID(t)+">"+r+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var i=s.getNode(this._rootNodeID);o.updateTextContent(i,n)}}},unmountComponent:function(){r.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c},function(t,e,n){"use strict";var o=n(113),i=n(65),r=n(12),s=n(31),a=n(43),l=n(1);function u(t,e,n){var o=n>=t.childNodes.length?null:t.childNodes.item(n);t.insertBefore(e,o)}var c={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:a,processUpdates:function(t,e){for(var n,r,c=null,h=null,p=0;p<t.length;p++)if((n=t[p]).type===i.MOVE_EXISTING||n.type===i.REMOVE_NODE){var d=n.fromIndex,f=n.parentNode.childNodes[d],_=n.parentID;f||l(!1),(c=c||{})[_]=c[_]||[],c[_][d]=f,(h=h||[]).push(f)}if(r=e.length&&"string"===typeof e[0]?o.dangerouslyRenderMarkup(e):e,h)for(var g=0;g<h.length;g++)h[g].parentNode.removeChild(h[g]);for(var m=0;m<t.length;m++)switch((n=t[m]).type){case i.INSERT_MARKUP:u(n.parentNode,r[n.markupIndex],n.toIndex);break;case i.MOVE_EXISTING:u(n.parentNode,c[n.parentID][n.fromIndex],n.toIndex);break;case i.SET_MARKUP:s(n.parentNode,n.content);break;case i.TEXT_CONTENT:a(n.parentNode,n.content);break;case i.REMOVE_NODE:}}};r.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=c},function(t,e,n){"use strict";var o=n(4),i=n(1),r=o.canUseDOM?document.createElement("div"):null,s={},a=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:a,option:a,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:u,th:u};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach((function(t){h[t]=c,s[t]=!0})),t.exports=function(t){return r||i(!1),h.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||(r.innerHTML="*"===t?"<link />":"<"+t+"></"+t+">",s[t]=!r.firstChild),s[t]?h[t]:null}},function(t,e,n){"use strict";var o=n(30)({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},function(t,e,n){"use strict";var o=n(1),i=null,r={};function s(){if(i)for(var t in r){var e=r[t],n=i.indexOf(t);if(n>-1||o(!1),!u.plugins[n]){e.extractEvents||o(!1),u.plugins[n]=e;var s=e.eventTypes;for(var l in s)a(s[l],e,l)||o(!1)}}}function a(t,e,n){u.eventNameDispatchConfigs.hasOwnProperty(n)&&o(!1),u.eventNameDispatchConfigs[n]=t;var i=t.phasedRegistrationNames;if(i){for(var r in i){if(i.hasOwnProperty(r))l(i[r],e,n)}return!0}return!!t.registrationName&&(l(t.registrationName,e,n),!0)}function l(t,e,n){u.registrationNameModules[t]&&o(!1),u.registrationNameModules[t]=e,u.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){i&&o(!1),i=Array.prototype.slice.call(t),s()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];r.hasOwnProperty(n)&&r[n]===i||(r[n]&&o(!1),r[n]=i,e=!0)}e&&s()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return u.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var o=u.registrationNameModules[e.phasedRegistrationNames[n]];if(o)return o}return null},_resetEventPlugins:function(){for(var t in i=null,r)r.hasOwnProperty(t)&&delete r[t];u.plugins.length=0;var e=u.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var o=u.registrationNameModules;for(var s in o)o.hasOwnProperty(s)&&delete o[s]}};t.exports=u},function(t,e,n){"use strict";var o=null;function i(t,e,n,i){try{return e(n,i)}catch(r){return void(null===o&&(o=r))}}var r={invokeGuardedCallback:i,invokeGuardedCallbackWithCatch:i,rethrowCaughtError:function(){if(o){var t=o;throw o=null,t}}};t.exports=r},function(t,e,n){"use strict";var o=n(1);t.exports=function(t,e){if(null==e&&o(!1),null==t)return e;var n=Array.isArray(t),i=Array.isArray(e);return n&&i?(t.push.apply(t,e),t):n?(t.push(e),t):i?[t].concat(e):[t,e]}},function(t,e,n){"use strict";t.exports=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}},function(t,e,n){"use strict";var o={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){o.currentScrollLeft=t.x,o.currentScrollTop=t.y}};t.exports=o},function(t,e,n){"use strict";t.exports={useCreateElement:!1}},function(t,e,n){"use strict";var o={};var i={isNullComponentID:function(t){return!!o[t]},registerNullComponentID:function(t){o[t]=!0},deregisterNullComponentID:function(t){delete o[t]}};t.exports=i},function(t,e,n){"use strict";var o={createReactRootIndex:null,injection:{injectCreateReactRootIndex:function(t){o.createReactRootIndex=t}}};t.exports=o},function(t,e,n){"use strict";var o=n(120),i=/\/?>/,r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=o(t);return t.replace(i," "+r.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(r.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),o(t)===n}};t.exports=r},function(t,e,n){"use strict";var o=n(123);t.exports=function(t,e){var n=!0;t:for(;n;){var i=t,r=e;if(n=!1,i&&r){if(i===r)return!0;if(o(i))return!1;if(o(r)){t=i,e=r.parentNode,n=!0;continue t}return i.contains?i.contains(r):!!i.compareDocumentPosition&&!!(16&i.compareDocumentPosition(r))}return!1}}},function(t,e,n){"use strict";var o,i=n(11),r=n(72),s=n(19),a={injectEmptyComponent:function(t){o=i.createElement(t)}};function l(){r.registerNullComponentID(this._rootNodeID)}var u=function(t){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=t(o)};n(3)(u.prototype,{construct:function(t){},mountComponent:function(t,e,n){return e.getReactMountReady().enqueue(l,this),this._rootNodeID=t,s.mountComponent(this._renderedComponent,t,e,n)},receiveComponent:function(){},unmountComponent:function(t,e,n){s.unmountComponent(this._renderedComponent),r.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),u.injection=a,t.exports=u},function(t,e,n){"use strict";var o=n(3),i=n(1),r=null,s=null,a={},l=null;var u={getComponentClassForElement:function(t){if("function"===typeof t.type)return t.type;var e=t.type,n=a[e];return null==n&&(a[e]=n=r(e)),n},createInternalComponent:function(t){return s||i(!1),new s(t.type,t.props)},createInstanceForText:function(t){return new l(t)},isTextComponent:function(t){return t instanceof l},injection:{injectGenericComponentClass:function(t){s=t},injectTextComponentClass:function(t){l=t},injectComponentClasses:function(t){o(a,t)}}};t.exports=u},function(t,e,n){"use strict";var o=n(126),i=n(130),r=n(131),s=n(132),a=n(133),l=n(4),u=n(134),c=n(135),h=n(45),p=n(81),d=n(136),f=n(62),_=n(152),g=n(154),m=n(23),v=n(5),E=n(155),T=n(158),y=n(159),b=n(160),S=n(168),C=!1;t.exports={inject:function(){C||(C=!0,g.EventEmitter.injectReactEventListener(_),g.EventPluginHub.injectEventPluginOrder(s),g.EventPluginHub.injectInstanceHandle(m),g.EventPluginHub.injectMount(v),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:b,EnterLeaveEventPlugin:a,ChangeEventPlugin:i,SelectEventPlugin:T,BeforeInputEventPlugin:o}),g.NativeComponent.injectGenericComponentClass(d),g.NativeComponent.injectTextComponentClass(f),g.Class.injectMixin(c),g.DOMProperty.injectDOMPropertyConfig(u),g.DOMProperty.injectDOMPropertyConfig(S),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(E),g.Updates.injectBatchingStrategy(p),g.RootIndex.injectCreateReactRootIndex(l.canUseDOM?r.createReactRootIndex:y.createReactRootIndex),g.Component.injectEnvironment(h))}}},function(t,e,n){"use strict";var o=n(4),i=null;t.exports=function(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}},function(t,e,n){"use strict";var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&o[t.type]||"textarea"===e)}},function(t,e,n){"use strict";var o=n(13),i=n(35),r=n(3),s=n(14),a={initialize:s,close:function(){h.isBatchingUpdates=!1}},l=[{initialize:s,close:o.flushBatchedUpdates.bind(o)},a];function u(){this.reinitializeTransaction()}r(u.prototype,i.Mixin,{getTransactionWrappers:function(){return l}});var c=new u,h={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,o,i,r){var s=h.isBatchingUpdates;h.isBatchingUpdates=!0,s?t(e,n,o,i,r):c.perform(t,null,e,n,o,i,r)}};t.exports=h},function(t,e,n){"use strict";t.exports=function(t){try{t.focus()}catch(e){}}},function(t,e,n){"use strict";var o={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};var i=["Webkit","ms","Moz","O"];Object.keys(o).forEach((function(t){i.forEach((function(e){o[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(e,t)]=o[t]}))}));var r={isUnitlessNumber:o,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};t.exports=r},function(t,e,n){"use strict";var o=n(11),i=n(37),r=n(14),s=n(58),a="<<anonymous>>",l={array:c("array"),bool:c("boolean"),func:c("function"),number:c("number"),object:c("object"),string:c("string"),any:u(r.thatReturns(null)),arrayOf:function(t){return u((function(e,n,o,r,s){var a=e[n];if(!Array.isArray(a)){var l=i[r],u=p(a);return new Error("Invalid "+l+" `"+s+"` of type `"+u+"` supplied to `"+o+"`, expected an array.")}for(var c=0;c<a.length;c++){var h=t(a,c,o,r,s+"["+c+"]","SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(h instanceof Error)return h}return null}))},element:u((function(t,e,n,r,s){if(!o.isValidElement(t[e])){var a=i[r];return new Error("Invalid "+a+" `"+s+"` supplied to `"+n+"`, expected a single ReactElement.")}return null})),instanceOf:function(t){return u((function(e,n,o,r,s){if(!(e[n]instanceof t)){var l=i[r],u=t.name||a,c=function(t){if(!t.constructor||!t.constructor.name)return"<<anonymous>>";return t.constructor.name}(e[n]);return new Error("Invalid "+l+" `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected instance of `"+u+"`.")}return null}))},node:u((function(t,e,n,o,r){if(!h(t[e])){var s=i[o];return new Error("Invalid "+s+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")}return null})),objectOf:function(t){return u((function(e,n,o,r,s){var a=e[n],l=p(a);if("object"!==l){var u=i[r];return new Error("Invalid "+u+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected an object.")}for(var c in a)if(a.hasOwnProperty(c)){var h=t(a,c,o,r,s+"."+c,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(h instanceof Error)return h}return null}))},oneOf:function(t){if(!Array.isArray(t))return u((function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")}));return u((function(e,n,o,r,s){for(var a=e[n],l=0;l<t.length;l++)if(a===t[l])return null;var u=i[r],c=JSON.stringify(t);return new Error("Invalid "+u+" `"+s+"` of value `"+a+"` supplied to `"+o+"`, expected one of "+c+".")}))},oneOfType:function(t){if(!Array.isArray(t))return u((function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")}));return u((function(e,n,o,r,s){for(var a=0;a<t.length;a++){if(null==(0,t[a])(e,n,o,r,s,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return null}var l=i[r];return new Error("Invalid "+l+" `"+s+"` supplied to `"+o+"`.")}))},shape:function(t){return u((function(e,n,o,r,s){var a=e[n],l=p(a);if("object"!==l){var u=i[r];return new Error("Invalid "+u+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.")}for(var c in t){var h=t[c];if(h){var d=h(a,c,o,r,s+"."+c,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(d)return d}}return null}))}};function u(t){function e(e,n,o,r,s,l){if(r=r||a,l=l||o,null==n[o]){var u=i[s];return e?new Error("Required "+u+" `"+l+"` was not specified in `"+r+"`."):null}return t(n,o,r,s,l)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function c(t){return u((function(e,n,o,r,s){var a=e[n];if(p(a)!==t){var l=i[r],u=function(t){var e=p(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}(a);return new Error("Invalid "+l+" `"+s+"` of type `"+u+"` supplied to `"+o+"`, expected `"+t+"`.")}return null}))}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||o.isValidElement(t))return!0;var e=s(t);if(!e)return!1;var n,i=e.call(t);if(e!==t.entries){for(;!(n=i.next()).done;)if(!h(n.value))return!1}else for(;!(n=i.next()).done;){var r=n.value;if(r&&!h(r[1]))return!1}return!0;default:return!1}}function p(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}t.exports=l},function(t,e,n){"use strict";var o=n(17),i=n(11),r=n(14),s=n(59),a=o.twoArgumentPooler,l=o.fourArgumentPooler,u=/\/(?!\/)/g;function c(t){return(""+t).replace(u,"//")}function h(t,e){this.func=t,this.context=e,this.count=0}function p(t,e,n){var o=t.func,i=t.context;o.call(i,e,t.count++)}function d(t,e,n,o){this.result=t,this.keyPrefix=e,this.func=n,this.context=o,this.count=0}function f(t,e,n){var o=t.result,s=t.keyPrefix,a=t.func,l=t.context,u=a.call(l,e,t.count++);Array.isArray(u)?_(u,o,n,r.thatReturnsArgument):null!=u&&(i.isValidElement(u)&&(u=i.cloneAndReplaceKey(u,s+(u!==e?c(u.key||"")+"/":"")+n)),o.push(u))}function _(t,e,n,o,i){var r="";null!=n&&(r=c(n)+"/");var a=d.getPooled(e,r,o,i);s(t,f,a),d.release(a)}function g(t,e,n){return null}h.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},o.addPoolingTo(h,a),d.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},o.addPoolingTo(d,l);var m={forEach:function(t,e,n){if(null==t)return t;var o=h.getPooled(e,n);s(t,p,o),h.release(o)},map:function(t,e,n){if(null==t)return t;var o=[];return _(t,o,null,e,n),o},mapIntoWithKeyPrefixInternal:_,count:function(t,e){return s(t,g,null)},toArray:function(t){var e=[];return _(t,e,null,r.thatReturnsArgument),e}};t.exports=m},function(t,e,n){"use strict";var o=n(57),i=n(5),r=n(13),s=n(3),a=(n(2),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2));function l(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=o.getValue(t);null!=e&&u(this,Boolean(t.multiple),e)}}function u(t,e,n){var o,r,s=i.getNode(t._rootNodeID).options;if(e){for(o={},r=0;r<n.length;r++)o[""+n[r]]=!0;for(r=0;r<s.length;r++){var a=o.hasOwnProperty(s[r].value);s[r].selected!==a&&(s[r].selected=a)}}else{for(o=""+n,r=0;r<s.length;r++)if(s[r].value===o)return void(s[r].selected=!0);s.length&&(s[0].selected=!0)}}var c={valueContextKey:a,getNativeProps:function(t,e,n){return s({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=o.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,onChange:h.bind(t),wasMultiple:Boolean(e.multiple)}},processChildContext:function(t,e,n){var o=s({},n);return o[a]=t._wrapperState.initialValue,o},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var i=o.getValue(e);null!=i?(t._wrapperState.pendingUpdate=!1,u(t,Boolean(e.multiple),i)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?u(t,Boolean(e.multiple),e.defaultValue):u(t,Boolean(e.multiple),e.multiple?[]:""))}};function h(t){var e=this._currentElement.props,n=o.executeOnChange(e,t);return this._wrapperState.pendingUpdate=!0,r.asap(l,this),n}t.exports=c},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(t===e)return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var r=o.bind(e),s=0;s<n.length;s++)if(!r(n[s])||t[n[s]]!==e[n[s]])return!1;return!0}},function(t,e,n){"use strict";var o=n(14),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:o}},registerDefault:function(){}};t.exports=i},function(t,e,n){"use strict";var o=n(90),i=n(11),r=(n(36),n(37),n(91)),s=n(3),a=n(26),l=n(1),u=n(30),c=n(18),h=(n(2),c({mixins:null})),p=u({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),d=[];var f={mixins:p.DEFINE_MANY,statics:p.DEFINE_MANY,propTypes:p.DEFINE_MANY,contextTypes:p.DEFINE_MANY,childContextTypes:p.DEFINE_MANY,getDefaultProps:p.DEFINE_MANY_MERGED,getInitialState:p.DEFINE_MANY_MERGED,getChildContext:p.DEFINE_MANY_MERGED,render:p.DEFINE_ONCE,componentWillMount:p.DEFINE_MANY,componentDidMount:p.DEFINE_MANY,componentWillReceiveProps:p.DEFINE_MANY,shouldComponentUpdate:p.DEFINE_ONCE,componentWillUpdate:p.DEFINE_MANY,componentDidUpdate:p.DEFINE_MANY,componentWillUnmount:p.DEFINE_MANY,updateComponent:p.OVERRIDE_BASE},_={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)m(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=s({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=s({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=E(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=s({},t.propTypes,e)},statics:function(t,e){!function(t,e){if(!e)return;for(var n in e){var o=e[n];if(e.hasOwnProperty(n))n in _&&l(!1),n in t&&l(!1),t[n]=o}}(t,e)},autobind:function(){}};function g(t,e){var n=f.hasOwnProperty(e)?f[e]:null;b.hasOwnProperty(e)&&n!==p.OVERRIDE_BASE&&l(!1),t.hasOwnProperty(e)&&n!==p.DEFINE_MANY&&n!==p.DEFINE_MANY_MERGED&&l(!1)}function m(t,e){if(e){"function"===typeof e&&l(!1),i.isValidElement(e)&&l(!1);var n=t.prototype;for(var o in e.hasOwnProperty(h)&&_.mixins(t,e.mixins),e)if(e.hasOwnProperty(o)&&o!==h){var r=e[o];if(g(n,o),_.hasOwnProperty(o))_[o](t,r);else{var s=f.hasOwnProperty(o),a=n.hasOwnProperty(o);if("function"===typeof r&&!s&&!a&&!1!==e.autobind)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[o]=r,n[o]=r;else if(a){var u=f[o];(!s||u!==p.DEFINE_MANY_MERGED&&u!==p.DEFINE_MANY)&&l(!1),u===p.DEFINE_MANY_MERGED?n[o]=E(n[o],r):u===p.DEFINE_MANY&&(n[o]=T(n[o],r))}else n[o]=r}}}}function v(t,e){for(var n in t&&e&&"object"===typeof t&&"object"===typeof e||l(!1),e)e.hasOwnProperty(n)&&(void 0!==t[n]&&l(!1),t[n]=e[n]);return t}function E(t,e){return function(){var n=t.apply(this,arguments),o=e.apply(this,arguments);if(null==n)return o;if(null==o)return n;var i={};return v(i,n),v(i,o),i}}function T(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function y(t,e){return e.bind(t)}var b={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(t,e){this.updater.enqueueSetProps(this,t),e&&this.updater.enqueueCallback(this,e)},replaceProps:function(t,e){this.updater.enqueueReplaceProps(this,t),e&&this.updater.enqueueCallback(this,e)}},S=function(){};s(S.prototype,o.prototype,b);var C={createClass:function(t){var e=function(t,e,n){this.__reactAutoBindMap&&function(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=y(t,n)}}(this),this.props=t,this.context=e,this.refs=a,this.updater=n||r,this.state=null;var o=this.getInitialState?this.getInitialState():null;("object"!==typeof o||Array.isArray(o))&&l(!1),this.state=o};for(var n in(e.prototype=new S).constructor=e,d.forEach(m.bind(null,e)),m(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render||l(!1),f)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){d.push(t)}}};t.exports=C},function(t,e,n){"use strict";var o=n(91),i=(n(34),n(26)),r=n(1);n(2);function s(t,e,n){this.props=t,this.context=e,this.refs=i,this.updater=n||o}s.prototype.isReactComponent={},s.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&r(!1),this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e)},s.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t)},t.exports=s},function(t,e,n){"use strict";n(2);function o(t,e){0}var i={isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){o()},enqueueReplaceState:function(t,e){o()},enqueueSetState:function(t,e){o()},enqueueSetProps:function(t,e){o()},enqueueReplaceProps:function(t,e){o()}};t.exports=i},function(t,e,n){"use strict";var o=n(156),i=n(75),r=n(82),s=n(93);var a={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:a.hasSelectionCapabilities(t)?a.getSelection(t):null}},restoreSelection:function(t){var e,n=s(),o=t.focusedElem,l=t.selectionRange;n!==o&&(e=o,i(document.documentElement,e))&&(a.hasSelectionCapabilities(o)&&a.setSelection(o,l),r(o))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=o.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if("undefined"===typeof i&&(i=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var r=t.createTextRange();r.collapse(!0),r.moveStart("character",n),r.moveEnd("character",i-n),r.select()}else o.setOffsets(t,e)}};t.exports=a},function(t,e,n){"use strict";t.exports=function(){if("undefined"===typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}},function(t,e,n){"use strict";var o=n(11),i=n(36),r=(n(37),n(15)),s=(n(34),n(58)),a=n(1);n(2);function l(){if(r.current){var t=r.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}var u={},c={};function h(t,e){if(t._store&&!t._store.validated&&null==t.key){t._store.validated=!0;(function(t,e,n){var o=l();if(!o){var i="string"===typeof n?n:n.displayName||n.name;i&&(o=" Check the top-level render call using <"+i+">.")}var s=u[t]||(u[t]={});if(s[o])return null;s[o]=!0;var a={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};e&&e._owner&&e._owner!==r.current&&(a.childOwner=" It was passed a child from "+e._owner.getName()+".")})("uniqueKey",t,e)}}function p(t,e){if("object"===typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];o.isValidElement(i)&&h(i,e)}else if(o.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var r=s(t);if(r&&r!==t.entries)for(var a,l=r.call(t);!(a=l.next()).done;)o.isValidElement(a.value)&&h(a.value,e)}}function d(t){var e=t.type;if("function"===typeof e){var n=e.displayName||e.name;e.propTypes&&function(t,e,n,o){for(var i in e)if(e.hasOwnProperty(i)){var r;try{"function"!==typeof e[i]&&a(!1),r=e[i](n,i,t,o,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(s){r=s}if(r instanceof Error&&!(r.message in c)){c[r.message]=!0;l()}}}(n,e.propTypes,t.props,i.prop),e.getDefaultProps}}var f={createElement:function(t,e,n){var i="string"===typeof t||"function"===typeof t,r=o.createElement.apply(this,arguments);if(null==r)return r;if(i)for(var s=2;s<arguments.length;s++)p(arguments[s],t);return d(r),r},createFactory:function(t){var e=f.createElement.bind(null,t);return e.type=t,e},cloneElement:function(t,e,n){for(var i=o.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)p(arguments[r],i.type);return d(i),i}};t.exports=f},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(98)},,function(t,e,n){"use strict";var o=n(42),i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var f=i?Symbol.for("react.memo"):60115,_=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var g="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function T(t,e,n){this.props=t,this.context=e,this.refs=E,this.updater=n||v}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=E,this.updater=n||v}T.prototype.isReactComponent={},T.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},T.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=T.prototype;var S=b.prototype=new y;S.constructor=b,o(S,T.prototype),S.isPureReactComponent=!0;var C={current:null},k={current:null},D=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function R(t,e,n){var o,i={},s=null,a=null;if(null!=e)for(o in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)D.call(e,o)&&!I.hasOwnProperty(o)&&(i[o]=e[o]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(o in l=t.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:r,type:t,key:s,ref:a,props:i,_owner:k.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===r}var O=/\/+/g,w=[];function x(t,e,n,o){if(w.length){var i=w.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=o,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:o,count:0}}function N(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>w.length&&w.push(t)}function M(t,e,n){return null==t?0:function t(e,n,o,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case s:l=!0}}if(l)return o(i,e,""===n?"."+L(e,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=n+L(a=e[u],u);l+=t(a,c,o,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=t(a=a.value,c=n+L(a,u++),o,i);else if("object"===a)throw o=""+e,Error(m(31,"[object Object]"===o?"object with keys {"+Object.keys(e).join(", ")+"}":o,""));return l}(t,"",e,n)}function L(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function B(t,e){t.func.call(t.context,e,t.count++)}function P(t,e,n){var o=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,o,n,(function(t){return t})):null!=t&&(A(t)&&(t=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(O,"$&/")+"/")+n)),o.push(t))}function F(t,e,n,o,i){var r="";null!=n&&(r=(""+n).replace(O,"$&/")+"/"),M(t,P,e=x(e,r,o,i)),N(e)}function U(){var t=C.current;if(null===t)throw Error(m(321));return t}var V={Children:{map:function(t,e,n){if(null==t)return t;var o=[];return F(t,o,null,e,n),o},forEach:function(t,e,n){if(null==t)return t;M(t,B,e=x(null,null,e,n)),N(e)},count:function(t){return M(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!A(t))throw Error(m(143));return t}},createRef:function(){return{current:null}},Component:T,PureComponent:b,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:p,render:t}},lazy:function(t){return{$$typeof:_,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:f,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return U().useCallback(t,e)},useContext:function(t,e){return U().useContext(t,e)},useEffect:function(t,e){return U().useEffect(t,e)},useImperativeHandle:function(t,e,n){return U().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return U().useLayoutEffect(t,e)},useMemo:function(t,e){return U().useMemo(t,e)},useReducer:function(t,e,n){return U().useReducer(t,e,n)},useRef:function(t){return U().useRef(t)},useState:function(t){return U().useState(t)},Fragment:a,Profiler:u,StrictMode:l,Suspense:d,createElement:R,cloneElement:function(t,e,n){if(null===t||void 0===t)throw Error(m(267,t));var i=o({},t.props),s=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=k.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)D.call(e,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:r,type:t.type,key:s,ref:a,props:i,_owner:l}},createFactory:function(t){var e=R.bind(null,t);return e.type=t,e},isValidElement:A,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:o}},H={default:V},G=H&&V||H;t.exports=G.default||G},function(t,e,n){"use strict";var o=n(0),i=n(42),r=n(99);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!o)throw Error(s(227));var a=null,l={};function u(){if(a)for(var t in l){var e=l[t],n=a.indexOf(t);if(!(-1<n))throw Error(s(96,t));if(!h[n]){if(!e.extractEvents)throw Error(s(97,t));for(var o in h[n]=e,n=e.eventTypes){var i=void 0,r=n[o],u=e,d=o;if(p.hasOwnProperty(d))throw Error(s(99,d));p[d]=r;var f=r.phasedRegistrationNames;if(f){for(i in f)f.hasOwnProperty(i)&&c(f[i],u,d);i=!0}else r.registrationName?(c(r.registrationName,u,d),i=!0):i=!1;if(!i)throw Error(s(98,o,t))}}}}function c(t,e,n){if(d[t])throw Error(s(100,t));d[t]=e,f[t]=e.eventTypes[n].dependencies}var h=[],p={},d={},f={};function _(t,e,n,o,i,r,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var g=!1,m=null,v=!1,E=null,T={onError:function(t){g=!0,m=t}};function y(t,e,n,o,i,r,s,a,l){g=!1,m=null,_.apply(T,arguments)}var b=null,S=null,C=null;function k(t,e,n){var o=t.type||"unknown-event";t.currentTarget=C(n),function(t,e,n,o,i,r,a,l,u){if(y.apply(this,arguments),g){if(!g)throw Error(s(198));var c=m;g=!1,m=null,v||(v=!0,E=c)}}(o,e,void 0,t),t.currentTarget=null}function D(t,e){if(null==e)throw Error(s(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function I(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var R=null;function A(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var o=0;o<e.length&&!t.isPropagationStopped();o++)k(t,e[o],n[o]);else e&&k(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function O(t){if(null!==t&&(R=D(R,t)),t=R,R=null,t){if(I(t,A),R)throw Error(s(95));if(v)throw t=E,v=!1,E=null,t}}var w={injectEventPluginOrder:function(t){if(a)throw Error(s(101));a=Array.prototype.slice.call(t),u()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var o=t[e];if(!l.hasOwnProperty(e)||l[e]!==o){if(l[e])throw Error(s(102,e));l[e]=o,n=!0}}n&&u()}};function x(t,e){var n=t.stateNode;if(!n)return null;var o=b(n);if(!o)return null;n=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(o=!o.disabled)||(o=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!o;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var N=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;N.hasOwnProperty("ReactCurrentDispatcher")||(N.ReactCurrentDispatcher={current:null}),N.hasOwnProperty("ReactCurrentBatchConfig")||(N.ReactCurrentBatchConfig={suspense:null});var M=/^(.*)[\\\/]/,L="function"===typeof Symbol&&Symbol.for,B=L?Symbol.for("react.element"):60103,P=L?Symbol.for("react.portal"):60106,F=L?Symbol.for("react.fragment"):60107,U=L?Symbol.for("react.strict_mode"):60108,V=L?Symbol.for("react.profiler"):60114,H=L?Symbol.for("react.provider"):60109,G=L?Symbol.for("react.context"):60110,W=L?Symbol.for("react.concurrent_mode"):60111,X=L?Symbol.for("react.forward_ref"):60112,z=L?Symbol.for("react.suspense"):60113,J=L?Symbol.for("react.suspense_list"):60120,K=L?Symbol.for("react.memo"):60115,Y=L?Symbol.for("react.lazy"):60116;L&&Symbol.for("react.fundamental"),L&&Symbol.for("react.responder"),L&&Symbol.for("react.scope");var j="function"===typeof Symbol&&Symbol.iterator;function q(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=j&&t[j]||t["@@iterator"])?t:null}function Q(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case F:return"Fragment";case P:return"Portal";case V:return"Profiler";case U:return"StrictMode";case z:return"Suspense";case J:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case G:return"Context.Consumer";case H:return"Context.Provider";case X:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case K:return Q(t.type);case Y:if(t=1===t._status?t._result:null)return Q(t)}return null}function Z(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var o=t._debugOwner,i=t._debugSource,r=Q(t.type);n=null,o&&(n=Q(o.type)),o=r,r="",i?r=" (at "+i.fileName.replace(M,"")+":"+i.lineNumber+")":n&&(r=" (created by "+n+")"),n="\n    in "+(o||"Unknown")+r}e+=n,t=t.return}while(t);return e}var $=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),tt=null,et=null,nt=null;function ot(t){if(t=S(t)){if("function"!==typeof tt)throw Error(s(280));var e=b(t.stateNode);tt(t.stateNode,t.type,e)}}function it(t){et?nt?nt.push(t):nt=[t]:et=t}function rt(){if(et){var t=et,e=nt;if(nt=et=null,ot(t),e)for(t=0;t<e.length;t++)ot(e[t])}}function st(t,e){return t(e)}function at(t,e,n,o){return t(e,n,o)}function lt(){}var ut=st,ct=!1,ht=!1;function pt(){null===et&&null===nt||(lt(),rt())}new Map;var dt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft=Object.prototype.hasOwnProperty,_t={},gt={};function mt(t,e,n,o,i,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){vt[t]=new mt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];vt[e]=new mt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){vt[t]=new mt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){vt[t]=new mt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){vt[t]=new mt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){vt[t]=new mt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){vt[t]=new mt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){vt[t]=new mt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){vt[t]=new mt(t,5,!1,t.toLowerCase(),null,!1)}));var Et=/[\-:]([a-z])/g;function Tt(t){return t[1].toUpperCase()}function yt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t,e,n,o){var i=vt.hasOwnProperty(e)?vt[e]:null;(null!==i?0===i.type:!o&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,o){if(null===e||"undefined"===typeof e||function(t,e,n,o){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,o)&&(n=null),o||null===i?function(t){return!!ft.call(gt,t)||!ft.call(_t,t)&&(dt.test(t)?gt[t]=!0:(_t[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,o=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}function St(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Ct(t){t._valueTracker||(t._valueTracker=function(t){var e=St(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){o=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(t){o=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function kt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=St(t)?t.checked?"true":"false":t.value),(t=o)!==n&&(e.setValue(t),!0)}function Dt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function It(t,e){var n=null==e.defaultValue?"":e.defaultValue,o=null!=e.checked?e.checked:e.defaultChecked;n=yt(null!=e.value?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Rt(t,e){null!=(e=e.checked)&&bt(t,"checked",e,!1)}function At(t,e){Rt(t,e);var n=yt(e.value),o=e.type;if(null!=n)"number"===o?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===o||"reset"===o)return void t.removeAttribute("value");e.hasOwnProperty("value")?wt(t,e.type,n):e.hasOwnProperty("defaultValue")&&wt(t,e.type,yt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ot(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!("submit"!==o&&"reset"!==o||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function wt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function xt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return o.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Nt(t,e,n,o){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&o&&(t[n].defaultSelected=!0)}else{for(n=""+yt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(o&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Mt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lt(t,e){var n=e.value;if(null==n){if(n=e.defaultValue,null!=(e=e.children)){if(null!=n)throw Error(s(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(s(93));e=e[0]}n=e}null==n&&(n="")}t._wrapperState={initialValue:yt(n)}}function Bt(t,e){var n=yt(e.value),o=yt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=o&&(t.defaultValue=""+o)}function Pt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Et,Tt);vt[e]=new mt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Et,Tt);vt[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Et,Tt);vt[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){vt[t]=new mt(t,1,!1,t.toLowerCase(),null,!1)})),vt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){vt[t]=new mt(t,1,!1,t.toLowerCase(),null,!0)}));var Ft={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ut(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ht,Gt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,o,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Ft.svg||"innerHTML"in t)t.innerHTML=e;else{for((Ht=Ht||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ht.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Wt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Xt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zt={animationend:Xt("Animation","AnimationEnd"),animationiteration:Xt("Animation","AnimationIteration"),animationstart:Xt("Animation","AnimationStart"),transitionend:Xt("Transition","TransitionEnd")},Jt={},Kt={};function Yt(t){if(Jt[t])return Jt[t];if(!zt[t])return t;var e,n=zt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Kt)return Jt[t]=n[e];return t}$&&(Kt=document.createElement("div").style,"AnimationEvent"in window||(delete zt.animationend.animation,delete zt.animationiteration.animation,delete zt.animationstart.animation),"TransitionEvent"in window||delete zt.transitionend.transition);var jt=Yt("animationend"),qt=Yt("animationiteration"),Qt=Yt("animationstart"),Zt=Yt("transitionend"),$t="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function te(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ne(t){if(te(t)!==t)throw Error(s(188))}function oe(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,o=e;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null!==(o=i.return)){n=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return ne(i),t;if(r===o)return ne(i),e;r=r.sibling}throw Error(s(188))}if(n.return!==o.return)n=i,o=r;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,o=r;break}if(l===o){a=!0,o=i,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,o=i;break}if(l===o){a=!0,o=r,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==o)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var ie,re,se,ae=!1,le=[],ue=null,ce=null,he=null,pe=new Map,de=new Map,fe=[],_e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ge="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function me(t,e,n,o){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:o}}function ve(t,e){switch(t){case"focus":case"blur":ue=null;break;case"dragenter":case"dragleave":ce=null;break;case"mouseover":case"mouseout":he=null;break;case"pointerover":case"pointerout":pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":de.delete(e.pointerId)}}function Ee(t,e,n,o,i){return null===t||t.nativeEvent!==i?(t=me(e,n,o,i),null!==e&&(null!==(e=fo(e))&&re(e)),t):(t.eventSystemFlags|=o,t)}function Te(t){var e=po(t.target);if(null!==e){var n=te(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ee(n)))return t.blockedOn=e,void r.unstable_runWithPriority(t.priority,(function(){se(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;var e=wn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);if(null!==e){var n=fo(e);return null!==n&&re(n),t.blockedOn=e,!1}return!0}function be(t,e,n){ye(t)&&n.delete(e)}function Se(){for(ae=!1;0<le.length;){var t=le[0];if(null!==t.blockedOn){null!==(t=fo(t.blockedOn))&&ie(t);break}var e=wn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);null!==e?t.blockedOn=e:le.shift()}null!==ue&&ye(ue)&&(ue=null),null!==ce&&ye(ce)&&(ce=null),null!==he&&ye(he)&&(he=null),pe.forEach(be),de.forEach(be)}function Ce(t,e){t.blockedOn===e&&(t.blockedOn=null,ae||(ae=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Se)))}function ke(t){function e(e){return Ce(e,t)}if(0<le.length){Ce(le[0],t);for(var n=1;n<le.length;n++){var o=le[n];o.blockedOn===t&&(o.blockedOn=null)}}for(null!==ue&&Ce(ue,t),null!==ce&&Ce(ce,t),null!==he&&Ce(he,t),pe.forEach(e),de.forEach(e),n=0;n<fe.length;n++)(o=fe[n]).blockedOn===t&&(o.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)Te(n),null===n.blockedOn&&fe.shift()}function De(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Ie(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Re(t,e,n){(e=x(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=D(n._dispatchListeners,e),n._dispatchInstances=D(n._dispatchInstances,t))}function Ae(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Ie(e);for(e=n.length;0<e--;)Re(n[e],"captured",t);for(e=0;e<n.length;e++)Re(n[e],"bubbled",t)}}function Oe(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=x(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=D(n._dispatchListeners,e),n._dispatchInstances=D(n._dispatchInstances,t))}function we(t){t&&t.dispatchConfig.registrationName&&Oe(t._targetInst,null,t)}function xe(t){I(t,Ae)}function Ne(){return!0}function Me(){return!1}function Le(t,e,n,o){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=o:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Ne:Me,this.isPropagationStopped=Me,this}function Be(t,e,n,o){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,o),i}return new this(t,e,n,o)}function Pe(t){if(!(t instanceof this))throw Error(s(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Fe(t){t.eventPool=[],t.getPooled=Be,t.release=Pe}i(Le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ne)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ne)},persist:function(){this.isPersistent=Ne},isPersistent:Me,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Me,this._dispatchInstances=this._dispatchListeners=null}}),Le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Le.extend=function(t){function e(){}function n(){return o.apply(this,arguments)}var o=this;e.prototype=o.prototype;var r=new e;return i(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=i({},o.Interface,t),n.extend=o.extend,Fe(n),n},Fe(Le);var Ue=Le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ve=Le.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),He=Le.extend({view:null,detail:null}),Ge=He.extend({relatedTarget:null});function We(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Je={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ke(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Je[t])&&!!e[t]}function Ye(){return Ke}for(var je=He.extend({key:function(t){if(t.key){var e=Xe[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=We(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ze[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ye,charCode:function(t){return"keypress"===t.type?We(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?We(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),qe=0,Qe=0,Ze=!1,$e=!1,tn=He.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ye,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=qe;return qe=t.screenX,Ze?"mousemove"===t.type?t.screenX-e:0:(Ze=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Qe;return Qe=t.screenY,$e?"mousemove"===t.type?t.screenY-e:0:($e=!0,0)}}),en=tn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nn=tn.extend({dataTransfer:null}),on=He.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ye}),rn=Le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=tn.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),an=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[jt,"animationEnd",2],[qt,"animationIteration",2],[Qt,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Zt,"transitionEnd",2],["waiting","waiting",2]],ln={},un={},cn=0;cn<an.length;cn++){var hn=an[cn],pn=hn[0],dn=hn[1],fn=hn[2],_n="on"+(dn[0].toUpperCase()+dn.slice(1)),gn={phasedRegistrationNames:{bubbled:_n,captured:_n+"Capture"},dependencies:[pn],eventPriority:fn};ln[dn]=gn,un[pn]=gn}var mn={eventTypes:ln,getEventPriority:function(t){return void 0!==(t=un[t])?t.eventPriority:2},extractEvents:function(t,e,n,o){var i=un[t];if(!i)return null;switch(t){case"keypress":if(0===We(n))return null;case"keydown":case"keyup":t=je;break;case"blur":case"focus":t=Ge;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=on;break;case jt:case qt:case Qt:t=Ue;break;case Zt:t=rn;break;case"scroll":t=He;break;case"wheel":t=sn;break;case"copy":case"cut":case"paste":t=Ve;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=en;break;default:t=Le}return xe(e=t.getPooled(i,e,n,o)),e}},vn=r.unstable_UserBlockingPriority,En=r.unstable_runWithPriority,Tn=mn.getEventPriority,yn=10,bn=[];function Sn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var o=n;if(3===o.tag)o=o.stateNode.containerInfo;else{for(;o.return;)o=o.return;o=3!==o.tag?null:o.stateNode.containerInfo}if(!o)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=po(o)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=De(t.nativeEvent);o=t.topLevelType;for(var r=t.nativeEvent,s=t.eventSystemFlags,a=null,l=0;l<h.length;l++){var u=h[l];u&&(u=u.extractEvents(o,e,r,i,s))&&(a=D(a,u))}O(a)}}var Cn=!0;function kn(t,e){Dn(e,t,!1)}function Dn(t,e,n){switch(Tn(e)){case 0:var o=In.bind(null,e,1);break;case 1:o=Rn.bind(null,e,1);break;default:o=On.bind(null,e,1)}n?t.addEventListener(e,o,!0):t.addEventListener(e,o,!1)}function In(t,e,n){ct||lt();var o=On,i=ct;ct=!0;try{at(o,t,e,n)}finally{(ct=i)||pt()}}function Rn(t,e,n){En(vn,On.bind(null,t,e,n))}function An(t,e,n,o){if(bn.length){var i=bn.pop();i.topLevelType=t,i.eventSystemFlags=e,i.nativeEvent=n,i.targetInst=o,t=i}else t={topLevelType:t,eventSystemFlags:e,nativeEvent:n,targetInst:o,ancestors:[]};try{if(e=Sn,n=t,ht)e(n,void 0);else{ht=!0;try{ut(e,n,void 0)}finally{ht=!1,pt()}}}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,bn.length<yn&&bn.push(t)}}function On(t,e,n){if(Cn)if(0<le.length&&-1<_e.indexOf(t))t=me(null,t,e,n),le.push(t);else{var o=wn(t,e,n);null===o?ve(t,n):-1<_e.indexOf(t)?(t=me(o,t,e,n),le.push(t)):function(t,e,n,o){switch(e){case"focus":return ue=Ee(ue,t,e,n,o),!0;case"dragenter":return ce=Ee(ce,t,e,n,o),!0;case"mouseover":return he=Ee(he,t,e,n,o),!0;case"pointerover":var i=o.pointerId;return pe.set(i,Ee(pe.get(i)||null,t,e,n,o)),!0;case"gotpointercapture":return i=o.pointerId,de.set(i,Ee(de.get(i)||null,t,e,n,o)),!0}return!1}(o,t,e,n)||(ve(t,n),An(t,e,n,null))}}function wn(t,e,n){var o=De(n);if(null!==(o=po(o))){var i=te(o);if(null===i)o=null;else{var r=i.tag;if(13===r){if(null!==(o=ee(i)))return o;o=null}else if(3===r){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return An(t,e,n,o),null}function xn(t){if(!$)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var Nn=new("function"===typeof WeakMap?WeakMap:Map);function Mn(t){var e=Nn.get(t);return void 0===e&&(e=new Set,Nn.set(t,e)),e}function Ln(t,e,n){if(!n.has(t)){switch(t){case"scroll":Dn(e,"scroll",!0);break;case"focus":case"blur":Dn(e,"focus",!0),Dn(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":xn(t)&&Dn(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$t.indexOf(t)&&kn(t,e)}n.add(t)}}var Bn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pn=["Webkit","ms","Moz","O"];function Fn(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Bn.hasOwnProperty(t)&&Bn[t]?(""+e).trim():e+"px"}function Un(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var o=0===n.indexOf("--"),i=Fn(n,e[n],o);"float"===n&&(n="cssFloat"),o?t.setProperty(n,i):t[n]=i}}Object.keys(Bn).forEach((function(t){Pn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bn[e]=Bn[t]}))}));var Vn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hn(t,e){if(e){if(Vn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62,""))}}function Gn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Wn(t,e){var n=Mn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=f[e];for(var o=0;o<e.length;o++)Ln(e[o],t,n)}function Xn(){}function zn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Jn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kn(t,e){var n,o=Jn(t);for(t=0;o;){if(3===o.nodeType){if(n=t+o.textContent.length,t<=e&&n>=e)return{node:o,offset:e-t};t=n}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Jn(o)}}function Yn(){for(var t=window,e=zn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(o){n=!1}if(!n)break;e=zn((t=e.contentWindow).document)}return e}function jn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var qn="$",Qn="/$",Zn="$?",$n="$!",to=null,eo=null;function no(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function oo(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var io="function"===typeof setTimeout?setTimeout:void 0,ro="function"===typeof clearTimeout?clearTimeout:void 0;function so(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function ao(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===qn||n===$n||n===Zn){if(0===e)return t;e--}else n===Qn&&e++}t=t.previousSibling}return null}var lo=Math.random().toString(36).slice(2),uo="__reactInternalInstance$"+lo,co="__reactEventHandlers$"+lo,ho="__reactContainere$"+lo;function po(t){var e=t[uo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ho]||n[uo]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ao(t);null!==t;){if(n=t[uo])return n;t=ao(t)}return e}n=(t=n).parentNode}return null}function fo(t){return!(t=t[uo]||t[ho])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _o(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function go(t){return t[co]||null}var mo=null,vo=null,Eo=null;function To(){if(Eo)return Eo;var t,e,n=vo,o=n.length,i="value"in mo?mo.value:mo.textContent,r=i.length;for(t=0;t<o&&n[t]===i[t];t++);var s=o-t;for(e=1;e<=s&&n[o-e]===i[r-e];e++);return Eo=i.slice(t,1<e?1-e:void 0)}var yo=Le.extend({data:null}),bo=Le.extend({data:null}),So=[9,13,27,32],Co=$&&"CompositionEvent"in window,ko=null;$&&"documentMode"in document&&(ko=document.documentMode);var Do=$&&"TextEvent"in window&&!ko,Io=$&&(!Co||ko&&8<ko&&11>=ko),Ro=String.fromCharCode(32),Ao={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Oo=!1;function wo(t,e){switch(t){case"keyup":return-1!==So.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function xo(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var No=!1;var Mo={eventTypes:Ao,extractEvents:function(t,e,n,o){var i;if(Co)t:{switch(t){case"compositionstart":var r=Ao.compositionStart;break t;case"compositionend":r=Ao.compositionEnd;break t;case"compositionupdate":r=Ao.compositionUpdate;break t}r=void 0}else No?wo(t,n)&&(r=Ao.compositionEnd):"keydown"===t&&229===n.keyCode&&(r=Ao.compositionStart);return r?(Io&&"ko"!==n.locale&&(No||r!==Ao.compositionStart?r===Ao.compositionEnd&&No&&(i=To()):(vo="value"in(mo=o)?mo.value:mo.textContent,No=!0)),r=yo.getPooled(r,e,n,o),i?r.data=i:null!==(i=xo(n))&&(r.data=i),xe(r),i=r):i=null,(t=Do?function(t,e){switch(t){case"compositionend":return xo(e);case"keypress":return 32!==e.which?null:(Oo=!0,Ro);case"textInput":return(t=e.data)===Ro&&Oo?null:t;default:return null}}(t,n):function(t,e){if(No)return"compositionend"===t||!Co&&wo(t,e)?(t=To(),Eo=vo=mo=null,No=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Io&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=bo.getPooled(Ao.beforeInput,e,n,o)).data=t,xe(e)):e=null,null===i?e:null===e?i:[i,e]}},Lo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Lo[t.type]:"textarea"===e}var Po={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Fo(t,e,n){return(t=Le.getPooled(Po.change,t,e,n)).type="change",it(n),xe(t),t}var Uo=null,Vo=null;function Ho(t){O(t)}function Go(t){if(kt(_o(t)))return t}function Wo(t,e){if("change"===t)return e}var Xo=!1;function zo(){Uo&&(Uo.detachEvent("onpropertychange",Jo),Vo=Uo=null)}function Jo(t){if("value"===t.propertyName&&Go(Vo))if(t=Fo(Vo,t,De(t)),ct)O(t);else{ct=!0;try{st(Ho,t)}finally{ct=!1,pt()}}}function Ko(t,e,n){"focus"===t?(zo(),Vo=n,(Uo=e).attachEvent("onpropertychange",Jo)):"blur"===t&&zo()}function Yo(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Go(Vo)}function jo(t,e){if("click"===t)return Go(e)}function qo(t,e){if("input"===t||"change"===t)return Go(e)}$&&(Xo=xn("input")&&(!document.documentMode||9<document.documentMode));var Qo,Zo={eventTypes:Po,_isInputEventSupported:Xo,extractEvents:function(t,e,n,o){var i=e?_o(e):window,r=i.nodeName&&i.nodeName.toLowerCase();if("select"===r||"input"===r&&"file"===i.type)var s=Wo;else if(Bo(i))if(Xo)s=qo;else{s=Yo;var a=Ko}else(r=i.nodeName)&&"input"===r.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=jo);if(s&&(s=s(t,e)))return Fo(s,n,o);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&wt(i,"number",i.value)}},$o={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ti={eventTypes:$o,extractEvents:function(t,e,n,o,i){var r="mouseover"===t||"pointerover"===t,s="mouseout"===t||"pointerout"===t;if(r&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!r)return null;if(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,s?(s=e,null!==(e=(e=n.relatedTarget||n.toElement)?po(e):null)&&(e!==(r=te(e))||5!==e.tag&&6!==e.tag)&&(e=null)):s=null,s===e)return null;if("mouseout"===t||"mouseover"===t)var a=tn,l=$o.mouseLeave,u=$o.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=en,l=$o.pointerLeave,u=$o.pointerEnter,c="pointer");if(t=null==s?i:_o(s),i=null==e?i:_o(e),(l=a.getPooled(l,s,n,o)).type=c+"leave",l.target=t,l.relatedTarget=i,(o=a.getPooled(u,e,n,o)).type=c+"enter",o.target=i,o.relatedTarget=t,c=e,(a=s)&&c)t:{for(t=c,s=0,e=u=a;e;e=Ie(e))s++;for(e=0,i=t;i;i=Ie(i))e++;for(;0<s-e;)u=Ie(u),s--;for(;0<e-s;)t=Ie(t),e--;for(;s--;){if(u===t||u===t.alternate)break t;u=Ie(u),t=Ie(t)}u=null}else u=null;for(t=u,u=[];a&&a!==t&&(null===(s=a.alternate)||s!==t);)u.push(a),a=Ie(a);for(a=[];c&&c!==t&&(null===(s=c.alternate)||s!==t);)a.push(c),c=Ie(c);for(c=0;c<u.length;c++)Oe(u[c],"bubbled",l);for(c=a.length;0<c--;)Oe(a[c],"captured",o);return n===Qo?(Qo=null,[l]):(Qo=n,[l,o])}};var ei="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},ni=Object.prototype.hasOwnProperty;function oi(t,e){if(ei(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++)if(!ni.call(e,n[o])||!ei(t[n[o]],e[n[o]]))return!1;return!0}var ii=$&&"documentMode"in document&&11>=document.documentMode,ri={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},si=null,ai=null,li=null,ui=!1;function ci(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return ui||null==si||si!==zn(n)?null:("selectionStart"in(n=si)&&jn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},li&&oi(li,n)?null:(li=n,(t=Le.getPooled(ri.select,ai,t,e)).type="select",t.target=si,xe(t),t))}var hi={eventTypes:ri,extractEvents:function(t,e,n,o){var i,r=o.window===o?o.document:9===o.nodeType?o:o.ownerDocument;if(!(i=!r)){t:{r=Mn(r),i=f.onSelect;for(var s=0;s<i.length;s++)if(!r.has(i[s])){r=!1;break t}r=!0}i=!r}if(i)return null;switch(r=e?_o(e):window,t){case"focus":(Bo(r)||"true"===r.contentEditable)&&(si=r,ai=e,li=null);break;case"blur":li=ai=si=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":return ui=!1,ci(n,o);case"selectionchange":if(ii)break;case"keydown":case"keyup":return ci(n,o)}return null}};w.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b=go,S=fo,C=_o,w.injectEventPluginsByName({SimpleEventPlugin:mn,EnterLeaveEventPlugin:ti,ChangeEventPlugin:Zo,SelectEventPlugin:hi,BeforeInputEventPlugin:Mo}),new Set;var pi=[],di=-1;function fi(t){0>di||(t.current=pi[di],pi[di]=null,di--)}function _i(t,e){di++,pi[di]=t.current,t.current=e}var gi={},mi={current:gi},vi={current:!1},Ei=gi;function Ti(t,e){var n=t.type.contextTypes;if(!n)return gi;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=e[i];return o&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function yi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function bi(t){fi(vi),fi(mi)}function Si(t){fi(vi),fi(mi)}function Ci(t,e,n){if(mi.current!==gi)throw Error(s(168));_i(mi,e),_i(vi,n)}function ki(t,e,n){var o=t.stateNode;if(t=e.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var r in o=o.getChildContext())if(!(r in t))throw Error(s(108,Q(e)||"Unknown",r));return i({},n,{},o)}function Di(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||gi,Ei=mi.current,_i(mi,e),_i(vi,vi.current),!0}function Ii(t,e,n){var o=t.stateNode;if(!o)throw Error(s(169));n?(e=ki(t,e,Ei),o.__reactInternalMemoizedMergedChildContext=e,fi(vi),fi(mi),_i(mi,e)):fi(vi),_i(vi,n)}var Ri=r.unstable_runWithPriority,Ai=r.unstable_scheduleCallback,Oi=r.unstable_cancelCallback,wi=r.unstable_shouldYield,xi=r.unstable_requestPaint,Ni=r.unstable_now,Mi=r.unstable_getCurrentPriorityLevel,Li=r.unstable_ImmediatePriority,Bi=r.unstable_UserBlockingPriority,Pi=r.unstable_NormalPriority,Fi=r.unstable_LowPriority,Ui=r.unstable_IdlePriority,Vi={},Hi=void 0!==xi?xi:function(){},Gi=null,Wi=null,Xi=!1,zi=Ni(),Ji=1e4>zi?Ni:function(){return Ni()-zi};function Ki(){switch(Mi()){case Li:return 99;case Bi:return 98;case Pi:return 97;case Fi:return 96;case Ui:return 95;default:throw Error(s(332))}}function Yi(t){switch(t){case 99:return Li;case 98:return Bi;case 97:return Pi;case 96:return Fi;case 95:return Ui;default:throw Error(s(332))}}function ji(t,e){return t=Yi(t),Ri(t,e)}function qi(t,e,n){return t=Yi(t),Ai(t,e,n)}function Qi(t){return null===Gi?(Gi=[t],Wi=Ai(Li,$i)):Gi.push(t),Vi}function Zi(){if(null!==Wi){var t=Wi;Wi=null,Oi(t)}$i()}function $i(){if(!Xi&&null!==Gi){Xi=!0;var t=0;try{var e=Gi;ji(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Gi=null}catch(n){throw null!==Gi&&(Gi=Gi.slice(t+1)),Ai(Li,Zi),n}finally{Xi=!1}}}var tr=3;function er(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function nr(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var or={current:null},ir=null,rr=null,sr=null;function ar(){sr=rr=ir=null}function lr(t,e){var n=t.type._context;_i(or,n._currentValue),n._currentValue=e}function ur(t){var e=or.current;fi(or),t.type._context._currentValue=e}function cr(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function hr(t,e){ir=t,sr=rr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(zs=!0),t.firstContext=null)}function pr(t,e){if(sr!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(sr=t,e=1073741823),e={context:t,observedBits:e,next:null},null===rr){if(null===ir)throw Error(s(308));rr=e,ir.dependencies={expirationTime:0,firstContext:e,responders:null}}else rr=rr.next=e;return t._currentValue}var dr=!1;function fr(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function _r(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function gr(t,e){return{expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function mr(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function vr(t,e){var n=t.alternate;if(null===n){var o=t.updateQueue,i=null;null===o&&(o=t.updateQueue=fr(t.memoizedState))}else o=t.updateQueue,i=n.updateQueue,null===o?null===i?(o=t.updateQueue=fr(t.memoizedState),i=n.updateQueue=fr(n.memoizedState)):o=t.updateQueue=_r(i):null===i&&(i=n.updateQueue=_r(o));null===i||o===i?mr(o,e):null===o.lastUpdate||null===i.lastUpdate?(mr(o,e),mr(i,e)):(mr(o,e),i.lastUpdate=e)}function Er(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=fr(t.memoizedState):Tr(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function Tr(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=_r(e)),e}function yr(t,e,n,o,r,s){switch(n.tag){case 1:return"function"===typeof(t=n.payload)?t.call(s,o,r):t;case 3:t.effectTag=-4097&t.effectTag|64;case 0:if(null===(r="function"===typeof(t=n.payload)?t.call(s,o,r):t)||void 0===r)break;return i({},o,r);case 2:dr=!0}return o}function br(t,e,n,o,i){dr=!1;for(var r=(e=Tr(t,e)).baseState,s=null,a=0,l=e.firstUpdate,u=r;null!==l;){var c=l.expirationTime;c<i?(null===s&&(s=l,r=u),a<c&&(a=c)):(Il(c,l.suspenseConfig),u=yr(t,0,l,u,n,o),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=l:(e.lastEffect.nextEffect=l,e.lastEffect=l))),l=l.next}for(c=null,l=e.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<i?(null===c&&(c=l,null===s&&(r=u)),a<h&&(a=h)):(u=yr(t,0,l,u,n,o),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=l:(e.lastCapturedEffect.nextEffect=l,e.lastCapturedEffect=l))),l=l.next}null===s&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===s&&null===c&&(r=u),e.baseState=r,e.firstUpdate=s,e.firstCapturedUpdate=c,Rl(a),t.expirationTime=a,t.memoizedState=u}function Sr(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),Cr(e.firstEffect,n),e.firstEffect=e.lastEffect=null,Cr(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function Cr(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var o=e;if("function"!==typeof n)throw Error(s(191,n));n.call(o)}t=t.nextEffect}}var kr=N.ReactCurrentBatchConfig,Dr=(new o.Component).refs;function Ir(t,e,n,o){n=null===(n=n(o,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,null!==(o=t.updateQueue)&&0===t.expirationTime&&(o.baseState=n)}var Rr={isMounted:function(t){return!!(t=t._reactInternalFiber)&&te(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var o=fl(),i=kr.suspense;(i=gr(o=_l(o,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),vr(t,i),gl(t,o)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var o=fl(),i=kr.suspense;(i=gr(o=_l(o,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),vr(t,i),gl(t,o)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=fl(),o=kr.suspense;(o=gr(n=_l(n,t,o),o)).tag=2,void 0!==e&&null!==e&&(o.callback=e),vr(t,o),gl(t,n)}};function Ar(t,e,n,o,i,r,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(o,r,s):!e.prototype||!e.prototype.isPureReactComponent||(!oi(n,o)||!oi(i,r))}function Or(t,e,n){var o=!1,i=gi,r=e.contextType;return"object"===typeof r&&null!==r?r=pr(r):(i=yi(e)?Ei:mi.current,r=(o=null!==(o=e.contextTypes)&&void 0!==o)?Ti(t,i):gi),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Rr,t.stateNode=e,e._reactInternalFiber=t,o&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function wr(t,e,n,o){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,o),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&Rr.enqueueReplaceState(e,e.state,null)}function xr(t,e,n,o){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Dr;var r=e.contextType;"object"===typeof r&&null!==r?i.context=pr(r):(r=yi(e)?Ei:mi.current,i.context=Ti(t,r)),null!==(r=t.updateQueue)&&(br(t,r,n,i,o),i.state=t.memoizedState),"function"===typeof(r=e.getDerivedStateFromProps)&&(Ir(t,e,r,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Rr.enqueueReplaceState(i,i.state,null),null!==(r=t.updateQueue)&&(br(t,r,n,i,o),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var Nr=Array.isArray;function Mr(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var o=n.stateNode}if(!o)throw Error(s(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=o.refs;e===Dr&&(e=o.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function Lr(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Br(t){function e(e,n){if(t){var o=e.lastEffect;null!==o?(o.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,o){if(!t)return null;for(;null!==o;)e(n,o),o=o.sibling;return null}function o(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Yl(t,e)).index=0,t.sibling=null,t}function r(e,n,o){return e.index=o,t?null!==(o=e.alternate)?(o=o.index)<n?(e.effectTag=2,n):o:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,o){return null===e||6!==e.tag?((e=Ql(n,t.mode,o)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,o){return null!==e&&e.elementType===n.type?((o=i(e,n.props)).ref=Mr(t,e,n),o.return=t,o):((o=jl(n.type,n.key,n.props,null,t.mode,o)).ref=Mr(t,e,n),o.return=t,o)}function c(t,e,n,o){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Zl(n,t.mode,o)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,o,r){return null===e||7!==e.tag?((e=ql(n,t.mode,o,r)).return=t,e):((e=i(e,n)).return=t,e)}function p(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Ql(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case B:return(n=jl(e.type,e.key,e.props,null,t.mode,n)).ref=Mr(t,null,e),n.return=t,n;case P:return(e=Zl(e,t.mode,n)).return=t,e}if(Nr(e)||q(e))return(e=ql(e,t.mode,n,null)).return=t,e;Lr(t,e)}return null}function d(t,e,n,o){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(t,e,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case B:return n.key===i?n.type===F?h(t,e,n.props.children,o,i):u(t,e,n,o):null;case P:return n.key===i?c(t,e,n,o):null}if(Nr(n)||q(n))return null!==i?null:h(t,e,n,o,null);Lr(t,n)}return null}function f(t,e,n,o,i){if("string"===typeof o||"number"===typeof o)return l(e,t=t.get(n)||null,""+o,i);if("object"===typeof o&&null!==o){switch(o.$$typeof){case B:return t=t.get(null===o.key?n:o.key)||null,o.type===F?h(e,t,o.props.children,i,o.key):u(e,t,o,i);case P:return c(e,t=t.get(null===o.key?n:o.key)||null,o,i)}if(Nr(o)||q(o))return h(e,t=t.get(n)||null,o,i,null);Lr(e,o)}return null}function _(i,s,a,l){for(var u=null,c=null,h=s,_=s=0,g=null;null!==h&&_<a.length;_++){h.index>_?(g=h,h=null):g=h.sibling;var m=d(i,h,a[_],l);if(null===m){null===h&&(h=g);break}t&&h&&null===m.alternate&&e(i,h),s=r(m,s,_),null===c?u=m:c.sibling=m,c=m,h=g}if(_===a.length)return n(i,h),u;if(null===h){for(;_<a.length;_++)null!==(h=p(i,a[_],l))&&(s=r(h,s,_),null===c?u=h:c.sibling=h,c=h);return u}for(h=o(i,h);_<a.length;_++)null!==(g=f(h,i,_,a[_],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?_:g.key),s=r(g,s,_),null===c?u=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(i,t)})),u}function g(i,a,l,u){var c=q(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,_=a,g=a=0,m=null,v=l.next();null!==_&&!v.done;g++,v=l.next()){_.index>g?(m=_,_=null):m=_.sibling;var E=d(i,_,v.value,u);if(null===E){null===_&&(_=m);break}t&&_&&null===E.alternate&&e(i,_),a=r(E,a,g),null===h?c=E:h.sibling=E,h=E,_=m}if(v.done)return n(i,_),c;if(null===_){for(;!v.done;g++,v=l.next())null!==(v=p(i,v.value,u))&&(a=r(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(_=o(i,_);!v.done;g++,v=l.next())null!==(v=f(_,i,g,v.value,u))&&(t&&null!==v.alternate&&_.delete(null===v.key?g:v.key),a=r(v,a,g),null===h?c=v:h.sibling=v,h=v);return t&&_.forEach((function(t){return e(i,t)})),c}return function(t,o,r,l){var u="object"===typeof r&&null!==r&&r.type===F&&null===r.key;u&&(r=r.props.children);var c="object"===typeof r&&null!==r;if(c)switch(r.$$typeof){case B:t:{for(c=r.key,u=o;null!==u;){if(u.key===c){if(7===u.tag?r.type===F:u.elementType===r.type){n(t,u.sibling),(o=i(u,r.type===F?r.props.children:r.props)).ref=Mr(t,u,r),o.return=t,t=o;break t}n(t,u);break}e(t,u),u=u.sibling}r.type===F?((o=ql(r.props.children,t.mode,l,r.key)).return=t,t=o):((l=jl(r.type,r.key,r.props,null,t.mode,l)).ref=Mr(t,o,r),l.return=t,t=l)}return a(t);case P:t:{for(u=r.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===r.containerInfo&&o.stateNode.implementation===r.implementation){n(t,o.sibling),(o=i(o,r.children||[])).return=t,t=o;break t}n(t,o);break}e(t,o),o=o.sibling}(o=Zl(r,t.mode,l)).return=t,t=o}return a(t)}if("string"===typeof r||"number"===typeof r)return r=""+r,null!==o&&6===o.tag?(n(t,o.sibling),(o=i(o,r)).return=t,t=o):(n(t,o),(o=Ql(r,t.mode,l)).return=t,t=o),a(t);if(Nr(r))return _(t,o,r,l);if(q(r))return g(t,o,r,l);if(c&&Lr(t,r),"undefined"===typeof r&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(s(152,t.displayName||t.name||"Component"))}return n(t,o)}}var Pr=Br(!0),Fr=Br(!1),Ur={},Vr={current:Ur},Hr={current:Ur},Gr={current:Ur};function Wr(t){if(t===Ur)throw Error(s(174));return t}function Xr(t,e){_i(Gr,e),_i(Hr,t),_i(Vr,Ur);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vt(null,"");break;default:e=Vt(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}fi(Vr),_i(Vr,e)}function zr(t){fi(Vr),fi(Hr),fi(Gr)}function Jr(t){Wr(Gr.current);var e=Wr(Vr.current),n=Vt(e,t.type);e!==n&&(_i(Hr,t),_i(Vr,n))}function Kr(t){Hr.current===t&&(fi(Vr),fi(Hr))}var Yr={current:0};function jr(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Zn||n.data===$n))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function qr(t,e){return{responder:t,props:e}}var Qr=N.ReactCurrentDispatcher,Zr=N.ReactCurrentBatchConfig,$r=0,ts=null,es=null,ns=null,os=null,is=null,rs=null,ss=0,as=null,ls=0,us=!1,cs=null,hs=0;function ps(){throw Error(s(321))}function ds(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ei(t[n],e[n]))return!1;return!0}function fs(t,e,n,o,i,r){if($r=r,ts=e,ns=null!==t?t.memoizedState:null,Qr.current=null===ns?Ns:Ms,e=n(o,i),us){do{us=!1,hs+=1,ns=null!==t?t.memoizedState:null,rs=os,as=is=es=null,Qr.current=Ms,e=n(o,i)}while(us);cs=null,hs=0}if(Qr.current=xs,(t=ts).memoizedState=os,t.expirationTime=ss,t.updateQueue=as,t.effectTag|=ls,t=null!==es&&null!==es.next,$r=0,rs=is=os=ns=es=ts=null,ss=0,as=null,ls=0,t)throw Error(s(300));return e}function _s(){Qr.current=xs,$r=0,rs=is=os=ns=es=ts=null,ss=0,as=null,ls=0,us=!1,cs=null,hs=0}function gs(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===is?os=is=t:is=is.next=t,is}function ms(){if(null!==rs)rs=(is=rs).next,ns=null!==(es=ns)?es.next:null;else{if(null===ns)throw Error(s(310));var t={memoizedState:(es=ns).memoizedState,baseState:es.baseState,queue:es.queue,baseUpdate:es.baseUpdate,next:null};is=null===is?os=t:is.next=t,ns=es.next}return is}function vs(t,e){return"function"===typeof e?e(t):e}function Es(t){var e=ms(),n=e.queue;if(null===n)throw Error(s(311));if(n.lastRenderedReducer=t,0<hs){var o=n.dispatch;if(null!==cs){var i=cs.get(n);if(void 0!==i){cs.delete(n);var r=e.memoizedState;do{r=t(r,i.action),i=i.next}while(null!==i);return ei(r,e.memoizedState)||(zs=!0),e.memoizedState=r,e.baseUpdate===n.last&&(e.baseState=r),n.lastRenderedState=r,[r,o]}}return[e.memoizedState,o]}o=n.last;var a=e.baseUpdate;if(r=e.baseState,null!==a?(null!==o&&(o.next=null),o=a.next):o=null!==o?o.next:null,null!==o){var l=i=null,u=o,c=!1;do{var h=u.expirationTime;h<$r?(c||(c=!0,l=a,i=r),h>ss&&Rl(ss=h)):(Il(h,u.suspenseConfig),r=u.eagerReducer===t?u.eagerState:t(r,u.action)),a=u,u=u.next}while(null!==u&&u!==o);c||(l=a,i=r),ei(r,e.memoizedState)||(zs=!0),e.memoizedState=r,e.baseUpdate=l,e.baseState=i,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Ts(t){var e=gs();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:vs,lastRenderedState:t}).dispatch=ws.bind(null,ts,t),[e.memoizedState,t]}function ys(t){return Es(vs)}function bs(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},null===as?(as={lastEffect:null}).lastEffect=t.next=t:null===(e=as.lastEffect)?as.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,as.lastEffect=t),t}function Ss(t,e,n,o){var i=gs();ls|=t,i.memoizedState=bs(e,n,void 0,void 0===o?null:o)}function Cs(t,e,n,o){var i=ms();o=void 0===o?null:o;var r=void 0;if(null!==es){var s=es.memoizedState;if(r=s.destroy,null!==o&&ds(o,s.deps))return void bs(0,n,r,o)}ls|=t,i.memoizedState=bs(e,n,r,o)}function ks(t,e){return Ss(516,192,t,e)}function Ds(t,e){return Cs(516,192,t,e)}function Is(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Rs(){}function As(t,e){return gs().memoizedState=[t,void 0===e?null:e],t}function Os(t,e){var n=ms();e=void 0===e?null:e;var o=n.memoizedState;return null!==o&&null!==e&&ds(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function ws(t,e,n){if(!(25>hs))throw Error(s(301));var o=t.alternate;if(t===ts||null!==o&&o===ts)if(us=!0,t={expirationTime:$r,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===cs&&(cs=new Map),void 0===(n=cs.get(e)))cs.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{var i=fl(),r=kr.suspense;r={expirationTime:i=_l(i,t,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var a=e.last;if(null===a)r.next=r;else{var l=a.next;null!==l&&(r.next=l),a.next=r}if(e.last=r,0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var u=e.lastRenderedState,c=o(u,n);if(r.eagerReducer=o,r.eagerState=c,ei(c,u))return}catch(h){}gl(t,i)}}var xs={readContext:pr,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useResponder:ps,useDeferredValue:ps,useTransition:ps},Ns={readContext:pr,useCallback:As,useContext:pr,useEffect:ks,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ss(4,36,Is.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ss(4,36,t,e)},useMemo:function(t,e){var n=gs();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=gs();return e=void 0!==n?n(e):e,o.memoizedState=o.baseState=e,t=(t=o.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ws.bind(null,ts,t),[o.memoizedState,t]},useRef:function(t){return t={current:t},gs().memoizedState=t},useState:Ts,useDebugValue:Rs,useResponder:qr,useDeferredValue:function(t,e){var n=Ts(t),o=n[0],i=n[1];return ks((function(){r.unstable_next((function(){var n=Zr.suspense;Zr.suspense=void 0===e?null:e;try{i(t)}finally{Zr.suspense=n}}))}),[t,e]),o},useTransition:function(t){var e=Ts(!1),n=e[0],o=e[1];return[As((function(e){o(!0),r.unstable_next((function(){var n=Zr.suspense;Zr.suspense=void 0===t?null:t;try{o(!1),e()}finally{Zr.suspense=n}}))}),[t,n]),n]}},Ms={readContext:pr,useCallback:Os,useContext:pr,useEffect:Ds,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Cs(4,36,Is.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cs(4,36,t,e)},useMemo:function(t,e){var n=ms();e=void 0===e?null:e;var o=n.memoizedState;return null!==o&&null!==e&&ds(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:Es,useRef:function(){return ms().memoizedState},useState:ys,useDebugValue:Rs,useResponder:qr,useDeferredValue:function(t,e){var n=ys(),o=n[0],i=n[1];return Ds((function(){r.unstable_next((function(){var n=Zr.suspense;Zr.suspense=void 0===e?null:e;try{i(t)}finally{Zr.suspense=n}}))}),[t,e]),o},useTransition:function(t){var e=ys(),n=e[0],o=e[1];return[Os((function(e){o(!0),r.unstable_next((function(){var n=Zr.suspense;Zr.suspense=void 0===t?null:t;try{o(!1),e()}finally{Zr.suspense=n}}))}),[t,n]),n]}},Ls=null,Bs=null,Ps=!1;function Fs(t,e){var n=Jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Us(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Vs(t){if(Ps){var e=Bs;if(e){var n=e;if(!Us(t,e)){if(!(e=so(n.nextSibling))||!Us(t,e))return t.effectTag=-1025&t.effectTag|2,Ps=!1,void(Ls=t);Fs(Ls,n)}Ls=t,Bs=so(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ps=!1,Ls=t}}function Hs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ls=t}function Gs(t){if(t!==Ls)return!1;if(!Ps)return Hs(t),Ps=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!oo(e,t.memoizedProps))for(e=Bs;e;)Fs(t,e),e=so(e.nextSibling);if(Hs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===Qn){if(0===e){Bs=so(t.nextSibling);break t}e--}else n!==qn&&n!==$n&&n!==Zn||e++}t=t.nextSibling}Bs=null}}else Bs=Ls?so(t.stateNode.nextSibling):null;return!0}function Ws(){Bs=Ls=null,Ps=!1}var Xs=N.ReactCurrentOwner,zs=!1;function Js(t,e,n,o){e.child=null===t?Fr(e,null,n,o):Pr(e,t.child,n,o)}function Ks(t,e,n,o,i){n=n.render;var r=e.ref;return hr(e,i),o=fs(t,e,n,o,r,i),null===t||zs?(e.effectTag|=1,Js(t,e,o,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),ca(t,e,i))}function Ys(t,e,n,o,i,r){if(null===t){var s=n.type;return"function"!==typeof s||Kl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=jl(n.type,null,o,null,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,js(t,e,s,o,i,r))}return s=t.child,i<r&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:oi)(i,o)&&t.ref===e.ref)?ca(t,e,r):(e.effectTag|=1,(t=Yl(s,o)).ref=e.ref,t.return=e,e.child=t)}function js(t,e,n,o,i,r){return null!==t&&oi(t.memoizedProps,o)&&t.ref===e.ref&&(zs=!1,i<r)?ca(t,e,r):Qs(t,e,n,o,r)}function qs(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Qs(t,e,n,o,i){var r=yi(n)?Ei:mi.current;return r=Ti(e,r),hr(e,i),n=fs(t,e,n,o,r,i),null===t||zs?(e.effectTag|=1,Js(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),ca(t,e,i))}function Zs(t,e,n,o,i){if(yi(n)){var r=!0;Di(e)}else r=!1;if(hr(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Or(e,n,o),xr(e,n,o,i),o=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=pr(u):u=Ti(e,u=yi(n)?Ei:mi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==o||l!==u)&&wr(e,s,o,u),dr=!1;var p=e.memoizedState;l=s.state=p;var d=e.updateQueue;null!==d&&(br(e,d,o,s,i),l=e.memoizedState),a!==o||p!==l||vi.current||dr?("function"===typeof c&&(Ir(e,n,c,o),l=e.memoizedState),(a=dr||Ar(e,n,a,o,p,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=o,e.memoizedState=l),s.props=o,s.state=l,s.context=u,o=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),o=!1)}else s=e.stateNode,a=e.memoizedProps,s.props=e.type===e.elementType?a:nr(e.type,a),l=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=pr(u):u=Ti(e,u=yi(n)?Ei:mi.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==o||l!==u)&&wr(e,s,o,u),dr=!1,l=e.memoizedState,p=s.state=l,null!==(d=e.updateQueue)&&(br(e,d,o,s,i),p=e.memoizedState),a!==o||l!==p||vi.current||dr?("function"===typeof c&&(Ir(e,n,c,o),p=e.memoizedState),(c=dr||Ar(e,n,a,o,l,p,u))?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(o,p,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(o,p,u)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=o,e.memoizedState=p),s.props=o,s.state=p,s.context=u,o=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),o=!1);return $s(t,e,n,o,r,i)}function $s(t,e,n,o,i,r){qs(t,e);var s=0!==(64&e.effectTag);if(!o&&!s)return i&&Ii(e,n,!1),ca(t,e,r);o=e.stateNode,Xs.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return e.effectTag|=1,null!==t&&s?(e.child=Pr(e,t.child,null,r),e.child=Pr(e,null,a,r)):Js(t,e,a,r),e.memoizedState=o.state,i&&Ii(e,n,!0),e.child}function ta(t){var e=t.stateNode;e.pendingContext?Ci(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ci(0,e.context,!1),Xr(t,e.containerInfo)}var ea,na,oa,ia,ra={dehydrated:null,retryTime:0};function sa(t,e,n){var o,i=e.mode,r=e.pendingProps,s=Yr.current,a=!1;if((o=0!==(64&e.effectTag))||(o=0!==(2&s)&&(null===t||null!==t.memoizedState)),o?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(s|=1),_i(Yr,1&s),null===t){if(void 0!==r.fallback&&Vs(e),a){if(a=r.fallback,(r=ql(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,r.child=t;null!==t;)t.return=r,t=t.sibling;return(n=ql(a,i,n,null)).return=e,r.sibling=n,e.memoizedState=ra,e.child=r,n}return i=r.children,e.memoizedState=null,e.child=Fr(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,a){if(r=r.fallback,(n=Yl(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=Yl(i,r,i.expirationTime)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=ra,e.child=n,i}return n=Pr(e,t.child,r.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=r.fallback,(r=ql(null,i,0,null)).return=e,r.child=t,null!==t&&(t.return=r),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,r.child=t;null!==t;)t.return=r,t=t.sibling;return(n=ql(a,i,n,null)).return=e,r.sibling=n,n.effectTag|=2,r.childExpirationTime=0,e.memoizedState=ra,e.child=r,n}return e.memoizedState=null,e.child=Pr(e,t,r.children,n)}function aa(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),cr(t.return,e)}function la(t,e,n,o,i,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,last:o,tail:n,tailExpiration:0,tailMode:i,lastEffect:r}:(s.isBackwards=e,s.rendering=null,s.last=o,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=r)}function ua(t,e,n){var o=e.pendingProps,i=o.revealOrder,r=o.tail;if(Js(t,e,o.children,n),0!==(2&(o=Yr.current)))o=1&o|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&aa(t,n);else if(19===t.tag)aa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(_i(Yr,o),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===jr(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),la(e,!1,i,n,r,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===jr(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}la(e,!0,n,null,r,e.lastEffect);break;case"together":la(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ca(t,e,n){null!==t&&(e.dependencies=t.dependencies);var o=e.expirationTime;if(0!==o&&Rl(o),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Yl(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Yl(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function ha(t){t.effectTag|=4}function pa(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?e||null===t.tail?t.tail=null:t.tail.sibling=null:o.sibling=null}}function da(t){switch(t.tag){case 1:yi(t.type)&&bi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(zr(),Si(),0!==(64&(e=t.effectTag)))throw Error(s(285));return t.effectTag=-4097&e|64,t;case 5:return Kr(t),null;case 13:return fi(Yr),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return fi(Yr),null;case 4:return zr(),null;case 10:return ur(t),null;default:return null}}function fa(t,e){return{value:t,source:e,stack:Z(e)}}ea=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},na=function(){},oa=function(t,e,n,o,r){var s=t.memoizedProps;if(s!==o){var a,l,u=e.stateNode;switch(Wr(Vr.current),t=null,n){case"input":s=Dt(u,s),o=Dt(u,o),t=[];break;case"option":s=xt(u,s),o=xt(u,o),t=[];break;case"select":s=i({},s,{value:void 0}),o=i({},o,{value:void 0}),t=[];break;case"textarea":s=Mt(u,s),o=Mt(u,o),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof o.onClick&&(u.onclick=Xn)}for(a in Hn(n,o),n=null,s)if(!o.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(l in u=s[a])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(d.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in o){var c=o[a];if(u=null!=s?s[a]:void 0,o.hasOwnProperty(a)&&c!==u&&(null!=c||null!=u))if("style"===a)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(a,""+c)):"children"===a?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(d.hasOwnProperty(a)?(null!=c&&Wn(r,a),t||u===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),r=t,(e.updateQueue=r)&&ha(e)}},ia=function(t,e,n,o){n!==o&&ha(e)};var _a="function"===typeof WeakSet?WeakSet:Set;function ga(t,e){var n=e.source,o=e.stack;null===o&&null!==n&&(o=Z(n)),null!==n&&Q(n.type),e=e.value,null!==t&&1===t.tag&&Q(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function ma(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Vl(t,n)}else e.current=null}function va(t,e){switch(e.tag){case 0:case 11:case 15:Ea(2,0,e);break;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,o=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:nr(e.type,n),o),t.__reactInternalSnapshotBeforeUpdate=e}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}function Ea(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var o=n=n.next;do{if(0!==(o.tag&t)){var i=o.destroy;o.destroy=void 0,void 0!==i&&i()}0!==(o.tag&e)&&(i=o.create,o.destroy=i()),o=o.next}while(o!==n)}}function Ta(t,e,n){switch("function"===typeof Xl&&Xl(e),e.tag){case 0:case 11:case 14:case 15:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var o=t.next;ji(97<n?97:n,(function(){var t=o;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(r){Vl(i,r)}}t=t.next}while(t!==o)}))}break;case 1:ma(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){Vl(t,n)}}(e,n);break;case 5:ma(e);break;case 4:Ca(t,e,n)}}function ya(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,null!==e&&ya(e)}function ba(t){return 5===t.tag||3===t.tag||4===t.tag}function Sa(t){t:{for(var e=t.return;null!==e;){if(ba(e)){var n=e;break t}e=e.return}throw Error(s(160))}switch(e=n.stateNode,n.tag){case 5:var o=!1;break;case 3:case 4:e=e.containerInfo,o=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Wt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ba(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){var r=5===i.tag||6===i.tag;if(r){var a=r?i.stateNode:i.stateNode.instance;if(n)if(o){var l=a;a=n,8===(r=e).nodeType?r.parentNode.insertBefore(l,a):r.insertBefore(l,a)}else e.insertBefore(a,n);else o?(8===(l=e).nodeType?(r=l.parentNode).insertBefore(a,l):(r=l).appendChild(a),null!==(l=l._reactRootContainer)&&void 0!==l||null!==r.onclick||(r.onclick=Xn)):e.appendChild(a)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Ca(t,e,n){for(var o,i,r=e,a=!1;;){if(!a){a=r.return;t:for(;;){if(null===a)throw Error(s(160));switch(o=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:o=o.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===r.tag||6===r.tag){t:for(var l=t,u=r,c=n,h=u;;)if(Ta(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break;for(;null===h.sibling;){if(null===h.return||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=o,u=r.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):o.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){o=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(Ta(t,r,n),null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;4===(r=r.return).tag&&(a=!1)}r.sibling.return=r.return,r=r.sibling}}function ka(t,e){switch(e.tag){case 0:case 11:case 14:case 15:Ea(4,8,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var o=e.memoizedProps,i=null!==t?t.memoizedProps:o;t=e.type;var r=e.updateQueue;if(e.updateQueue=null,null!==r){for(n[co]=o,"input"===t&&"radio"===o.type&&null!=o.name&&Rt(n,o),Gn(t,i),e=Gn(t,o),i=0;i<r.length;i+=2){var a=r[i],l=r[i+1];"style"===a?Un(n,l):"dangerouslySetInnerHTML"===a?Gt(n,l):"children"===a?Wt(n,l):bt(n,a,l,e)}switch(t){case"input":At(n,o);break;case"textarea":Bt(n,o);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!o.multiple,null!=(t=o.value)?Nt(n,!!o.multiple,t,!1):e!==!!o.multiple&&(null!=o.defaultValue?Nt(n,!!o.multiple,o.defaultValue,!0):Nt(n,!!o.multiple,o.multiple?[]:"",!1))}}}break;case 6:if(null===e.stateNode)throw Error(s(162));e.stateNode.nodeValue=e.memoizedProps;break;case 3:(e=e.stateNode).hydrate&&(e.hydrate=!1,ke(e.containerInfo));break;case 12:break;case 13:if(n=e,null===e.memoizedState?o=!1:(o=!0,n=e.child,el=Ji()),null!==n)t:for(t=n;;){if(5===t.tag)r=t.stateNode,o?"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none":(r=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Fn("display",i));else if(6===t.tag)t.stateNode.nodeValue=o?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(r=t.child.sibling).return=t,t=r;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break t;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}Da(e);break;case 19:Da(e);break;case 17:case 20:case 21:break;default:throw Error(s(163))}}function Da(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new _a),e.forEach((function(e){var o=Gl.bind(null,t,e);n.has(e)||(n.add(e),e.then(o,o))}))}}var Ia="function"===typeof WeakMap?WeakMap:Map;function Ra(t,e,n){(n=gr(n,null)).tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){il||(il=!0,rl=o),ga(t,e)},n}function Aa(t,e,n){(n=gr(n,null)).tag=3;var o=t.type.getDerivedStateFromError;if("function"===typeof o){var i=e.value;n.payload=function(){return ga(t,e),o(i)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){"function"!==typeof o&&(null===sl?sl=new Set([this]):sl.add(this),ga(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Oa,wa=Math.ceil,xa=N.ReactCurrentDispatcher,Na=N.ReactCurrentOwner,Ma=0,La=8,Ba=16,Pa=32,Fa=0,Ua=1,Va=2,Ha=3,Ga=4,Wa=5,Xa=Ma,za=null,Ja=null,Ka=0,Ya=Fa,ja=null,qa=1073741823,Qa=1073741823,Za=null,$a=0,tl=!1,el=0,nl=500,ol=null,il=!1,rl=null,sl=null,al=!1,ll=null,ul=90,cl=null,hl=0,pl=null,dl=0;function fl(){return(Xa&(Ba|Pa))!==Ma?1073741821-(Ji()/10|0):0!==dl?dl:dl=1073741821-(Ji()/10|0)}function _l(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var o=Ki();if(0===(4&e))return 99===o?1073741823:1073741822;if((Xa&Ba)!==Ma)return Ka;if(null!==n)t=er(t,0|n.timeoutMs||5e3,250);else switch(o){case 99:t=1073741823;break;case 98:t=er(t,150,100);break;case 97:case 96:t=er(t,5e3,250);break;case 95:t=2;break;default:throw Error(s(326))}return null!==za&&t===Ka&&--t,t}function gl(t,e){if(50<hl)throw hl=0,pl=null,Error(s(185));if(null!==(t=ml(t,e))){var n=Ki();1073741823===e?(Xa&La)!==Ma&&(Xa&(Ba|Pa))===Ma?yl(t):(El(t),Xa===Ma&&Zi()):El(t),(4&Xa)===Ma||98!==n&&99!==n||(null===cl?cl=new Map([[t,e]]):(void 0===(n=cl.get(t))||n>e)&&cl.set(t,e))}}function ml(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var o=t.return,i=null;if(null===o&&3===t.tag)i=t.stateNode;else for(;null!==o;){if(n=o.alternate,o.childExpirationTime<e&&(o.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===o.return&&3===o.tag){i=o.stateNode;break}o=o.return}return null!==i&&(za===i&&(Rl(e),Ya===Ga&&eu(i,Ka)),nu(i,e)),i}function vl(t){var e=t.lastExpiredTime;return 0!==e?e:tu(t,e=t.firstPendingTime)?(e=t.lastPingedTime)>(t=t.nextKnownPendingLevel)?e:t:e}function El(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Qi(yl.bind(null,t));else{var e=vl(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var o=fl();if(1073741823===e?o=99:1===e||2===e?o=95:o=0>=(o=10*(1073741821-e)-10*(1073741821-o))?99:250>=o?98:5250>=o?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=o)return;n!==Vi&&Oi(n)}t.callbackExpirationTime=e,t.callbackPriority=o,e=1073741823===e?Qi(yl.bind(null,t)):qi(o,Tl.bind(null,t),{timeout:10*(1073741821-e)-Ji()}),t.callbackNode=e}}}function Tl(t,e){if(dl=0,e)return ou(t,e=fl()),El(t),null;var n=vl(t);if(0!==n){if(e=t.callbackNode,(Xa&(Ba|Pa))!==Ma)throw Error(s(327));if(Pl(),t===za&&n===Ka||Cl(t,n),null!==Ja){var o=Xa;Xa|=Ba;for(var i=Dl();;)try{Ol();break}catch(l){kl(t,l)}if(ar(),Xa=o,xa.current=i,Ya===Ua)throw e=ja,Cl(t,n),eu(t,n),El(t),e;if(null===Ja)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,o=Ya,za=null,o){case Fa:case Ua:throw Error(s(345));case Va:ou(t,2<n?2:n);break;case Ha:if(eu(t,n),n===(o=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Nl(i)),1073741823===qa&&10<(i=el+nl-Ji())){if(tl){var r=t.lastPingedTime;if(0===r||r>=n){t.lastPingedTime=n,Cl(t,n);break}}if(0!==(r=vl(t))&&r!==n)break;if(0!==o&&o!==n){t.lastPingedTime=o;break}t.timeoutHandle=io(Ml.bind(null,t),i);break}Ml(t);break;case Ga:if(eu(t,n),n===(o=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Nl(i)),tl&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,Cl(t,n);break}if(0!==(i=vl(t))&&i!==n)break;if(0!==o&&o!==n){t.lastPingedTime=o;break}if(1073741823!==Qa?o=10*(1073741821-Qa)-Ji():1073741823===qa?o=0:(o=10*(1073741821-qa)-5e3,0>(o=(i=Ji())-o)&&(o=0),(n=10*(1073741821-n)-i)<(o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*wa(o/1960))-o)&&(o=n)),10<o){t.timeoutHandle=io(Ml.bind(null,t),o);break}Ml(t);break;case Wa:if(1073741823!==qa&&null!==Za){r=qa;var a=Za;if(0>=(o=0|a.busyMinDurationMs)?o=0:(i=0|a.busyDelayMs,o=(r=Ji()-(10*(1073741821-r)-(0|a.timeoutMs||5e3)))<=i?0:i+o-r),10<o){eu(t,n),t.timeoutHandle=io(Ml.bind(null,t),o);break}}Ml(t);break;default:throw Error(s(329))}if(El(t),t.callbackNode===e)return Tl.bind(null,t)}}return null}function yl(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,t.finishedExpirationTime===e)Ml(t);else{if((Xa&(Ba|Pa))!==Ma)throw Error(s(327));if(Pl(),t===za&&e===Ka||Cl(t,e),null!==Ja){var n=Xa;Xa|=Ba;for(var o=Dl();;)try{Al();break}catch(i){kl(t,i)}if(ar(),Xa=n,xa.current=o,Ya===Ua)throw n=ja,Cl(t,e),eu(t,e),El(t),n;if(null!==Ja)throw Error(s(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,za=null,Ml(t),El(t)}}return null}function bl(t,e){var n=Xa;Xa|=1;try{return t(e)}finally{(Xa=n)===Ma&&Zi()}}function Sl(t,e){var n=Xa;Xa&=-2,Xa|=La;try{return t(e)}finally{(Xa=n)===Ma&&Zi()}}function Cl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ro(n)),null!==Ja)for(n=Ja.return;null!==n;){var o=n;switch(o.tag){case 1:var i=o.type.childContextTypes;null!==i&&void 0!==i&&bi();break;case 3:zr(),Si();break;case 5:Kr(o);break;case 4:zr();break;case 13:case 19:fi(Yr);break;case 10:ur(o)}n=n.return}za=t,Ja=Yl(t.current,null),Ka=e,Ya=Fa,ja=null,Qa=qa=1073741823,Za=null,$a=0,tl=!1}function kl(t,e){for(;;){try{if(ar(),_s(),null===Ja||null===Ja.return)return Ya=Ua,ja=e,null;t:{var n=t,o=Ja.return,i=Ja,r=e;if(e=Ka,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==r&&"object"===typeof r&&"function"===typeof r.then){var s=r,a=0!==(1&Yr.current),l=o;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var h=l.memoizedProps;u=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!a)}}if(u){var p=l.updateQueue;if(null===p){var d=new Set;d.add(s),l.updateQueue=d}else p.add(s);if(0===(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var f=gr(1073741823,null);f.tag=2,vr(i,f)}i.expirationTime=1073741823;break t}r=void 0,i=e;var _=n.pingCache;if(null===_?(_=n.pingCache=new Ia,r=new Set,_.set(s,r)):void 0===(r=_.get(s))&&(r=new Set,_.set(s,r)),!r.has(i)){r.add(i);var g=Hl.bind(null,n,s,i);s.then(g,g)}l.effectTag|=4096,l.expirationTime=e;break t}l=l.return}while(null!==l);r=Error((Q(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Z(i))}Ya!==Wa&&(Ya=Va),r=fa(r,i),l=o;do{switch(l.tag){case 3:s=r,l.effectTag|=4096,l.expirationTime=e,Er(l,Ra(l,s,e));break t;case 1:s=r;var m=l.type,v=l.stateNode;if(0===(64&l.effectTag)&&("function"===typeof m.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===sl||!sl.has(v)))){l.effectTag|=4096,l.expirationTime=e,Er(l,Aa(l,s,e));break t}}l=l.return}while(null!==l)}Ja=xl(Ja)}catch(E){e=E;continue}break}}function Dl(){var t=xa.current;return xa.current=xs,null===t?xs:t}function Il(t,e){t<qa&&2<t&&(qa=t),null!==e&&t<Qa&&2<t&&(Qa=t,Za=e)}function Rl(t){t>$a&&($a=t)}function Al(){for(;null!==Ja;)Ja=wl(Ja)}function Ol(){for(;null!==Ja&&!wi();)Ja=wl(Ja)}function wl(t){var e=Oa(t.alternate,t,Ka);return t.memoizedProps=t.pendingProps,null===e&&(e=xl(t)),Na.current=null,e}function xl(t){Ja=t;do{var e=Ja.alternate;if(t=Ja.return,0===(2048&Ja.effectTag)){t:{var n=e,o=Ka,r=(e=Ja).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:yi(e.type)&&bi();break;case 3:zr(),Si(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===n||null===n.child)&&Gs(e)&&ha(e),na(e);break;case 5:Kr(e),o=Wr(Gr.current);var a=e.type;if(null!==n&&null!=e.stateNode)oa(n,e,a,r,o),n.ref!==e.ref&&(e.effectTag|=128);else if(r){var l=Wr(Vr.current);if(Gs(e)){var u=(r=e).stateNode;n=r.type;var c=r.memoizedProps,h=o;switch(u[uo]=r,u[co]=c,a=void 0,o=u,n){case"iframe":case"object":case"embed":kn("load",o);break;case"video":case"audio":for(u=0;u<$t.length;u++)kn($t[u],o);break;case"source":kn("error",o);break;case"img":case"image":case"link":kn("error",o),kn("load",o);break;case"form":kn("reset",o),kn("submit",o);break;case"details":kn("toggle",o);break;case"input":It(o,c),kn("invalid",o),Wn(h,"onChange");break;case"select":o._wrapperState={wasMultiple:!!c.multiple},kn("invalid",o),Wn(h,"onChange");break;case"textarea":Lt(o,c),kn("invalid",o),Wn(h,"onChange")}for(a in Hn(n,c),u=null,c)c.hasOwnProperty(a)&&(l=c[a],"children"===a?"string"===typeof l?o.textContent!==l&&(u=["children",l]):"number"===typeof l&&o.textContent!==""+l&&(u=["children",""+l]):d.hasOwnProperty(a)&&null!=l&&Wn(h,a));switch(n){case"input":Ct(o),Ot(o,c,!0);break;case"textarea":Ct(o),Pt(o);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(o.onclick=Xn)}a=u,r.updateQueue=a,(r=null!==a)&&ha(e)}else{n=e,h=a,c=r,u=9===o.nodeType?o:o.ownerDocument,l===Ft.html&&(l=Ut(h)),l===Ft.html?"script"===h?((c=u.createElement("div")).innerHTML="<script><\/script>",u=c.removeChild(c.firstChild)):"string"===typeof c.is?u=u.createElement(h,{is:c.is}):(u=u.createElement(h),"select"===h&&(h=u,c.multiple?h.multiple=!0:c.size&&(h.size=c.size))):u=u.createElementNS(l,h),(c=u)[uo]=n,c[co]=r,ea(c,e,!1,!1),e.stateNode=c;var p=o,f=Gn(h=a,n=r);switch(h){case"iframe":case"object":case"embed":kn("load",c),o=n;break;case"video":case"audio":for(o=0;o<$t.length;o++)kn($t[o],c);o=n;break;case"source":kn("error",c),o=n;break;case"img":case"image":case"link":kn("error",c),kn("load",c),o=n;break;case"form":kn("reset",c),kn("submit",c),o=n;break;case"details":kn("toggle",c),o=n;break;case"input":It(c,n),o=Dt(c,n),kn("invalid",c),Wn(p,"onChange");break;case"option":o=xt(c,n);break;case"select":c._wrapperState={wasMultiple:!!n.multiple},o=i({},n,{value:void 0}),kn("invalid",c),Wn(p,"onChange");break;case"textarea":Lt(c,n),o=Mt(c,n),kn("invalid",c),Wn(p,"onChange");break;default:o=n}Hn(h,o),u=void 0,l=h;var _=c,g=o;for(u in g)if(g.hasOwnProperty(u)){var m=g[u];"style"===u?Un(_,m):"dangerouslySetInnerHTML"===u?null!=(m=m?m.__html:void 0)&&Gt(_,m):"children"===u?"string"===typeof m?("textarea"!==l||""!==m)&&Wt(_,m):"number"===typeof m&&Wt(_,""+m):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?null!=m&&Wn(p,u):null!=m&&bt(_,u,m,f))}switch(h){case"input":Ct(c),Ot(c,n,!1);break;case"textarea":Ct(c),Pt(c);break;case"option":null!=n.value&&c.setAttribute("value",""+yt(n.value));break;case"select":(o=c).multiple=!!n.multiple,null!=(c=n.value)?Nt(o,!!n.multiple,c,!1):null!=n.defaultValue&&Nt(o,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(c.onclick=Xn)}(r=no(a,r))&&ha(e)}null!==e.ref&&(e.effectTag|=128)}else if(null===e.stateNode)throw Error(s(166));break;case 6:if(n&&null!=e.stateNode)ia(n,e,n.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(s(166));o=Wr(Gr.current),Wr(Vr.current),Gs(e)?(a=(r=e).stateNode,o=r.memoizedProps,a[uo]=r,(r=a.nodeValue!==o)&&ha(e)):(a=e,(r=(9===o.nodeType?o:o.ownerDocument).createTextNode(r))[uo]=a,e.stateNode=r)}break;case 11:break;case 13:if(fi(Yr),r=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=o;break t}r=null!==r,a=!1,null===n?void 0!==e.memoizedProps.fallback&&Gs(e):(a=null!==(o=n.memoizedState),r||null===o||null!==(o=n.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=o,o.nextEffect=c):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!a&&0!==(2&e.mode)&&(null===n&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Yr.current)?Ya===Fa&&(Ya=Ha):(Ya!==Fa&&Ya!==Ha||(Ya=Ga),0!==$a&&null!==za&&(eu(za,Ka),nu(za,$a)))),(r||a)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:zr(),na(e);break;case 10:ur(e);break;case 9:case 14:break;case 17:yi(e.type)&&bi();break;case 19:if(fi(Yr),null===(r=e.memoizedState))break;if(a=0!==(64&e.effectTag),null===(c=r.rendering)){if(a)pa(r,!1);else if(Ya!==Fa||null!==n&&0!==(64&n.effectTag))for(n=e.child;null!==n;){if(null!==(c=jr(n))){for(e.effectTag|=64,pa(r,!1),null!==(a=c.updateQueue)&&(e.updateQueue=a,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=o,a=e.child;null!==a;)n=r,(o=a).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childExpirationTime=0,o.expirationTime=n,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=c.childExpirationTime,o.expirationTime=c.expirationTime,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,n=c.dependencies,o.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),a=a.sibling;_i(Yr,1&Yr.current|2),e=e.child;break t}n=n.sibling}}else{if(!a)if(null!==(n=jr(c))){if(e.effectTag|=64,a=!0,null!==(o=n.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),pa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate){null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null);break}}else Ji()>r.tailExpiration&&1<o&&(e.effectTag|=64,a=!0,pa(r,!1),e.expirationTime=e.childExpirationTime=o-1);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(o=r.last)?o.sibling=c:e.child=c,r.last=c)}if(null!==r.tail){0===r.tailExpiration&&(r.tailExpiration=Ji()+500),o=r.tail,r.rendering=o,r.tail=o.sibling,r.lastEffect=e.lastEffect,o.sibling=null,r=Yr.current,_i(Yr,r=a?1&r|2:1&r),e=o;break t}break;case 20:case 21:break;default:throw Error(s(156,e.tag))}e=null}if(r=Ja,1===Ka||1!==r.childExpirationTime){for(a=0,o=r.child;null!==o;)(n=o.expirationTime)>a&&(a=n),(c=o.childExpirationTime)>a&&(a=c),o=o.sibling;r.childExpirationTime=a}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ja.firstEffect),null!==Ja.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ja.firstEffect),t.lastEffect=Ja.lastEffect),1<Ja.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ja:t.firstEffect=Ja,t.lastEffect=Ja))}else{if(null!==(e=da(Ja)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ja.sibling))return e;Ja=t}while(null!==Ja);return Ya===Fa&&(Ya=Wa),null}function Nl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Ml(t){var e=Ki();return ji(99,Ll.bind(null,t,e)),null}function Ll(t,e){do{Pl()}while(null!==ll);if((Xa&(Ba|Pa))!==Ma)throw Error(s(327));var n=t.finishedWork,o=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=Nl(n);if(t.firstPendingTime=i,o<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:o<=t.firstSuspendedTime&&(t.firstSuspendedTime=o-1),o<=t.lastPingedTime&&(t.lastPingedTime=0),o<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===za&&(Ja=za=null,Ka=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var r=Xa;Xa|=Pa,Na.current=null,to=Cn;var a=Yn();if(jn(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else t:{var u=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(L){l=null;break t}var p=0,d=-1,f=-1,_=0,g=0,m=a,v=null;e:for(;;){for(var E;m!==l||0!==c&&3!==m.nodeType||(d=p+c),m!==h||0!==u&&3!==m.nodeType||(f=p+u),3===m.nodeType&&(p+=m.nodeValue.length),null!==(E=m.firstChild);)v=m,m=E;for(;;){if(m===a)break e;if(v===l&&++_===c&&(d=p),v===h&&++g===u&&(f=p),null!==(E=m.nextSibling))break;v=(m=v).parentNode}m=E}l=-1===d||-1===f?null:{start:d,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;eo={focusedElem:a,selectionRange:l},Cn=!1,ol=i;do{try{Bl()}catch(L){if(null===ol)throw Error(s(330));Vl(ol,L),ol=ol.nextEffect}}while(null!==ol);ol=i;do{try{for(a=t,l=e;null!==ol;){var T=ol.effectTag;if(16&T&&Wt(ol.stateNode,""),128&T){var y=ol.alternate;if(null!==y){var b=y.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&T){case 2:Sa(ol),ol.effectTag&=-3;break;case 6:Sa(ol),ol.effectTag&=-3,ka(ol.alternate,ol);break;case 1024:ol.effectTag&=-1025;break;case 1028:ol.effectTag&=-1025,ka(ol.alternate,ol);break;case 4:ka(ol.alternate,ol);break;case 8:Ca(a,c=ol,l),ya(c)}ol=ol.nextEffect}}catch(L){if(null===ol)throw Error(s(330));Vl(ol,L),ol=ol.nextEffect}}while(null!==ol);if(b=eo,y=Yn(),T=b.focusedElem,l=b.selectionRange,y!==T&&T&&T.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(T.ownerDocument.documentElement,T)){null!==l&&jn(T)&&(y=l.start,void 0===(b=l.end)&&(b=y),"selectionStart"in T?(T.selectionStart=y,T.selectionEnd=Math.min(b,T.value.length)):(b=(y=T.ownerDocument||document)&&y.defaultView||window).getSelection&&(b=b.getSelection(),c=T.textContent.length,a=Math.min(l.start,c),l=void 0===l.end?a:Math.min(l.end,c),!b.extend&&a>l&&(c=l,l=a,a=c),c=Kn(T,a),h=Kn(T,l),c&&h&&(1!==b.rangeCount||b.anchorNode!==c.node||b.anchorOffset!==c.offset||b.focusNode!==h.node||b.focusOffset!==h.offset)&&((y=y.createRange()).setStart(c.node,c.offset),b.removeAllRanges(),a>l?(b.addRange(y),b.extend(h.node,h.offset)):(y.setEnd(h.node,h.offset),b.addRange(y))))),y=[];for(b=T;b=b.parentNode;)1===b.nodeType&&y.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof T.focus&&T.focus(),T=0;T<y.length;T++)(b=y[T]).element.scrollLeft=b.left,b.element.scrollTop=b.top}eo=null,Cn=!!to,to=null,t.current=n,ol=i;do{try{for(T=o;null!==ol;){var S=ol.effectTag;if(36&S){var C=ol.alternate;switch(b=T,(y=ol).tag){case 0:case 11:case 15:Ea(16,32,y);break;case 1:var k=y.stateNode;if(4&y.effectTag)if(null===C)k.componentDidMount();else{var D=y.elementType===y.type?C.memoizedProps:nr(y.type,C.memoizedProps);k.componentDidUpdate(D,C.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var I=y.updateQueue;null!==I&&Sr(0,I,k);break;case 3:var R=y.updateQueue;if(null!==R){if(a=null,null!==y.child)switch(y.child.tag){case 5:a=y.child.stateNode;break;case 1:a=y.child.stateNode}Sr(0,R,a)}break;case 5:var A=y.stateNode;null===C&&4&y.effectTag&&no(y.type,y.memoizedProps)&&A.focus();break;case 6:case 4:case 12:break;case 13:if(null===y.memoizedState){var O=y.alternate;if(null!==O){var w=O.memoizedState;if(null!==w){var x=w.dehydrated;null!==x&&ke(x)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(s(163))}}if(128&S){y=void 0;var N=ol.ref;if(null!==N){var M=ol.stateNode;switch(ol.tag){case 5:y=M;break;default:y=M}"function"===typeof N?N(y):N.current=y}}ol=ol.nextEffect}}catch(L){if(null===ol)throw Error(s(330));Vl(ol,L),ol=ol.nextEffect}}while(null!==ol);ol=null,Hi(),Xa=r}else t.current=n;if(al)al=!1,ll=t,ul=e;else for(ol=i;null!==ol;)e=ol.nextEffect,ol.nextEffect=null,ol=e;if(0===(e=t.firstPendingTime)&&(sl=null),1073741823===e?t===pl?hl++:(hl=0,pl=t):hl=0,"function"===typeof Wl&&Wl(n.stateNode,o),El(t),il)throw il=!1,t=rl,rl=null,t;return(Xa&La)!==Ma?null:(Zi(),null)}function Bl(){for(;null!==ol;){var t=ol.effectTag;0!==(256&t)&&va(ol.alternate,ol),0===(512&t)||al||(al=!0,qi(97,(function(){return Pl(),null}))),ol=ol.nextEffect}}function Pl(){if(90!==ul){var t=97<ul?97:ul;return ul=90,ji(t,Fl)}}function Fl(){if(null===ll)return!1;var t=ll;if(ll=null,(Xa&(Ba|Pa))!==Ma)throw Error(s(331));var e=Xa;for(Xa|=Pa,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Ea(128,0,n),Ea(0,64,n)}}catch(o){if(null===t)throw Error(s(330));Vl(t,o)}n=t.nextEffect,t.nextEffect=null,t=n}return Xa=e,Zi(),!0}function Ul(t,e,n){vr(t,e=Ra(t,e=fa(n,e),1073741823)),null!==(t=ml(t,1073741823))&&El(t)}function Vl(t,e){if(3===t.tag)Ul(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Ul(n,t,e);break}if(1===n.tag){var o=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===sl||!sl.has(o))){vr(n,t=Aa(n,t=fa(e,t),1073741823)),null!==(n=ml(n,1073741823))&&El(n);break}}n=n.return}}function Hl(t,e,n){var o=t.pingCache;null!==o&&o.delete(e),za===t&&Ka===n?Ya===Ga||Ya===Ha&&1073741823===qa&&Ji()-el<nl?Cl(t,Ka):tl=!0:tu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,t.finishedExpirationTime===n&&(t.finishedExpirationTime=0,t.finishedWork=null),El(t)))}function Gl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=_l(e=fl(),t,null)),null!==(t=ml(t,e))&&El(t)}Oa=function(t,e,n){var o=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||vi.current)zs=!0;else{if(o<n){switch(zs=!1,e.tag){case 3:ta(e),Ws();break;case 5:if(Jr(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:yi(e.type)&&Di(e);break;case 4:Xr(e,e.stateNode.containerInfo);break;case 10:lr(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(o=e.child.childExpirationTime)&&o>=n?sa(t,e,n):(_i(Yr,1&Yr.current),null!==(e=ca(t,e,n))?e.sibling:null);_i(Yr,1&Yr.current);break;case 19:if(o=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(o)return ua(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),_i(Yr,Yr.current),!o)return null}return ca(t,e,n)}zs=!1}}else zs=!1;switch(e.expirationTime=0,e.tag){case 2:if(o=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=Ti(e,mi.current),hr(e,n),i=fs(null,e,o,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,_s(),yi(o)){var r=!0;Di(e)}else r=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=o.getDerivedStateFromProps;"function"===typeof a&&Ir(e,o,a,t),i.updater=Rr,e.stateNode=i,i._reactInternalFiber=e,xr(e,o,t,n),e=$s(null,e,o,!0,r,n)}else e.tag=0,Js(null,e,i,n),e=e.child;return e;case 16:if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,r=e.tag=function(t){if("function"===typeof t)return Kl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===X)return 11;if(t===K)return 14}return 2}(i),t=nr(i,t),r){case 0:e=Qs(null,e,i,t,n);break;case 1:e=Zs(null,e,i,t,n);break;case 11:e=Ks(null,e,i,t,n);break;case 14:e=Ys(null,e,i,nr(i.type,t),o,n);break;default:throw Error(s(306,i,""))}return e;case 0:return o=e.type,i=e.pendingProps,Qs(t,e,o,i=e.elementType===o?i:nr(o,i),n);case 1:return o=e.type,i=e.pendingProps,Zs(t,e,o,i=e.elementType===o?i:nr(o,i),n);case 3:if(ta(e),null===(o=e.updateQueue))throw Error(s(282));if(i=null!==(i=e.memoizedState)?i.element:null,br(e,o,e.pendingProps,null,n),(o=e.memoizedState.element)===i)Ws(),e=ca(t,e,n);else{if((i=e.stateNode.hydrate)&&(Bs=so(e.stateNode.containerInfo.firstChild),Ls=e,i=Ps=!0),i)for(n=Fr(e,null,o,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Js(t,e,o,n),Ws();e=e.child}return e;case 5:return Jr(e),null===t&&Vs(e),o=e.type,i=e.pendingProps,r=null!==t?t.memoizedProps:null,a=i.children,oo(o,i)?a=null:null!==r&&oo(o,r)&&(e.effectTag|=16),qs(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Js(t,e,a,n),e=e.child),e;case 6:return null===t&&Vs(e),null;case 13:return sa(t,e,n);case 4:return Xr(e,e.stateNode.containerInfo),o=e.pendingProps,null===t?e.child=Pr(e,null,o,n):Js(t,e,o,n),e.child;case 11:return o=e.type,i=e.pendingProps,Ks(t,e,o,i=e.elementType===o?i:nr(o,i),n);case 7:return Js(t,e,e.pendingProps,n),e.child;case 8:case 12:return Js(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(o=e.type._context,i=e.pendingProps,a=e.memoizedProps,lr(e,r=i.value),null!==a){var l=a.value;if(0===(r=ei(l,r)?0:0|("function"===typeof o._calculateChangedBits?o._calculateChangedBits(l,r):1073741823))){if(a.children===i.children&&!vi.current){e=ca(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===o&&0!==(c.observedBits&r)){1===l.tag&&((c=gr(n,null)).tag=2,vr(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),cr(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}Js(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,o=(r=e.pendingProps).children,hr(e,n),o=o(i=pr(i,r.unstable_observedBits)),e.effectTag|=1,Js(t,e,o,n),e.child;case 14:return r=nr(i=e.type,e.pendingProps),Ys(t,e,i,r=nr(i.type,r),o,n);case 15:return js(t,e,e.type,e.pendingProps,o,n);case 17:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:nr(o,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,yi(o)?(t=!0,Di(e)):t=!1,hr(e,n),Or(e,o,i),xr(e,o,i,n),$s(null,e,o,!0,t,n);case 19:return ua(t,e,n)}throw Error(s(156,e.tag))};var Wl=null,Xl=null;function zl(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Jl(t,e,n,o){return new zl(t,e,n,o)}function Kl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Yl(t,e){var n=t.alternate;return null===n?((n=Jl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jl(t,e,n,o,i,r){var a=2;if(o=t,"function"===typeof t)Kl(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case F:return ql(n.children,i,r,e);case W:a=8,i|=7;break;case U:a=8,i|=1;break;case V:return(t=Jl(12,n,e,8|i)).elementType=V,t.type=V,t.expirationTime=r,t;case z:return(t=Jl(13,n,e,i)).type=z,t.elementType=z,t.expirationTime=r,t;case J:return(t=Jl(19,n,e,i)).elementType=J,t.expirationTime=r,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case H:a=10;break t;case G:a=9;break t;case X:a=11;break t;case K:a=14;break t;case Y:a=16,o=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Jl(a,n,e,i)).elementType=t,e.type=o,e.expirationTime=r,e}function ql(t,e,n,o){return(t=Jl(7,t,o,e)).expirationTime=n,t}function Ql(t,e,n){return(t=Jl(6,t,null,e)).expirationTime=n,t}function Zl(t,e,n){return(e=Jl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $l(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function tu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function eu(t,e){var n=t.firstSuspendedTime,o=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(o>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function nu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function ou(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function iu(t,e,n,o){var i=e.current,r=fl(),a=kr.suspense;r=_l(r,i,a);t:if(n){e:{if(te(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(yi(u)){n=ki(n,u,l);break t}}n=l}else n=gi;return null===e.context?e.context=n:e.pendingContext=n,(e=gr(r,a)).payload={element:t},null!==(o=void 0===o?null:o)&&(e.callback=o),vr(i,e),gl(i,r),r}function ru(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function su(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function au(t,e){su(t,e),(t=t.alternate)&&su(t,e)}function lu(t,e,n){var o=new $l(t,e,n=null!=n&&!0===n.hydrate),i=Jl(3,null,null,2===e?7:1===e?3:0);o.current=i,i.stateNode=o,t[ho]=o.current,n&&0!==e&&function(t){var e=Mn(t);_e.forEach((function(n){Ln(n,t,e)})),ge.forEach((function(n){Ln(n,t,e)}))}(9===t.nodeType?t:t.ownerDocument),this._internalRoot=o}function uu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function cu(t,e,n,o,i){var r=n._reactRootContainer;if(r){var s=r._internalRoot;if("function"===typeof i){var a=i;i=function(){var t=ru(s);a.call(t)}}iu(e,s,t,i)}else{if(r=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new lu(t,0,e?{hydrate:!0}:void 0)}(n,o),s=r._internalRoot,"function"===typeof i){var l=i;i=function(){var t=ru(s);l.call(t)}}Sl((function(){iu(e,s,t,i)}))}return ru(s)}function hu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!uu(e))throw Error(s(200));return function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:P,key:null==o?null:""+o,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}lu.prototype.render=function(t,e){iu(t,this._internalRoot,null,void 0===e?null:e)},lu.prototype.unmount=function(t){var e=this._internalRoot,n=void 0===t?null:t,o=e.containerInfo;iu(null,e,null,(function(){o[ho]=null,null!==n&&n()}))},ie=function(t){if(13===t.tag){var e=er(fl(),150,100);gl(t,e),au(t,e)}},re=function(t){if(13===t.tag){fl();var e=tr++;gl(t,e),au(t,e)}},se=function(t){if(13===t.tag){var e=fl();gl(t,e=_l(e,t,null)),au(t,e)}},tt=function(t,e,n){switch(e){case"input":if(At(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var i=go(o);if(!i)throw Error(s(90));kt(o),At(o,i)}}}break;case"textarea":Bt(t,n);break;case"select":null!=(e=n.value)&&Nt(t,!!n.multiple,e,!1)}},st=bl,at=function(t,e,n,o){var i=Xa;Xa|=4;try{return ji(98,t.bind(null,e,n,o))}finally{(Xa=i)===Ma&&Zi()}},lt=function(){(Xa&(1|Ba|Pa))===Ma&&(function(){if(null!==cl){var t=cl;cl=null,t.forEach((function(t,e){ou(e,t),El(e)})),Zi()}}(),Pl())},ut=function(t,e){var n=Xa;Xa|=2;try{return t(e)}finally{(Xa=n)===Ma&&Zi()}};var pu={createPortal:hu,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=oe(e))?null:t.stateNode},hydrate:function(t,e,n){if(!uu(e))throw Error(s(200));return cu(null,t,e,!0,n)},render:function(t,e,n){if(!uu(e))throw Error(s(200));return cu(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,o){if(!uu(n))throw Error(s(200));if(null==t||void 0===t._reactInternalFiber)throw Error(s(38));return cu(t,e,n,!1,o)},unmountComponentAtNode:function(t){if(!uu(t))throw Error(s(40));return!!t._reactRootContainer&&(Sl((function(){cu(null,null,t,!1,(function(){t._reactRootContainer=null,t[ho]=null}))})),!0)},unstable_createPortal:function(){return hu.apply(void 0,arguments)},unstable_batchedUpdates:bl,flushSync:function(t,e){if((Xa&(Ba|Pa))!==Ma)throw Error(s(187));var n=Xa;Xa|=1;try{return ji(99,t.bind(null,e))}finally{Xa=n,Zi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[fo,_o,go,w.injectEventPluginsByName,p,xe,function(t){I(t,we)},it,rt,On,O,Pl,{current:!1}]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Wl=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(o){}},Xl=function(t){try{e.onCommitFiberUnmount(n,t)}catch(o){}}}catch(o){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=oe(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:po,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var du={default:pu},fu=du&&pu||du;t.exports=fu.default||fu},function(t,e,n){"use strict";t.exports=n(100)},function(t,e,n){"use strict";var o,i,r,s,a;if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(o){throw setTimeout(t,0),o}},h=Date.now();e.unstable_now=function(){return Date.now()-h},o=function(t){null!==l?setTimeout(o,0,t):(l=t,setTimeout(c,0))},i=function(t,e){u=setTimeout(t,e)},r=function(){clearTimeout(u)},s=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var p=window.performance,d=window.Date,f=window.setTimeout,_=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof p&&"function"===typeof p.now)e.unstable_now=function(){return p.now()};else{var m=d.now();e.unstable_now=function(){return d.now()-m}}var v=!1,E=null,T=-1,y=5,b=0;s=function(){return e.unstable_now()>=b},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):y=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,C=S.port2;S.port1.onmessage=function(){if(null!==E){var t=e.unstable_now();b=t+y;try{E(!0,t)?C.postMessage(null):(v=!1,E=null)}catch(n){throw C.postMessage(null),n}}else v=!1},o=function(t){E=t,v||(v=!0,C.postMessage(null))},i=function(t,n){T=f((function(){t(e.unstable_now())}),n)},r=function(){_(T),T=-1}}function k(t,e){var n=t.length;t.push(e);t:for(;;){var o=Math.floor((n-1)/2),i=t[o];if(!(void 0!==i&&0<R(i,e)))break t;t[o]=e,t[n]=i,n=o}}function D(t){return void 0===(t=t[0])?null:t}function I(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var o=0,i=t.length;o<i;){var r=2*(o+1)-1,s=t[r],a=r+1,l=t[a];if(void 0!==s&&0>R(s,n))void 0!==l&&0>R(l,s)?(t[o]=l,t[a]=n,o=a):(t[o]=s,t[r]=n,o=r);else{if(!(void 0!==l&&0>R(l,n)))break t;t[o]=l,t[a]=n,o=a}}}return e}return null}function R(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var A=[],O=[],w=1,x=null,N=3,M=!1,L=!1,B=!1;function P(t){for(var e=D(O);null!==e;){if(null===e.callback)I(O);else{if(!(e.startTime<=t))break;I(O),e.sortIndex=e.expirationTime,k(A,e)}e=D(O)}}function F(t){if(B=!1,P(t),!L)if(null!==D(A))L=!0,o(U);else{var e=D(O);null!==e&&i(F,e.startTime-t)}}function U(t,n){L=!1,B&&(B=!1,r()),M=!0;var o=N;try{for(P(n),x=D(A);null!==x&&(!(x.expirationTime>n)||t&&!s());){var a=x.callback;if(null!==a){x.callback=null,N=x.priorityLevel;var l=a(x.expirationTime<=n);n=e.unstable_now(),"function"===typeof l?x.callback=l:x===D(A)&&I(A),P(n)}else I(A);x=D(A)}if(null!==x)var u=!0;else{var c=D(O);null!==c&&i(F,c.startTime-n),u=!1}return u}finally{x=null,N=o,M=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=a;e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=N;N=t;try{return e()}finally{N=n}},e.unstable_next=function(t){switch(N){case 1:case 2:case 3:var e=3;break;default:e=N}var n=N;N=e;try{return t()}finally{N=n}},e.unstable_scheduleCallback=function(t,n,s){var a=e.unstable_now();if("object"===typeof s&&null!==s){var l=s.delay;l="number"===typeof l&&0<l?a+l:a,s="number"===typeof s.timeout?s.timeout:V(t)}else s=V(t),l=a;return t={id:w++,callback:n,priorityLevel:t,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>a?(t.sortIndex=l,k(O,t),null===D(A)&&t===D(O)&&(B?r():B=!0,i(F,l-a))):(t.sortIndex=s,k(A,t),L||M||(L=!0,o(U))),t},e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_wrapCallback=function(t){var e=N;return function(){var n=N;N=e;try{return t.apply(this,arguments)}finally{N=n}}},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_shouldYield=function(){var t=e.unstable_now();P(t);var n=D(A);return n!==x&&null!==x&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<x.expirationTime||s()},e.unstable_requestPaint=H,e.unstable_continueExecution=function(){L||M||(L=!0,o(U))},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return D(A)},e.unstable_Profiling=null},,function(t,e,n){var o,i,r;i=[n(29),n(105),n(106),n(107)],void 0===(r="function"===typeof(o=function(t,e,n,o){"use strict";return t.setLocale(e),t.Blocks=t.Blocks||{},Object.keys(n).forEach((function(e){t.Blocks[e]=n[e]})),t.JavaScript=o,t})?o.apply(e,i):o)||(t.exports=r)},function(t,e,n){(function(n){var o,i,r;i=[],void 0===(r="function"===typeof(o=function(){"use strict";var t={};return t.Blocks=Object.create(null),t.utils={},t.utils.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof n?n:this}(),t.Msg={},t.utils.global.Blockly||(t.utils.global.Blockly={}),t.utils.global.Blockly.Msg||(t.utils.global.Blockly.Msg=t.Msg),t.utils.Coordinate=function(t,e){this.x=t,this.y=e},t.utils.Coordinate.equals=function(t,e){return t==e||!(!t||!e)&&t.x==e.x&&t.y==e.y},t.utils.Coordinate.distance=function(t,e){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)},t.utils.Coordinate.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.utils.Coordinate.difference=function(e,n){return new t.utils.Coordinate(e.x-n.x,e.y-n.y)},t.utils.Coordinate.sum=function(e,n){return new t.utils.Coordinate(e.x+n.x,e.y+n.y)},t.utils.Coordinate.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.utils.Coordinate.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this},t.utils.string={},t.utils.string.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},t.utils.string.shortestStringLength=function(t){return t.length?t.reduce((function(t,e){return t.length<e.length?t:e})).length:0},t.utils.string.commonWordPrefix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var o=0,i=n||t.utils.string.shortestStringLength(e),r=0;r<i;r++){for(var s=e[0][r],a=1;a<e.length;a++)if(s!=e[a][r])return o;" "==s&&(o=r+1)}for(a=1;a<e.length;a++)if((s=e[a][r])&&" "!=s)return o;return i},t.utils.string.commonWordSuffix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var o=0,i=n||t.utils.string.shortestStringLength(e),r=0;r<i;r++){for(var s=e[0].substr(-r-1,1),a=1;a<e.length;a++)if(s!=e[a].substr(-r-1,1))return o;" "==s&&(o=r+1)}for(a=1;a<e.length;a++)if((s=e[a].charAt(e[a].length-r-1))&&" "!=s)return o;return i},t.utils.string.wrap=function(e,n){for(var o=e.split("\n"),i=0;i<o.length;i++)o[i]=t.utils.string.wrapLine_(o[i],n);return o.join("\n")},t.utils.string.wrapLine_=function(e,n){if(e.length<=n)return e;for(var o=e.trim().split(/\s+/),i=0;i<o.length;i++)o[i].length>n&&(n=o[i].length);i=-1/0;var r=1;do{var s=i,a=e,l=[],u=o.length/r,c=1;for(i=0;i<o.length-1;i++)c<(i+1.5)/u?(c++,l[i]=!0):l[i]=!1;l=t.utils.string.wrapMutate_(o,l,n),i=t.utils.string.wrapScore_(o,l,n),e=t.utils.string.wrapToText_(o,l),r++}while(i>s);return a},t.utils.string.wrapScore_=function(t,e,n){for(var o=[0],i=[],r=0;r<t.length;r++)o[o.length-1]+=t[r].length,!0===e[r]?(o.push(0),i.push(t[r].charAt(t[r].length-1))):!1===e[r]&&o[o.length-1]++;for(t=Math.max.apply(Math,o),r=e=0;r<o.length;r++)e-=2*Math.pow(Math.abs(n-o[r]),1.5),e-=Math.pow(t-o[r],1.5),-1!=".?!".indexOf(i[r])?e+=n/3:-1!=",;)]}".indexOf(i[r])&&(e+=n/4);return 1<o.length&&o[o.length-1]<=o[o.length-2]&&(e+=.5),e},t.utils.string.wrapMutate_=function(e,n,o){for(var i,r=t.utils.string.wrapScore_(e,n,o),s=0;s<n.length-1;s++)if(n[s]!=n[s+1]){var a=[].concat(n);a[s]=!a[s],a[s+1]=!a[s+1];var l=t.utils.string.wrapScore_(e,a,o);l>r&&(r=l,i=a)}return i?t.utils.string.wrapMutate_(e,i,o):n},t.utils.string.wrapToText_=function(t,e){for(var n=[],o=0;o<t.length;o++)n.push(t[o]),void 0!==e[o]&&n.push(e[o]?"\n":" ");return n.join("")},t.utils.Size=function(t,e){this.width=t,this.height=e},t.utils.Size.equals=function(t,e){return t==e||!(!t||!e)&&t.width==e.width&&t.height==e.height},t.utils.style={},t.utils.style.getSize=function(e){if("none"!=t.utils.style.getStyle_(e,"display"))return t.utils.style.getSizeWithDisplay_(e);var n=e.style,o=n.display,i=n.visibility,r=n.position;n.visibility="hidden",n.position="absolute",n.display="inline";var s=e.offsetWidth;return e=e.offsetHeight,n.display=o,n.position=r,n.visibility=i,new t.utils.Size(s,e)},t.utils.style.getSizeWithDisplay_=function(e){return new t.utils.Size(e.offsetWidth,e.offsetHeight)},t.utils.style.getStyle_=function(e,n){return t.utils.style.getComputedStyle(e,n)||t.utils.style.getCascadedStyle(e,n)||e.style&&e.style[n]},t.utils.style.getComputedStyle=function(t,e){if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(t,null);if(n)return n[e]||n.getPropertyValue(e)||""}return""},t.utils.style.getCascadedStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:null},t.utils.style.getPageOffset=function(e){var n=new t.utils.Coordinate(0,0);e=e.getBoundingClientRect();var o=document.documentElement;return o=new t.utils.Coordinate(window.pageXOffset||o.scrollLeft,window.pageYOffset||o.scrollTop),n.x=e.left+o.x,n.y=e.top+o.y,n},t.utils.style.getViewportPageOffset=function(){var e=document.body,n=document.documentElement;return new t.utils.Coordinate(e.scrollLeft||n.scrollLeft,e.scrollTop||n.scrollTop)},t.utils.style.setElementShown=function(t,e){t.style.display=e?"":"none"},t.utils.style.isRightToLeft=function(e){return"rtl"==t.utils.style.getStyle_(e,"direction")},t.utils.style.getBorderBox=function(e){var n=t.utils.style.getComputedStyle(e,"borderLeftWidth"),o=t.utils.style.getComputedStyle(e,"borderRightWidth"),i=t.utils.style.getComputedStyle(e,"borderTopWidth");return e=t.utils.style.getComputedStyle(e,"borderBottomWidth"),{top:parseFloat(i),right:parseFloat(o),bottom:parseFloat(e),left:parseFloat(n)}},t.utils.style.scrollIntoContainerView=function(e,n,o){e=t.utils.style.getContainerOffsetToScrollInto(e,n,o),n.scrollLeft=e.x,n.scrollTop=e.y},t.utils.style.getContainerOffsetToScrollInto=function(e,n,o){var i=t.utils.style.getPageOffset(e),r=t.utils.style.getPageOffset(n),s=t.utils.style.getBorderBox(n),a=i.x-r.x-s.left;return i=i.y-r.y-s.top,r=t.utils.style.getSizeWithDisplay_(e),e=n.clientWidth-r.width,r=n.clientHeight-r.height,s=n.scrollLeft,n=n.scrollTop,o?(s+=a-e/2,n+=i-r/2):(s+=Math.min(a,Math.max(a-e,0)),n+=Math.min(i,Math.max(i-r,0))),new t.utils.Coordinate(s,n)},t.utils.userAgent={},function(e){function n(t){return-1!=o.indexOf(t.toUpperCase())}t.utils.userAgent.raw=e;var o=t.utils.userAgent.raw.toUpperCase();t.utils.userAgent.IE=n("Trident")||n("MSIE"),t.utils.userAgent.EDGE=n("Edge"),t.utils.userAgent.JAVA_FX=n("JavaFX"),t.utils.userAgent.WEBKIT=n("WebKit")&&!t.utils.userAgent.EDGE,t.utils.userAgent.GECKO=n("Gecko")&&!t.utils.userAgent.WEBKIT&&!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,t.utils.userAgent.ANDROID=n("Android"),t.utils.userAgent.IPAD=n("iPad"),t.utils.userAgent.IPOD=n("iPod"),t.utils.userAgent.IPHONE=n("iPhone")&&!t.utils.userAgent.IPAD&&!t.utils.userAgent.IPOD,t.utils.userAgent.MAC=n("Macintosh"),t.utils.userAgent.TABLET=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID&&!n("Mobile")||n("Silk"),t.utils.userAgent.MOBILE=!t.utils.userAgent.TABLET&&(t.utils.userAgent.IPOD||t.utils.userAgent.IPHONE||t.utils.userAgent.ANDROID||n("IEMobile"))}(t.utils.global.navigator&&t.utils.global.navigator.userAgent||""),t.utils.noEvent=function(t){t.preventDefault(),t.stopPropagation()},t.utils.isTargetInput=function(t){return"textarea"==t.target.type||"text"==t.target.type||"number"==t.target.type||"email"==t.target.type||"password"==t.target.type||"search"==t.target.type||"tel"==t.target.type||"url"==t.target.type||t.target.isContentEditable},t.utils.getRelativeXY=function(e){var n=new t.utils.Coordinate(0,0),o=e.getAttribute("x");return o&&(n.x=parseInt(o,10)),(o=e.getAttribute("y"))&&(n.y=parseInt(o,10)),(o=(o=e.getAttribute("transform"))&&o.match(t.utils.getRelativeXY.XY_REGEX_))&&(n.x+=Number(o[1]),o[3]&&(n.y+=Number(o[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(t.utils.getRelativeXY.XY_STYLE_REGEX_))&&(n.x+=Number(e[1]),e[3]&&(n.y+=Number(e[3]))),n},t.utils.getInjectionDivXY_=function(e){for(var n=0,o=0;e;){var i=t.utils.getRelativeXY(e);if(n+=i.x,o+=i.y,-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new t.utils.Coordinate(n,o)},t.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,t.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,t.utils.isRightButton=function(e){return!(!e.ctrlKey||!t.utils.userAgent.MAC)||2==e.button},t.utils.mouseToSvg=function(t,e,n){var o=e.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,n||(n=e.getScreenCTM().inverse()),o.matrixTransform(n)},t.utils.getScrollDeltaPixels=function(e){switch(e.deltaMode){case 0:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*t.LINE_MODE_MULTIPLIER,y:e.deltaY*t.LINE_MODE_MULTIPLIER};case 2:return{x:e.deltaX*t.PAGE_MODE_MULTIPLIER,y:e.deltaY*t.PAGE_MODE_MULTIPLIER}}},t.utils.tokenizeInterpolation=function(e){return t.utils.tokenizeInterpolation_(e,!0)},t.utils.replaceMessageReferences=function(e){return"string"!=typeof e?e:(e=t.utils.tokenizeInterpolation_(e,!1)).length?e[0]:""},t.utils.checkMessageReferences=function(e){for(var n=!0,o=t.Msg,i=e.match(/%{BKY_[A-Z]\w*}/gi),r=0;r<i.length;r++)void 0==o[i[r].toUpperCase().slice(6,-1)]&&(console.log("WARNING: No message string for "+i[r]+" in "+e),n=!1);return n},t.utils.tokenizeInterpolation_=function(e,n){var o=[],i=e.split("");i.push("");for(var r=0,s=[],a=null,l=0;l<i.length;l++){var u=i[l];0==r?"%"==u?((u=s.join(""))&&o.push(u),s.length=0,r=1):s.push(u):1==r?"%"==u?(s.push(u),r=0):n&&"0"<=u&&"9">=u?(r=2,a=u,(u=s.join(""))&&o.push(u),s.length=0):"{"==u?r=3:(s.push("%",u),r=0):2==r?"0"<=u&&"9">=u?a+=u:(o.push(parseInt(a,10)),l--,r=0):3==r&&(""==u?(s.splice(0,0,"%{"),l--,r=0):"}"!=u?s.push(u):(r=s.join(""),/[A-Z]\w*/i.test(r)?(u=r.toUpperCase(),(u=t.utils.string.startsWith(u,"BKY_")?u.substring(4):null)&&u in t.Msg?"string"==typeof(r=t.Msg[u])?Array.prototype.push.apply(o,t.utils.tokenizeInterpolation_(r,n)):n?o.push(String(r)):o.push(r):o.push("%{"+r+"}")):o.push("%{"+r+"}"),r=s.length=0))}for((u=s.join(""))&&o.push(u),i=[],l=s.length=0;l<o.length;++l)"string"==typeof o[l]?s.push(o[l]):((u=s.join(""))&&i.push(u),s.length=0,i.push(o[l]));return(u=s.join(""))&&i.push(u),s.length=0,i},t.utils.genUid=function(){for(var e=t.utils.genUid.soup_.length,n=[],o=0;20>o;o++)n[o]=t.utils.genUid.soup_.charAt(Math.random()*e);return n.join("")},t.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.utils.is3dSupported=function(){if(void 0!==t.utils.is3dSupported.cached_)return t.utils.is3dSupported.cached_;if(!t.utils.global.getComputedStyle)return!1;var e=document.createElement("p"),n="none",o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.insertBefore(e,null),o)if(void 0!==e.style[i]){if(e.style[i]="translate3d(1px,1px,1px)",!(n=t.utils.global.getComputedStyle(e)))return document.body.removeChild(e),!1;n=n.getPropertyValue(o[i])}return document.body.removeChild(e),t.utils.is3dSupported.cached_="none"!==n,t.utils.is3dSupported.cached_},t.utils.runAfterPageLoad=function(t){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)t();else var e=setInterval((function(){"complete"==document.readyState&&(clearInterval(e),t())}),10)},t.utils.getViewportBBox=function(){var e=t.utils.style.getViewportPageOffset();return{right:document.documentElement.clientWidth+e.x,bottom:document.documentElement.clientHeight+e.y,top:e.y,left:e.x}},t.utils.arrayRemove=function(t,e){var n=t.indexOf(e);return-1!=n&&(t.splice(n,1),!0)},t.utils.getDocumentScroll=function(){var e=document.documentElement,n=window;return t.utils.userAgent.IE&&n.pageYOffset!=e.scrollTop?new t.utils.Coordinate(e.scrollLeft,e.scrollTop):new t.utils.Coordinate(n.pageXOffset||e.scrollLeft,n.pageYOffset||e.scrollTop)},t.utils.getBlockTypeCounts=function(t,e){var n,o=Object.create(null),i=t.getDescendants(!0);if(e){var r=t.getNextBlock();r&&(r=i.indexOf(r),i.splice(r,i.length-r))}for(r=0;n=i[r];r++)o[n.type]?o[n.type]++:o[n.type]=1;return o},t.utils.screenToWsCoordinates=function(e,n){var o=n.x,i=n.y,r=e.getInjectionDiv().getBoundingClientRect();return o=new t.utils.Coordinate(o-r.left,i-r.top),i=e.getOriginOffsetInPixels(),t.utils.Coordinate.difference(o,i).scale(1/e.scale)},t.Events={},t.Events.group_="",t.Events.recordUndo=!0,t.Events.disabled_=0,t.Events.CREATE="create",t.Events.BLOCK_CREATE=t.Events.CREATE,t.Events.DELETE="delete",t.Events.BLOCK_DELETE=t.Events.DELETE,t.Events.CHANGE="change",t.Events.BLOCK_CHANGE=t.Events.CHANGE,t.Events.MOVE="move",t.Events.BLOCK_MOVE=t.Events.MOVE,t.Events.VAR_CREATE="var_create",t.Events.VAR_DELETE="var_delete",t.Events.VAR_RENAME="var_rename",t.Events.UI="ui",t.Events.COMMENT_CREATE="comment_create",t.Events.COMMENT_DELETE="comment_delete",t.Events.COMMENT_CHANGE="comment_change",t.Events.COMMENT_MOVE="comment_move",t.Events.FINISHED_LOADING="finished_loading",t.Events.BUMP_EVENTS=[t.Events.BLOCK_CREATE,t.Events.BLOCK_MOVE,t.Events.COMMENT_CREATE,t.Events.COMMENT_MOVE],t.Events.FIRE_QUEUE_=[],t.Events.fire=function(e){t.Events.isEnabled()&&(t.Events.FIRE_QUEUE_.length||setTimeout(t.Events.fireNow_,0),t.Events.FIRE_QUEUE_.push(e))},t.Events.fireNow_=function(){for(var e,n=t.Events.filter(t.Events.FIRE_QUEUE_,!0),o=t.Events.FIRE_QUEUE_.length=0;e=n[o];o++)if(e.workspaceId){var i=t.Workspace.getById(e.workspaceId);i&&i.fireChangeListener(e)}},t.Events.filter=function(e,n){var o=e.slice();n||o.reverse();for(var i,r=[],s=Object.create(null),a=0;i=o[a];a++)if(!i.isNull()){var l=[i.type,i.blockId,i.workspaceId].join(" "),u=s[l],c=u?u.event:null;u?i.type==t.Events.MOVE&&u.index==a-1?(c.newParentId=i.newParentId,c.newInputName=i.newInputName,c.newCoordinate=i.newCoordinate,u.index=a):i.type==t.Events.CHANGE&&i.element==c.element&&i.name==c.name?c.newValue=i.newValue:(i.type!=t.Events.UI||"click"!=i.element||"commentOpen"!=c.element&&"mutatorOpen"!=c.element&&"warningOpen"!=c.element)&&(s[l]={event:i,index:1},r.push(i)):(s[l]={event:i,index:a},r.push(i))}for(o=r.filter((function(t){return!t.isNull()})),n||o.reverse(),a=1;i=o[a];a++)i.type==t.Events.CHANGE&&"mutation"==i.element&&o.unshift(o.splice(a,1)[0]);return o},t.Events.clearPendingUndo=function(){for(var e,n=0;e=t.Events.FIRE_QUEUE_[n];n++)e.recordUndo=!1},t.Events.disable=function(){t.Events.disabled_++},t.Events.enable=function(){t.Events.disabled_--},t.Events.isEnabled=function(){return 0==t.Events.disabled_},t.Events.getGroup=function(){return t.Events.group_},t.Events.setGroup=function(e){t.Events.group_="boolean"==typeof e?e?t.utils.genUid():"":e},t.Events.getDescendantIds=function(t){var e=[];t=t.getDescendants(!1);for(var n,o=0;n=t[o];o++)e[o]=n.id;return e},t.Events.fromJson=function(e,n){switch(e.type){case t.Events.CREATE:var o=new t.Events.Create(null);break;case t.Events.DELETE:o=new t.Events.Delete(null);break;case t.Events.CHANGE:o=new t.Events.Change(null,"","","","");break;case t.Events.MOVE:o=new t.Events.Move(null);break;case t.Events.VAR_CREATE:o=new t.Events.VarCreate(null);break;case t.Events.VAR_DELETE:o=new t.Events.VarDelete(null);break;case t.Events.VAR_RENAME:o=new t.Events.VarRename(null,"");break;case t.Events.UI:o=new t.Events.Ui(null,"","","");break;case t.Events.COMMENT_CREATE:o=new t.Events.CommentCreate(null);break;case t.Events.COMMENT_CHANGE:o=new t.Events.CommentChange(null,"","");break;case t.Events.COMMENT_MOVE:o=new t.Events.CommentMove(null);break;case t.Events.COMMENT_DELETE:o=new t.Events.CommentDelete(null);break;default:throw Error("Unknown event type.")}return o.fromJson(e),o.workspaceId=n.id,o},t.Events.disableOrphans=function(e){if((e.type==t.Events.MOVE||e.type==t.Events.CREATE)&&e.workspaceId){var n=t.Workspace.getById(e.workspaceId);if(e=n.getBlockById(e.blockId)){var o=e.getParent();if(o&&o.isEnabled())for(n=e.getDescendants(!1),e=0;o=n[e];e++)o.setEnabled(!0);else if((e.outputConnection||e.previousConnection)&&!n.isDragging())do{e.setEnabled(!1),e=e.getNextBlock()}while(e)}}},t.Events.Abstract=function(){this.workspaceId=void 0,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.Events.Abstract.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),t},t.Events.Abstract.prototype.fromJson=function(t){this.group=t.group},t.Events.Abstract.prototype.isNull=function(){return!1},t.Events.Abstract.prototype.run=function(t){},t.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var e=t.Workspace.getById(this.workspaceId);if(!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e},t.utils.object={},t.utils.object.inherits=function(t,e){t.superClass_=e.prototype,t.prototype=Object.create(e.prototype),t.prototype.constructor=t},t.utils.object.mixin=function(t,e){for(var n in e)t[n]=e[n]},t.utils.object.values=function(t){return Object.values?Object.values(t):Object.keys(t).map((function(e){return t[e]}))},t.utils.xml={},t.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",t.utils.xml.document=function(){return document},t.utils.xml.createElement=function(e){return t.utils.xml.document().createElementNS(t.utils.xml.NAME_SPACE,e)},t.utils.xml.createTextNode=function(e){return t.utils.xml.document().createTextNode(e)},t.utils.xml.textToDomDocument=function(t){return(new DOMParser).parseFromString(t,"text/xml")},t.utils.xml.domToText=function(t){return(new XMLSerializer).serializeToString(t)},t.Events.BlockBase=function(e){t.Events.BlockBase.superClass_.constructor.call(this),this.blockId=e.id,this.workspaceId=e.workspace.id},t.utils.object.inherits(t.Events.BlockBase,t.Events.Abstract),t.Events.BlockBase.prototype.toJson=function(){var e=t.Events.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},t.Events.BlockBase.prototype.fromJson=function(e){t.Events.BlockBase.superClass_.fromJson.call(this,e),this.blockId=e.blockId},t.Events.Change=function(e,n,o,i,r){e&&(t.Events.Change.superClass_.constructor.call(this,e),this.element=n,this.name=o,this.oldValue=i,this.newValue=r)},t.utils.object.inherits(t.Events.Change,t.Events.BlockBase),t.Events.BlockChange=t.Events.Change,t.Events.Change.prototype.type=t.Events.CHANGE,t.Events.Change.prototype.toJson=function(){var e=t.Events.Change.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.newValue=this.newValue,e},t.Events.Change.prototype.fromJson=function(e){t.Events.Change.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.newValue=e.newValue},t.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},t.Events.Change.prototype.run=function(e){var n=this.getEventWorkspace_().getBlockById(this.blockId);if(n)switch(n.mutator&&n.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(e||null);break;case"collapsed":n.setCollapsed(!!e);break;case"disabled":n.setEnabled(!e);break;case"inline":n.setInputsInline(!!e);break;case"mutation":var o="";if(n.mutationToDom&&(o=(o=n.mutationToDom())&&t.Xml.domToText(o)),n.domToMutation){var i=t.Xml.textToDom(e||"<mutation/>");n.domToMutation(i)}t.Events.fire(new t.Events.Change(n,"mutation",null,o,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},t.Events.Create=function(e){e&&(t.Events.Create.superClass_.constructor.call(this,e),this.xml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e))},t.utils.object.inherits(t.Events.Create,t.Events.BlockBase),t.Events.BlockCreate=t.Events.Create,t.Events.Create.prototype.type=t.Events.CREATE,t.Events.Create.prototype.toJson=function(){var e=t.Events.Create.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e.ids=this.ids,e},t.Events.Create.prototype.fromJson=function(e){t.Events.Create.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml),this.ids=e.ids},t.Events.Create.prototype.run=function(e){var n=this.getEventWorkspace_();if(e)(e=t.utils.xml.createElement("xml")).appendChild(this.xml),t.Xml.domToWorkspace(e,n);else{e=0;for(var o;o=this.ids[e];e++){var i=n.getBlockById(o);i?i.dispose(!1):o==this.blockId&&console.warn("Can't uncreate non-existent block: "+o)}}},t.Events.Delete=function(e){if(e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");t.Events.Delete.superClass_.constructor.call(this,e),this.oldXml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e)}},t.utils.object.inherits(t.Events.Delete,t.Events.BlockBase),t.Events.BlockDelete=t.Events.Delete,t.Events.Delete.prototype.type=t.Events.DELETE,t.Events.Delete.prototype.toJson=function(){var e=t.Events.Delete.superClass_.toJson.call(this);return e.ids=this.ids,e},t.Events.Delete.prototype.fromJson=function(e){t.Events.Delete.superClass_.fromJson.call(this,e),this.ids=e.ids},t.Events.Delete.prototype.run=function(e){var n=this.getEventWorkspace_();if(e){e=0;for(var o;o=this.ids[e];e++){var i=n.getBlockById(o);i?i.dispose(!1):o==this.blockId&&console.warn("Can't delete non-existent block: "+o)}}else(e=t.utils.xml.createElement("xml")).appendChild(this.oldXml),t.Xml.domToWorkspace(e,n)},t.Events.Move=function(e){e&&(t.Events.Move.superClass_.constructor.call(this,e),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},t.utils.object.inherits(t.Events.Move,t.Events.BlockBase),t.Events.BlockMove=t.Events.Move,t.Events.Move.prototype.type=t.Events.MOVE,t.Events.Move.prototype.toJson=function(){var e=t.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),e},t.Events.Move.prototype.fromJson=function(e){t.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate=new t.utils.Coordinate(Number(e[0]),Number(e[1])))},t.Events.Move.prototype.recordNew=function(){var t=this.currentLocation_();this.newParentId=t.parentId,this.newInputName=t.inputName,this.newCoordinate=t.coordinate},t.Events.Move.prototype.currentLocation_=function(){var t=this.getEventWorkspace_().getBlockById(this.blockId),e={},n=t.getParent();return n?(e.parentId=n.id,(t=n.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e},t.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&t.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},t.Events.Move.prototype.run=function(e){var n=this.getEventWorkspace_(),o=n.getBlockById(this.blockId);if(o){var i=e?this.newParentId:this.oldParentId,r=e?this.newInputName:this.oldInputName;e=e?this.newCoordinate:this.oldCoordinate;var s=null;if(i&&!(s=n.getBlockById(i)))return void console.warn("Can't connect to non-existent block: "+i);if(o.getParent()&&o.unplug(),e)r=o.getRelativeToSurfaceXY(),o.moveBy(e.x-r.x,e.y-r.y);else{if(o=o.outputConnection||o.previousConnection,r){if(n=s.getInput(r))var a=n.connection}else o.type==t.PREVIOUS_STATEMENT&&(a=s.nextConnection);a?o.connect(a):console.warn("Can't connect to non-existent input: "+r)}}else console.warn("Can't move non-existent block: "+this.blockId)},t.Events.FinishedLoading=function(e){this.workspaceId=e.id,this.group=t.Events.getGroup(),this.recordUndo=!1},t.utils.object.inherits(t.Events.FinishedLoading,t.Events.Abstract),t.Events.FinishedLoading.prototype.type=t.Events.FINISHED_LOADING,t.Events.FinishedLoading.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),this.workspaceId&&(t.workspaceId=this.workspaceId),t},t.Events.FinishedLoading.prototype.fromJson=function(t){this.workspaceId=t.workspaceId,this.group=t.group},t.Events.VarBase=function(e){t.Events.VarBase.superClass_.constructor.call(this),this.varId=e.getId(),this.workspaceId=e.workspace.id},t.utils.object.inherits(t.Events.VarBase,t.Events.Abstract),t.Events.VarBase.prototype.toJson=function(){var e=t.Events.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},t.Events.VarBase.prototype.fromJson=function(e){t.Events.VarBase.superClass_.toJson.call(this),this.varId=e.varId},t.Events.VarCreate=function(e){e&&(t.Events.VarCreate.superClass_.constructor.call(this,e),this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarCreate,t.Events.VarBase),t.Events.VarCreate.prototype.type=t.Events.VAR_CREATE,t.Events.VarCreate.prototype.toJson=function(){var e=t.Events.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarCreate.prototype.fromJson=function(e){t.Events.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarCreate.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.createVariable(this.varName,this.varType,this.varId):e.deleteVariableById(this.varId)},t.Events.VarDelete=function(e){e&&(t.Events.VarDelete.superClass_.constructor.call(this,e),this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarDelete,t.Events.VarBase),t.Events.VarDelete.prototype.type=t.Events.VAR_DELETE,t.Events.VarDelete.prototype.toJson=function(){var e=t.Events.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarDelete.prototype.fromJson=function(e){t.Events.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarDelete.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.deleteVariableById(this.varId):e.createVariable(this.varName,this.varType,this.varId)},t.Events.VarRename=function(e,n){e&&(t.Events.VarRename.superClass_.constructor.call(this,e),this.oldName=e.name,this.newName=n)},t.utils.object.inherits(t.Events.VarRename,t.Events.VarBase),t.Events.VarRename.prototype.type=t.Events.VAR_RENAME,t.Events.VarRename.prototype.toJson=function(){var e=t.Events.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},t.Events.VarRename.prototype.fromJson=function(e){t.Events.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},t.Events.VarRename.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.renameVariableById(this.varId,this.newName):e.renameVariableById(this.varId,this.oldName)},t.utils.dom={},t.utils.dom.SVG_NS="http://www.w3.org/2000/svg",t.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",t.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",t.utils.dom.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},t.utils.dom.cacheWidths_=null,t.utils.dom.cacheReference_=0,t.utils.dom.createSvgElement=function(e,n,o){for(var i in e=document.createElementNS(t.utils.dom.SVG_NS,e),n)e.setAttribute(i,n[i]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),o&&o.appendChild(e),e},t.utils.dom.addClass=function(t,e){var n=t.getAttribute("class")||"";return-1==(" "+n+" ").indexOf(" "+e+" ")&&(n&&(n+=" "),t.setAttribute("class",n+e),!0)},t.utils.dom.removeClass=function(t,e){var n=t.getAttribute("class");if(-1==(" "+n+" ").indexOf(" "+e+" "))return!1;n=n.split(/\s+/);for(var o=0;o<n.length;o++)n[o]&&n[o]!=e||(n.splice(o,1),o--);return n.length?t.setAttribute("class",n.join(" ")):t.removeAttribute("class"),!0},t.utils.dom.hasClass=function(t,e){return-1!=(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")},t.utils.dom.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},t.utils.dom.insertAfter=function(t,e){var n=e.nextSibling,o=e.parentNode;if(!o)throw Error("Reference node has no parent.");n?o.insertBefore(t,n):o.appendChild(t)},t.utils.dom.containsNode=function(e,n){return!!(e.compareDocumentPosition(n)&t.utils.dom.Node.DOCUMENT_POSITION_CONTAINED_BY)},t.utils.dom.setCssTransform=function(t,e){t.style.transform=e,t.style["-webkit-transform"]=e},t.utils.dom.startTextWidthCache=function(){t.utils.dom.cacheReference_++,t.utils.dom.cacheWidths_||(t.utils.dom.cacheWidths_={})},t.utils.dom.stopTextWidthCache=function(){t.utils.dom.cacheReference_--,t.utils.dom.cacheReference_||(t.utils.dom.cacheWidths_=null)},t.utils.dom.getTextWidth=function(e){var n,o=e.textContent+"\n"+e.className.baseVal;if(t.utils.dom.cacheWidths_&&(n=t.utils.dom.cacheWidths_[o]))return n;try{n=t.utils.userAgent.IE||t.utils.userAgent.EDGE?e.getBBox().width:e.getComputedTextLength()}catch(i){return 8*e.textContent.length}return t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[o]=n),n},t.Xml={},t.Xml.workspaceToDom=function(e,n){var o=t.utils.xml.createElement("xml"),i=t.Xml.variablesToDom(t.Variables.allUsedVarModels(e));i.hasChildNodes()&&o.appendChild(i);var r,s=e.getTopComments(!0);for(i=0;r=s[i];i++)o.appendChild(r.toXmlWithXY(n));for(s=e.getTopBlocks(!0),i=0;r=s[i];i++)o.appendChild(t.Xml.blockToDomWithXY(r,n));return o},t.Xml.variablesToDom=function(e){for(var n,o=t.utils.xml.createElement("variables"),i=0;n=e[i];i++){var r=t.utils.xml.createElement("variable");r.appendChild(t.utils.xml.createTextNode(n.name)),n.type&&r.setAttribute("type",n.type),r.id=n.getId(),o.appendChild(r)}return o},t.Xml.blockToDomWithXY=function(e,n){var o;e.workspace.RTL&&(o=e.workspace.getWidth());var i=t.Xml.blockToDom(e,n),r=e.getRelativeToSurfaceXY();return i.setAttribute("x",Math.round(e.workspace.RTL?o-r.x:r.x)),i.setAttribute("y",Math.round(r.y)),i},t.Xml.fieldToDom_=function(e){if(e.isSerializable()){var n=t.utils.xml.createElement("field");return n.setAttribute("name",e.name),e.toXml(n)}return null},t.Xml.allFieldsToDom_=function(e,n){for(var o,i=0;o=e.inputList[i];i++)for(var r,s=0;r=o.fieldRow[s];s++)(r=t.Xml.fieldToDom_(r))&&n.appendChild(r)},t.Xml.blockToDom=function(e,n){var o=t.utils.xml.createElement(e.isShadow()?"shadow":"block");if(o.setAttribute("type",e.type),n||(o.id=e.id),e.mutationToDom){var i=e.mutationToDom();i&&(i.hasChildNodes()||i.hasAttributes())&&o.appendChild(i)}if(t.Xml.allFieldsToDom_(e,o),i=e.getCommentText()){var r=e.commentModel.size,s=e.commentModel.pinned,a=t.utils.xml.createElement("comment");a.appendChild(t.utils.xml.createTextNode(i)),a.setAttribute("pinned",s),a.setAttribute("h",r.height),a.setAttribute("w",r.width),o.appendChild(a)}for(e.data&&((i=t.utils.xml.createElement("data")).appendChild(t.utils.xml.createTextNode(e.data)),o.appendChild(i)),r=0;s=e.inputList[r];r++){var l;if(a=!0,s.type!=t.DUMMY_INPUT){var u=s.connection.targetBlock();s.type==t.INPUT_VALUE?l=t.utils.xml.createElement("value"):s.type==t.NEXT_STATEMENT&&(l=t.utils.xml.createElement("statement")),!(i=s.connection.getShadowDom())||u&&u.isShadow()||l.appendChild(t.Xml.cloneShadow_(i,n)),u&&(l.appendChild(t.Xml.blockToDom(u,n)),a=!1),l.setAttribute("name",s.name),a||o.appendChild(l)}}return void 0!=e.inputsInline&&e.inputsInline!=e.inputsInlineDefault&&o.setAttribute("inline",e.inputsInline),e.isCollapsed()&&o.setAttribute("collapsed",!0),e.isEnabled()||o.setAttribute("disabled",!0),e.isDeletable()||e.isShadow()||o.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||o.setAttribute("movable",!1),e.isEditable()||o.setAttribute("editable",!1),(r=e.getNextBlock())&&((l=t.utils.xml.createElement("next")).appendChild(t.Xml.blockToDom(r,n)),o.appendChild(l)),!(i=e.nextConnection&&e.nextConnection.getShadowDom())||r&&r.isShadow()||l.appendChild(t.Xml.cloneShadow_(i,n)),o},t.Xml.cloneShadow_=function(e,n){for(var o,i=e=e.cloneNode(!0);i;)if(n&&"shadow"==i.nodeName&&i.removeAttribute("id"),i.firstChild)i=i.firstChild;else{for(;i&&!i.nextSibling;)o=i,i=i.parentNode,o.nodeType==t.utils.dom.Node.TEXT_NODE&&""==o.data.trim()&&i.firstChild!=o&&t.utils.dom.removeNode(o);i&&(o=i,i=i.nextSibling,o.nodeType==t.utils.dom.Node.TEXT_NODE&&""==o.data.trim()&&t.utils.dom.removeNode(o))}return e},t.Xml.domToText=function(e){e=t.utils.xml.domToText(e);var n=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var o=e;e=e.replace(n,"$1&#10;$2")}while(e!=o);return e},t.Xml.domToPrettyText=function(e){e=t.Xml.domToText(e).split("<");for(var n="",o=1;o<e.length;o++){var i=e[o];"/"==i[0]&&(n=n.substring(2)),e[o]=n+"<"+i,"/"!=i[0]&&"/>"!=i.slice(-2)&&(n+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},t.Xml.textToDom=function(e){var n=t.utils.xml.textToDomDocument(e);if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return n.documentElement},t.Xml.clearWorkspaceAndLoadFromXml=function(e,n){n.setResizesEnabled(!1),n.clear();var o=t.Xml.domToWorkspace(e,n);return n.setResizesEnabled(!0),o},t.Xml.domToWorkspace=function(e,n){if(e instanceof t.Workspace){var o=e;e=n,n=o,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var i;n.RTL&&(i=n.getWidth()),o=[],t.utils.dom.startTextWidthCache();var r=e.childNodes.length,s=t.Events.getGroup();s||t.Events.setGroup(!0),n.setResizesEnabled&&n.setResizesEnabled(!1);var a=!0;try{for(var l=0;l<r;l++){var u=e.childNodes[l],c=u.nodeName.toLowerCase();if("block"==c||"shadow"==c&&!t.Events.recordUndo){var h=t.Xml.domToBlock(u,n);o.push(h.id);var p=u.hasAttribute("x")?parseInt(u.getAttribute("x"),10):10,d=u.hasAttribute("y")?parseInt(u.getAttribute("y"),10):10;isNaN(p)||isNaN(d)||h.moveBy(n.RTL?i-p:p,d),a=!1}else{if("shadow"==c)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==c)n.rendered?t.WorkspaceCommentSvg?t.WorkspaceCommentSvg.fromXml(u,n,i):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):t.WorkspaceComment?t.WorkspaceComment.fromXml(u,n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==c){if(!a)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");t.Xml.domToVariables(u,n),a=!1}}}}finally{s||t.Events.setGroup(!1),t.utils.dom.stopTextWidthCache()}return n.setResizesEnabled&&n.setResizesEnabled(!0),t.Events.fire(new t.Events.FinishedLoading(n)),o},t.Xml.appendDomToWorkspace=function(e,n){if(n.hasOwnProperty("scale")){var o=t.BlockSvg.TAB_WIDTH;try{t.BlockSvg.TAB_WIDTH=0;var i=n.getBlocksBoundingBox()}finally{t.BlockSvg.TAB_WIDTH=o}}if(o=t.Xml.domToWorkspace(e,n),i&&i.top!=i.bottom){var r,s=i.bottom,a=i.left,l=1/0,u=1/0;for(i=0;i<o.length;i++){var c=n.getBlockById(o[i]).getRelativeToSurfaceXY();c.y<u&&(u=c.y),c.x<l&&(l=c.x)}for(s=s-u+t.BlockSvg.SEP_SPACE_Y,a-=l,n.RTL&&(r=n.getWidth()),i=0;i<o.length;i++)n.getBlockById(o[i]).moveBy(n.RTL?r-a:a,s)}return o},t.Xml.domToBlock=function(e,n){if(e instanceof t.Workspace){var o=e;e=n,n=o,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}t.Events.disable(),o=n.getAllVariables();try{var i=t.Xml.domToBlockHeadless_(e,n),r=i.getDescendants(!1);if(n.rendered){i.setConnectionsHidden(!0);for(var s=r.length-1;0<=s;s--)r[s].initSvg();for(s=r.length-1;0<=s;s--)r[s].render(!1);setTimeout((function(){i.workspace&&i.setConnectionsHidden(!1)}),1),i.updateDisabled(),n.resizeContents()}else for(s=r.length-1;0<=s;s--)r[s].initModel()}finally{t.Events.enable()}if(t.Events.isEnabled()){for(r=t.Variables.getAddedVariables(n,o),s=0;s<r.length;s++)t.Events.fire(new t.Events.VarCreate(r[s]));t.Events.fire(new t.Events.BlockCreate(i))}return i},t.Xml.domToVariables=function(e,n){for(var o,i=0;o=e.childNodes[i];i++)if(o.nodeType==t.utils.dom.Node.ELEMENT_NODE){var r=o.getAttribute("type"),s=o.getAttribute("id");n.createVariable(o.textContent,r,s)}},t.Xml.domToBlockHeadless_=function(e,n){var o=null,i=e.getAttribute("type");if(!i)throw TypeError("Block type unspecified: "+e.outerHTML);var r=e.getAttribute("id");o=n.newBlock(i,r);var s,a=null;for(r=0;s=e.childNodes[r];r++)if(s.nodeType!=t.utils.dom.Node.TEXT_NODE){for(var l,u=a=null,c=0;l=s.childNodes[c];c++)l.nodeType==t.utils.dom.Node.ELEMENT_NODE&&("block"==l.nodeName.toLowerCase()?a=l:"shadow"==l.nodeName.toLowerCase()&&(u=l));switch(!a&&u&&(a=u),c=s.getAttribute("name"),s.nodeName.toLowerCase()){case"mutation":o.domToMutation&&(o.domToMutation(s),o.initSvg&&o.initSvg());break;case"comment":if(!t.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}a=s.textContent,u="true"==s.getAttribute("pinned"),c=parseInt(s.getAttribute("w"),10),s=parseInt(s.getAttribute("h"),10),o.setCommentText(a),o.commentModel.pinned=u,isNaN(c)||isNaN(s)||(o.commentModel.size=new t.utils.Size(c,s)),u&&o.getCommentIcon&&!o.isInFlyout&&setTimeout((function(){o.getCommentIcon().setVisible(!0)}),1);break;case"data":o.data=s.textContent;break;case"title":case"field":t.Xml.domToField_(o,c,s);break;case"value":case"statement":if(!(s=o.getInput(c))){console.warn("Ignoring non-existent input "+c+" in block "+i);break}if(u&&s.connection.setShadowDom(u),a)if((a=t.Xml.domToBlockHeadless_(a,n)).outputConnection)s.connection.connect(a.outputConnection);else{if(!a.previousConnection)throw TypeError("Child block does not have output or previous statement.");s.connection.connect(a.previousConnection)}break;case"next":if(u&&o.nextConnection&&o.nextConnection.setShadowDom(u),a){if(!o.nextConnection)throw TypeError("Next statement does not exist.");if(o.nextConnection.isConnected())throw TypeError("Next statement is already connected.");if(!(a=t.Xml.domToBlockHeadless_(a,n)).previousConnection)throw TypeError("Next block does not have previous statement.");o.nextConnection.connect(a.previousConnection)}break;default:console.warn("Ignoring unknown tag: "+s.nodeName)}}if((r=e.getAttribute("inline"))&&o.setInputsInline("true"==r),(r=e.getAttribute("disabled"))&&o.setEnabled("true"!=r&&"disabled"!=r),(r=e.getAttribute("deletable"))&&o.setDeletable("true"==r),(r=e.getAttribute("movable"))&&o.setMovable("true"==r),(r=e.getAttribute("editable"))&&o.setEditable("true"==r),(r=e.getAttribute("collapsed"))&&o.setCollapsed("true"==r),"shadow"==e.nodeName.toLowerCase()){for(i=o.getChildren(!1),r=0;s=i[r];r++)if(!s.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(o.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");o.setShadow(!0)}return o},t.Xml.domToField_=function(t,e,n){var o=t.getField(e);o?o.fromXml(n):console.warn("Ignoring non-existent field "+e+" in block "+t.type)},t.Xml.deleteNext=function(t){for(var e,n=0;e=t.childNodes[n];n++)if("next"==e.nodeName.toLowerCase()){t.removeChild(e);break}},t.Connection=function(t,e){this.sourceBlock_=t,this.type=e},t.Connection.CAN_CONNECT=0,t.Connection.REASON_SELF_CONNECTION=1,t.Connection.REASON_WRONG_TYPE=2,t.Connection.REASON_TARGET_NULL=3,t.Connection.REASON_CHECKS_FAILED=4,t.Connection.REASON_DIFFERENT_WORKSPACES=5,t.Connection.REASON_SHADOW_PARENT=6,t.Connection.prototype.targetConnection=null,t.Connection.prototype.disposed=!1,t.Connection.prototype.check_=null,t.Connection.prototype.shadowDom_=null,t.Connection.prototype.x_=0,t.Connection.prototype.y_=0,t.Connection.prototype.connect_=function(e){var n,o=this,i=o.getSourceBlock(),r=e.getSourceBlock();if(e.isConnected()&&e.disconnect(),o.isConnected()){var s=o.targetBlock(),a=o.getShadowDom();if(o.setShadowDom(null),s.isShadow())a=t.Xml.blockToDom(s),s.dispose(),s=null;else if(o.type==t.INPUT_VALUE){if(!s.outputConnection)throw Error("Orphan block does not have an output connection.");var l=t.Connection.lastConnectionInRow_(r,s);l&&(s.outputConnection.connect(l),s=null)}else if(o.type==t.NEXT_STATEMENT){if(!s.previousConnection)throw Error("Orphan block does not have a previous connection.");for(l=r;l.nextConnection;){var u=l.getNextBlock();if(!u||u.isShadow()){s.previousConnection.checkType_(l.nextConnection)&&(l.nextConnection.connect(s.previousConnection),s=null);break}l=u}}if(s&&(o.disconnect(),t.Events.recordUndo)){var c=t.Events.getGroup();setTimeout((function(){s.workspace&&!s.getParent()&&(t.Events.setGroup(c),s.outputConnection?s.outputConnection.onFailedConnect(o):s.previousConnection&&s.previousConnection.onFailedConnect(o),t.Events.setGroup(!1))}),t.BUMP_DELAY)}o.setShadowDom(a)}t.Events.isEnabled()&&(n=new t.Events.BlockMove(r)),t.Connection.connectReciprocally_(o,e),r.setParent(i),n&&(n.recordNew(),t.Events.fire(n))},t.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var t=this.targetBlock();t.isShadow()?t.dispose():t.unplug()}this.disposed=!0},t.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Connection.prototype.isSuperior=function(){return this.type==t.INPUT_VALUE||this.type==t.NEXT_STATEMENT},t.Connection.prototype.isConnected=function(){return!!this.targetConnection},t.Connection.prototype.canConnectWithReason_=function(e){if(!e)return t.Connection.REASON_TARGET_NULL;if(this.isSuperior())var n=this.sourceBlock_,o=e.getSourceBlock();else o=this.sourceBlock_,n=e.getSourceBlock();return n&&n==o?t.Connection.REASON_SELF_CONNECTION:e.type!=t.OPPOSITE_TYPE[this.type]?t.Connection.REASON_WRONG_TYPE:n&&o&&n.workspace!==o.workspace?t.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType_(e)?n.isShadow()&&!o.isShadow()?t.Connection.REASON_SHADOW_PARENT:t.Connection.CAN_CONNECT:t.Connection.REASON_CHECKS_FAILED},t.Connection.prototype.checkConnection_=function(e){switch(this.canConnectWithReason_(e)){case t.Connection.CAN_CONNECT:break;case t.Connection.REASON_SELF_CONNECTION:throw Error("Attempted to connect a block to itself.");case t.Connection.REASON_DIFFERENT_WORKSPACES:throw Error("Blocks not on same workspace.");case t.Connection.REASON_WRONG_TYPE:throw Error("Attempt to connect incompatible types.");case t.Connection.REASON_TARGET_NULL:throw Error("Target connection is null.");case t.Connection.REASON_CHECKS_FAILED:throw Error("Connection checks failed. "+this+" expected "+this.check_+", found "+e.check_);case t.Connection.REASON_SHADOW_PARENT:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!")}},t.Connection.prototype.canConnectToPrevious_=function(e){return!this.targetConnection&&-1==t.draggingConnections_.indexOf(e)&&(!e.targetConnection||!!(e=e.targetBlock()).isInsertionMarker()&&!e.getPreviousBlock())},t.Connection.prototype.isConnectionAllowed=function(e){if(e.sourceBlock_.isInsertionMarker()||this.canConnectWithReason_(e)!=t.Connection.CAN_CONNECT)return!1;switch(e.type){case t.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e);case t.OUTPUT_VALUE:if(e.isConnected()&&!e.targetBlock().isInsertionMarker()||this.isConnected())return!1;break;case t.INPUT_VALUE:if(e.isConnected()&&!e.targetBlock().isMovable()&&!e.targetBlock().isShadow())return!1;break;case t.NEXT_STATEMENT:if(e.isConnected()&&!this.sourceBlock_.nextConnection&&!e.targetBlock().isShadow()&&e.targetBlock().nextConnection)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed")}return-1==t.draggingConnections_.indexOf(e)},t.Connection.prototype.onFailedConnect=function(t){},t.Connection.prototype.connect=function(e){if(this.targetConnection!=e){this.checkConnection_(e);var n=t.Events.getGroup();n||t.Events.setGroup(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n||t.Events.setGroup(!1)}},t.Connection.connectReciprocally_=function(t,e){if(!t||!e)throw Error("Cannot connect null connections.");t.targetConnection=e,e.targetConnection=t},t.Connection.singleConnection_=function(e,n){for(var o=!1,i=0;i<e.inputList.length;i++){var r=e.inputList[i].connection;if(r&&r.type==t.INPUT_VALUE&&n.outputConnection.checkType_(r)){if(o)return null;o=r}}return o},t.Connection.lastConnectionInRow_=function(e,n){for(var o,i=e;o=t.Connection.singleConnection_(i,n);)if(!(i=o.targetBlock())||i.isShadow())return o;return null},t.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var n=this.sourceBlock_,o=e.getSourceBlock();e=this}else n=e.getSourceBlock(),o=this.sourceBlock_;var i=t.Events.getGroup();i||t.Events.setGroup(!0),this.disconnectInternal_(n,o),e.respawnShadow_(),i||t.Events.setGroup(!1)},t.Connection.prototype.disconnectInternal_=function(e,n){var o;t.Events.isEnabled()&&(o=new t.Events.BlockMove(n)),this.targetConnection=this.targetConnection.targetConnection=null,n.setParent(null),o&&(o.recordNew(),t.Events.fire(o))},t.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),n=this.getShadowDom();if(e.workspace&&n&&t.Events.recordUndo)if((e=t.Xml.domToBlock(n,e.workspace)).outputConnection)this.connect(e.outputConnection);else{if(!e.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(e.previousConnection)}},t.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},t.Connection.prototype.checkType_=function(t){if(!this.check_||!t.check_)return!0;for(var e=0;e<this.check_.length;e++)if(-1!=t.check_.indexOf(this.check_[e]))return!0;return!1},t.Connection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},t.Connection.prototype.setCheck=function(t){return t?(Array.isArray(t)||(t=[t]),this.check_=t,this.onCheckChanged_()):this.check_=null,this},t.Connection.prototype.getCheck=function(){return this.check_},t.Connection.prototype.setShadowDom=function(t){this.shadowDom_=t},t.Connection.prototype.getShadowDom=function(){return this.shadowDom_},t.Connection.prototype.neighbours_=function(t){return[]},t.Connection.prototype.getParentInput=function(){for(var t=null,e=this.sourceBlock_,n=e.inputList,o=0;o<e.inputList.length;o++)if(n[o].connection===this){t=n[o];break}return t},t.Connection.prototype.toString=function(){var t=this.sourceBlock_;if(!t)return"Orphan Connection";if(t.outputConnection==this)var e="Output Connection of ";else if(t.previousConnection==this)e="Previous Connection of ";else if(t.nextConnection==this)e="Next Connection of ";else{e=null;for(var n,o=0;n=t.inputList[o];o++)if(n.connection==this){e=n;break}if(!e)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";e='Input "'+e.name+'" connection on '}return e+t.toDevString()},t.Extensions={},t.Extensions.ALL_={},t.Extensions.register=function(e,n){if("string"!=typeof e||""==e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(t.Extensions.ALL_[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof n)throw Error('Error: Extension "'+e+'" must be a function');t.Extensions.ALL_[e]=n},t.Extensions.registerMixin=function(e,n){if(!n||"object"!=typeof n)throw Error('Error: Mixin "'+e+'" must be a object');t.Extensions.register(e,(function(){this.mixin(n)}))},t.Extensions.registerMutator=function(e,n,o,i){var r='Error when registering mutator "'+e+'": ';t.Extensions.checkHasFunction_(r,n.domToMutation,"domToMutation"),t.Extensions.checkHasFunction_(r,n.mutationToDom,"mutationToDom");var s=t.Extensions.checkMutatorDialog_(n,r);if(o&&"function"!=typeof o)throw Error('Extension "'+e+'" is not a function');t.Extensions.register(e,(function(){if(s){if(!t.Mutator)throw Error(r+"Missing require for Blockly.Mutator");this.setMutator(new t.Mutator(i))}this.mixin(n),o&&o.apply(this)}))},t.Extensions.unregister=function(e){t.Extensions.ALL_[e]?delete t.Extensions.ALL_[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},t.Extensions.apply=function(e,n,o){var i=t.Extensions.ALL_[e];if("function"!=typeof i)throw Error('Error: Extension "'+e+'" not found.');if(o)t.Extensions.checkNoMutatorProperties_(e,n);else var r=t.Extensions.getMutatorProperties_(n);if(i.apply(n),o)t.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+e+'": ',n);else if(!t.Extensions.mutatorPropertiesMatch_(r,n))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},t.Extensions.checkHasFunction_=function(t,e,n){if(!e)throw Error(t+'missing required property "'+n+'"');if("function"!=typeof e)throw Error(t+'" required property "'+n+'" must be a function')},t.Extensions.checkNoMutatorProperties_=function(e,n){if(t.Extensions.getMutatorProperties_(n).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+n.id)},t.Extensions.checkMutatorDialog_=function(t,e){var n=void 0!==t.compose,o=void 0!==t.decompose;if(n&&o){if("function"!=typeof t.compose)throw Error(e+"compose must be a function.");if("function"!=typeof t.decompose)throw Error(e+"decompose must be a function.");return!0}if(n||o)throw Error(e+'Must have both or neither of "compose" and "decompose"');return!1},t.Extensions.checkBlockHasMutatorProperties_=function(e,n){if("function"!=typeof n.domToMutation)throw Error(e+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof n.mutationToDom)throw Error(e+'Applying a mutator didn\'t add "mutationToDom"');t.Extensions.checkMutatorDialog_(n,e)},t.Extensions.getMutatorProperties_=function(t){var e=[];return void 0!==t.domToMutation&&e.push(t.domToMutation),void 0!==t.mutationToDom&&e.push(t.mutationToDom),void 0!==t.compose&&e.push(t.compose),void 0!==t.decompose&&e.push(t.decompose),e},t.Extensions.mutatorPropertiesMatch_=function(e,n){var o=t.Extensions.getMutatorProperties_(n);if(o.length!=e.length)return!1;for(var i=0;i<o.length;i++)if(e[i]!=o[i])return!1;return!0},t.Extensions.buildTooltipForDropdown=function(e,n){var o=[];return"object"==typeof document&&t.utils.runAfterPageLoad((function(){for(var e in n)t.utils.checkMessageReferences(n[e])})),function(){this.type&&-1==o.indexOf(this.type)&&(t.Extensions.checkDropdownOptionsInTable_(this,e,n),o.push(this.type)),this.setTooltip(function(){var i=this.getFieldValue(e),r=n[i];return null==r?-1==o.indexOf(this.type)&&(i="No tooltip mapping for value "+i+" of field "+e,null!=this.type&&(i+=" of block type "+this.type),console.warn(i+".")):r=t.utils.replaceMessageReferences(r),r}.bind(this))}},t.Extensions.checkDropdownOptionsInTable_=function(t,e,n){var o=t.getField(e);if(!o.isOptionListDynamic()){o=o.getOptions();for(var i=0;i<o.length;++i){var r=o[i][1];null==n[r]&&console.warn("No tooltip mapping for value "+r+" of field "+e+" of block type "+t.type)}}},t.Extensions.buildTooltipWithFieldText=function(e,n){return"object"==typeof document&&t.utils.runAfterPageLoad((function(){t.utils.checkMessageReferences(e)})),function(){this.setTooltip(function(){var o=this.getField(n);return t.utils.replaceMessageReferences(e).replace("%1",o?o.getText():"")}.bind(this))}},t.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||this.tooltipWhenNotConnected_}.bind(this))},t.Extensions.register("parent_tooltip_when_inline",t.Extensions.extensionParentTooltip_),t.blockAnimations={},t.blockAnimations.disconnectPid_=0,t.blockAnimations.disconnectGroup_=null,t.blockAnimations.disposeUiEffect=function(e){var n=e.workspace,o=e.getSvgRoot();n.getAudioManager().play("delete"),e=n.getSvgXY(o),(o=o.cloneNode(!0)).translateX_=e.x,o.translateY_=e.y,o.setAttribute("transform","translate("+e.x+","+e.y+")"),n.getParentSvg().appendChild(o),o.bBox_=o.getBBox(),t.blockAnimations.disposeUiStep_(o,n.RTL,new Date,n.scale)},t.blockAnimations.disposeUiStep_=function(e,n,o,i){var r=(new Date-o)/150;1<r?t.utils.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(n?-1:1)*e.bBox_.width*i/2*r)+","+(e.translateY_+e.bBox_.height*i*r)+") scale("+(1-r)*i+")"),setTimeout(t.blockAnimations.disposeUiStep_,10,e,n,o,i))},t.blockAnimations.connectionUiEffect=function(e){var n=e.workspace,o=n.scale;if(n.getAudioManager().play("click"),!(1>o)){var i=n.getSvgXY(e.getSvgRoot());e.outputConnection?(i.x+=(e.RTL?3:-3)*o,i.y+=13*o):e.previousConnection&&(i.x+=(e.RTL?-23:23)*o,i.y+=3*o),e=t.utils.dom.createSvgElement("circle",{cx:i.x,cy:i.y,r:0,fill:"none",stroke:"#888","stroke-width":10},n.getParentSvg()),t.blockAnimations.connectionUiStep_(e,new Date,o)}},t.blockAnimations.connectionUiStep_=function(e,n,o){var i=(new Date-n)/150;1<i?t.utils.dom.removeNode(e):(e.setAttribute("r",25*i*o),e.style.opacity=1-i,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.connectionUiStep_,10,e,n,o))},t.blockAnimations.disconnectUiEffect=function(e){if(e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var n=e.getHeightWidth().height;n=Math.atan(10/n)/Math.PI*180,e.RTL||(n*=-1),t.blockAnimations.disconnectUiStep_(e.getSvgRoot(),n,new Date)}},t.blockAnimations.disconnectUiStep_=function(e,n,o){var i=(new Date-o)/200;1<i?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(i*Math.PI*3)*(1-i)*n)+")",t.blockAnimations.disconnectGroup_=e,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.disconnectUiStep_,10,e,n,o)),e.setAttribute("transform",e.translate_+e.skew_)},t.blockAnimations.disconnectUiStop=function(){if(t.blockAnimations.disconnectGroup_){clearTimeout(t.blockAnimations.disconnectPid_);var e=t.blockAnimations.disconnectGroup_;e.skew_="",e.setAttribute("transform",e.translate_),t.blockAnimations.disconnectGroup_=null}},t.InsertionMarkerManager=function(e){this.topBlock_=t.selected=e,this.workspace_=e.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.markerConnection_=null,this.highlightingBlock_=!1,this.highlightedBlock_=null,this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.prototype.dispose=function(){this.workspace_=this.topBlock_=null,this.availableConnections_.length=0,this.localConnection_=this.closestConnection_=null,t.Events.disable();try{this.firstMarker_&&(this.firstMarker_.dispose(),this.firstMarker_=null),this.lastMarker_&&(this.lastMarker_.dispose(),this.lastMarker_=null)}finally{t.Events.enable()}this.highlightedBlock_=null},t.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},t.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},t.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(t.Events.disable(),this.hidePreview_(),t.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var e=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;t.blockAnimations.connectionUiEffect(e.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},t.InsertionMarkerManager.prototype.update=function(e,n){var o=this.getCandidate_(e);((this.wouldDeleteBlock_=this.shouldDelete_(o,n))||this.shouldUpdatePreviews_(o,e))&&(t.Events.disable(),this.maybeHidePreview_(o),this.maybeShowPreview_(o),t.Events.enable())},t.InsertionMarkerManager.prototype.createMarkerBlock_=function(e){var n=e.type;t.Events.disable();try{var o=this.workspace_.newBlock(n);if(o.setInsertionMarker(!0,e.width),o.setCollapsed(e.isCollapsed()),e.mutationToDom){var i=e.mutationToDom();i&&o.domToMutation(i)}for(n=0;n<e.inputList.length;n++){var r=e.inputList[n],s=o.inputList[n];for(i=0;i<r.fieldRow.length;i++)s.fieldRow[i].setValue(r.fieldRow[i].getValue())}o.initSvg(),o.getSvgRoot().setAttribute("visibility","hidden")}finally{t.Events.enable()}return o},t.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var t=this.topBlock_.getConnections_(!1),e=this.topBlock_.lastConnectionInStack();return e&&e!=this.topBlock_.nextConnection&&(t.push(e),this.lastOnStack_=e,this.lastMarker_=this.createMarkerBlock_(e.sourceBlock_)),t},t.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(e,n){var o=e.local,i=e.closest,r=e.radius;if(!o||!i)return!(!this.localConnection_||!this.closestConnection_);if(this.localConnection_&&this.closestConnection_){if(this.closestConnection_==i&&this.localConnection_==o)return!1;o=this.localConnection_.x_+n.x-this.closestConnection_.x_;var s=this.localConnection_.y_+n.y-this.closestConnection_.y_;return o=Math.sqrt(o*o+s*s),!(i&&r>o-t.CURRENT_CONNECTION_PREFERENCE)}return!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0)},t.InsertionMarkerManager.prototype.getCandidate_=function(t){for(var e=this.getStartRadius_(),n=null,o=null,i=0;i<this.availableConnections_.length;i++){var r=this.availableConnections_[i],s=r.closest(e,t);s.connection&&(n=s.connection,o=r,e=s.radius)}return{closest:n,local:o,radius:e}},t.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?t.CONNECTING_SNAP_RADIUS:t.SNAP_RADIUS},t.InsertionMarkerManager.prototype.shouldReplace_=function(){var e=this.closestConnection_,n=this.localConnection_;return n.type==t.OUTPUT_VALUE?!(!e.isConnected()||t.Connection.lastConnectionInRow_(this.topBlock_,e.targetConnection.getSourceBlock())):n!=n.sourceBlock_.getFirstStatementConnection()&&!(this.topBlock_.nextConnection||n.type!=t.PREVIOUS_STATEMENT||!e.isConnected())},t.InsertionMarkerManager.prototype.shouldDelete_=function(e,n){var o=e&&!!e.closest&&n!=t.DELETE_AREA_TOOLBOX;return!!n&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable()&&!o},t.InsertionMarkerManager.prototype.maybeShowPreview_=function(t){if(!this.wouldDeleteBlock_){var e=t.closest;t=t.local,e&&(e==this.closestConnection_||e.sourceBlock_.isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=e,this.localConnection_=t,this.showPreview_()))}},t.InsertionMarkerManager.prototype.showPreview_=function(){this.shouldReplace_()?this.highlightBlock_():this.connectMarker_(),this.closestConnection_&&this.closestConnection_.highlight()},t.InsertionMarkerManager.prototype.maybeHidePreview_=function(t){if(t.closest){var e=this.closestConnection_!=t.closest;t=this.localConnection_!=t.local,this.closestConnection_&&this.localConnection_&&(e||t||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},t.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.unhighlight(),this.highlightingBlock_?this.unhighlightBlock_():this.markerConnection_&&this.disconnectMarker_()},t.InsertionMarkerManager.prototype.highlightBlock_=function(){var e=this.closestConnection_,n=this.localConnection_;e.targetBlock()?(this.highlightedBlock_=e.targetBlock(),e.targetBlock().highlightForReplacement(!0)):n.type==t.OUTPUT_VALUE&&(this.highlightedBlock_=e.sourceBlock_,e.sourceBlock_.highlightShapeForInput(e,!0)),this.highlightingBlock_=!0},t.InsertionMarkerManager.prototype.unhighlightBlock_=function(){var e=this.closestConnection_;e.type!=t.INPUT_VALUE||e.isConnected()?this.highlightedBlock_.highlightForReplacement(!1):this.highlightedBlock_.highlightShapeForInput(e,!1),this.highlightedBlock_=null,this.highlightingBlock_=!1},t.InsertionMarkerManager.prototype.disconnectMarker_=function(){if(this.markerConnection_){var e=this.markerConnection_,n=e.sourceBlock_,o=n.nextConnection,i=n.previousConnection,r=n.outputConnection;if(r=e.type==t.INPUT_VALUE&&!(r&&r.targetConnection),!(e!=o||i&&i.targetConnection)||r?e.targetBlock().unplug(!1):e.type==t.NEXT_STATEMENT&&e!=o?((o=e.targetConnection).sourceBlock_.unplug(!1),i=i?i.targetConnection:null,n.unplug(!0),i&&i.connect(o)):n.unplug(!0),e.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,n.getSvgRoot().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},t.InsertionMarkerManager.prototype.connectMarker_=function(){var t=this.localConnection_,e=this.closestConnection_,n=this.lastOnStack_&&t==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((t=n.getMatchingConnection(t.sourceBlock_,t))==this.markerConnection_)throw Error("Made it to connectMarker_ even though the marker isn't changing");n.render(),n.rendered=!0,n.getSvgRoot().setAttribute("visibility","visible"),n.positionNewBlock(n,t,e),t.connect(e),this.markerConnection_=t},t.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var t=[];return this.firstMarker_&&t.push(this.firstMarker_),this.lastMarker_&&t.push(this.lastMarker_),t},t.BlockDragger=function(e,n){this.draggingBlock_=e,this.workspace_=n,this.draggedConnectionManager_=new t.InsertionMarkerManager(this.draggingBlock_),this.deleteArea_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=t.BlockDragger.initIconData_(e)},t.BlockDragger.prototype.dispose=function(){this.startWorkspace_=this.workspace_=this.draggingBlock_=null,this.dragIconData_.length=0,this.draggedConnectionManager_&&(this.draggedConnectionManager_.dispose(),this.draggedConnectionManager_=null)},t.BlockDragger.initIconData_=function(t){var e=[];t=t.getDescendants(!1);for(var n,o=0;n=t[o];o++){n=n.getIcons();for(var i=0;i<n.length;i++){var r={location:n[i].getIconLocation(),icon:n[i]};e.push(r)}}return e},t.BlockDragger.prototype.startBlockDrag=function(e,n){if(t.Events.getGroup()||t.Events.setGroup(!0),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),t.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),t.blockAnimations.disconnectUiStop(),this.draggingBlock_.getParent()||n&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock()){this.draggingBlock_.unplug(n);var o=this.pixelsToWorkspaceUnits_(e);o=t.utils.Coordinate.sum(this.startXY_,o),this.draggingBlock_.translate(o.x,o.y),t.blockAnimations.disconnectUiEffect(this.draggingBlock_)}if(this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface_(),o=this.workspace_.getToolbox()){var i=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";o.addStyle(i)}},t.BlockDragger.prototype.dragBlock=function(e,n){var o=this.pixelsToWorkspaceUnits_(n),i=t.utils.Coordinate.sum(this.startXY_,o);this.draggingBlock_.moveDuringDrag(i),this.dragIcons_(o),this.deleteArea_=this.workspace_.isDeleteArea(e),this.draggedConnectionManager_.update(o,this.deleteArea_),this.updateCursorDuringBlockDrag_()},t.BlockDragger.prototype.endBlockDrag=function(e,n){this.dragBlock(e,n),this.dragIconData_=[],t.utils.dom.stopTextWidthCache(),t.blockAnimations.disconnectUiStop();var o=this.pixelsToWorkspaceUnits_(n),i=t.utils.Coordinate.sum(this.startXY_,o);this.draggingBlock_.moveOffDragSurface_(i),this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections_(o.x,o.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()),this.workspace_.setResizesEnabled(!0),(o=this.workspace_.getToolbox())&&(i=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",o.removeStyle(i)),t.Events.setGroup(!1)},t.BlockDragger.prototype.fireMoveEvent_=function(){var e=new t.Events.BlockMove(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),t.Events.fire(e)},t.BlockDragger.prototype.maybeDeleteBlock_=function(){var t=this.workspace_.trashcan;return this.wouldDeleteBlock_?(t&&setTimeout(t.close.bind(t),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0)):t&&t.close(),this.wouldDeleteBlock_},t.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var e=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==t.DELETE_AREA_TRASH&&e&&e.setOpen_(!0)):(this.draggingBlock_.setDeleteStyle(!1),e&&e.setOpen_(!1))},t.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BlockDragger.prototype.dragIcons_=function(e){for(var n=0;n<this.dragIconData_.length;n++){var o=this.dragIconData_[n];o.icon.setIconLocation(t.utils.Coordinate.sum(o.location,e))}},t.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},t.Touch={},t.Touch.TOUCH_ENABLED="ontouchstart"in t.utils.global||!!(t.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!t.utils.global.navigator||!t.utils.global.navigator.maxTouchPoints&&!t.utils.global.navigator.msMaxTouchPoints),t.Touch.touchIdentifier_=null,t.Touch.TOUCH_MAP={},t.utils.global.PointerEvent?t.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:t.Touch.TOUCH_ENABLED&&(t.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),t.longPid_=0,t.longStart_=function(e,n){t.longStop_(),e.changedTouches&&1!=e.changedTouches.length||(t.longPid_=setTimeout((function(){e.changedTouches&&(e.button=2,e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),n&&n.handleRightClick(e)}),t.LONGPRESS))},t.longStop_=function(){t.longPid_&&(clearTimeout(t.longPid_),t.longPid_=0)},t.Touch.clearTouchIdentifier=function(){t.Touch.touchIdentifier_=null},t.Touch.shouldHandleEvent=function(e){return!t.Touch.isMouseOrTouchEvent(e)||t.Touch.checkTouchIdentifier(e)},t.Touch.getTouchIdentifierFromEvent=function(t){return void 0!=t.pointerId?t.pointerId:t.changedTouches&&t.changedTouches[0]&&void 0!==t.changedTouches[0].identifier&&null!==t.changedTouches[0].identifier?t.changedTouches[0].identifier:"mouse"},t.Touch.checkTouchIdentifier=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);return void 0!==t.Touch.touchIdentifier_&&null!==t.Touch.touchIdentifier_?t.Touch.touchIdentifier_==n:("mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type)&&(t.Touch.touchIdentifier_=n,!0)},t.Touch.setClientFromTouch=function(e){if(t.utils.string.startsWith(e.type,"touch")){var n=e.changedTouches[0];e.clientX=n.clientX,e.clientY=n.clientY}},t.Touch.isMouseOrTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"mouse")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.isTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.splitEventByTouches=function(t){var e=[];if(t.changedTouches)for(var n=0;n<t.changedTouches.length;n++)e[n]={type:t.type,changedTouches:[t.changedTouches[n]],target:t.target,stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()}};else e.push(t);return e},t.ScrollbarPair=function(e){this.workspace_=e,this.hScroll=new t.Scrollbar(e,!0,!0,"blocklyMainWorkspaceScrollbar"),this.vScroll=new t.Scrollbar(e,!1,!0,"blocklyMainWorkspaceScrollbar"),this.corner_=t.utils.dom.createSvgElement("rect",{height:t.Scrollbar.scrollbarThickness,width:t.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),t.utils.dom.insertAfter(this.corner_,e.getBubbleCanvas())},t.ScrollbarPair.prototype.oldHostMetrics_=null,t.ScrollbarPair.prototype.dispose=function(){t.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll.dispose(),this.hScroll=null,this.vScroll.dispose(),this.vScroll=null},t.ScrollbarPair.prototype.resize=function(){var t=this.workspace_.getMetrics();if(t){var e=!1,n=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==t.contentWidth&&this.oldHostMetrics_.viewLeft==t.viewLeft&&this.oldHostMetrics_.contentLeft==t.contentLeft||(e=!0),this.oldHostMetrics_&&this.oldHostMetrics_.contentHeight==t.contentHeight&&this.oldHostMetrics_.viewTop==t.viewTop&&this.oldHostMetrics_.contentTop==t.contentTop||(n=!0)):n=e=!0,e&&this.hScroll.resize(t),n&&this.vScroll.resize(t),this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position_.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position_.y),this.oldHostMetrics_=t}},t.ScrollbarPair.prototype.set=function(t,e){var n={},o=t*this.hScroll.ratio_,i=e*this.vScroll.ratio_,r=this.vScroll.scrollViewSize_;n.x=this.getRatio_(o,this.hScroll.scrollViewSize_),n.y=this.getRatio_(i,r),this.workspace_.setMetrics(n),this.hScroll.setHandlePosition(o),this.vScroll.setHandlePosition(i)},t.ScrollbarPair.prototype.getRatio_=function(t,e){var n=t/e;return isNaN(n)?0:n},t.Scrollbar=function(e,n,o,i){this.workspace_=e,this.pair_=o||!1,this.horizontal_=n,this.oldHostMetrics_=null,this.createDom_(i),this.position_=new t.utils.Coordinate(0,0),e=t.Scrollbar.scrollbarThickness,n?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=t.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=t.bindEventWithChecks_(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},t.Scrollbar.prototype.origin_=new t.utils.Coordinate(0,0),t.Scrollbar.prototype.startDragMouse_=0,t.Scrollbar.prototype.scrollViewSize_=0,t.Scrollbar.prototype.handleLength_=0,t.Scrollbar.prototype.handlePosition_=0,t.Scrollbar.prototype.isVisible_=!0,t.Scrollbar.prototype.containerVisible_=!0,t.Scrollbar.scrollbarThickness=15,t.Touch.TOUCH_ENABLED&&(t.Scrollbar.scrollbarThickness=25),t.Scrollbar.metricsAreEquivalent_=function(t,e){return!(!t||!e||t.viewWidth!=e.viewWidth||t.viewHeight!=e.viewHeight||t.viewLeft!=e.viewLeft||t.viewTop!=e.viewTop||t.absoluteTop!=e.absoluteTop||t.absoluteLeft!=e.absoluteLeft||t.contentWidth!=e.contentWidth||t.contentHeight!=e.contentHeight||t.contentLeft!=e.contentLeft||t.contentTop!=e.contentTop)},t.Scrollbar.prototype.dispose=function(){this.cleanUp_(),t.unbindEvent_(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,t.unbindEvent_(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,t.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},t.Scrollbar.prototype.setHandleLength_=function(t){this.handleLength_=t,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},t.Scrollbar.prototype.setHandlePosition=function(t){this.handlePosition_=t,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},t.Scrollbar.prototype.setScrollViewSize_=function(t){this.scrollViewSize_=t,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollViewSize_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollViewSize_)},t.ScrollbarPair.prototype.setContainerVisible=function(t){this.hScroll.setContainerVisible(t),this.vScroll.setContainerVisible(t)},t.Scrollbar.prototype.setPosition_=function(e,n){this.position_.x=e,this.position_.y=n,t.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position_.x+this.origin_.x)+"px,"+(this.position_.y+this.origin_.y)+"px)")},t.Scrollbar.prototype.resize=function(e){(e||(e=this.workspace_.getMetrics()))&&(t.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.oldHostMetrics_=e,this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.onScroll_()))},t.Scrollbar.prototype.resizeHorizontal_=function(t){this.resizeViewHorizontal(t)},t.Scrollbar.prototype.resizeViewHorizontal=function(e){var n=e.viewWidth-1;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,n)),n=e.absoluteLeft+.5,this.pair_&&this.workspace_.RTL&&(n+=t.Scrollbar.scrollbarThickness),this.setPosition_(n,e.absoluteTop+e.viewHeight-t.Scrollbar.scrollbarThickness-.5),this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeContentHorizontal=function(t){this.pair_||this.setVisible(this.scrollViewSize_<t.contentWidth),this.ratio_=this.scrollViewSize_/t.contentWidth,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,t.viewWidth*this.ratio_)),this.setHandlePosition(this.constrainHandle_((t.viewLeft-t.contentLeft)*this.ratio_))},t.Scrollbar.prototype.resizeVertical_=function(t){this.resizeViewVertical(t)},t.Scrollbar.prototype.resizeViewVertical=function(e){var n=e.viewHeight-1;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,n)),n=e.absoluteLeft+.5,this.workspace_.RTL||(n+=e.viewWidth-t.Scrollbar.scrollbarThickness-1),this.setPosition_(n,e.absoluteTop+.5),this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeContentVertical=function(t){this.pair_||this.setVisible(this.scrollViewSize_<t.contentHeight),this.ratio_=this.scrollViewSize_/t.contentHeight,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,t.viewHeight*this.ratio_)),this.setHandlePosition(this.constrainHandle_((t.viewTop-t.contentTop)*this.ratio_))},t.Scrollbar.prototype.createDom_=function(e){var n="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(n+=" "+e),this.outerSvg_=t.utils.dom.createSvgElement("svg",{class:n},null),this.svgGroup_=t.utils.dom.createSvgElement("g",{},this.outerSvg_),this.svgBackground_=t.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarBackground"},this.svgGroup_),e=Math.floor((t.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=t.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbar","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),t.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},t.Scrollbar.prototype.isVisible=function(){return this.isVisible_},t.Scrollbar.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},t.Scrollbar.prototype.setVisible=function(t){var e=t!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=t,e&&this.updateDisplay_()},t.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},t.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.workspace_.markFocused(),t.Touch.clearTouchIdentifier(),this.cleanUp_(),t.utils.isRightButton(e))e.stopPropagation();else{var n=t.utils.mouseToSvg(e,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());n=this.horizontal_?n.x:n.y;var o=t.utils.getInjectionDivXY_(this.svgHandle_);o=this.horizontal_?o.x:o.y;var i=this.handlePosition_,r=.95*this.handleLength_;n<=o?i-=r:n>=o+this.handleLength_&&(i+=r),this.setHandlePosition(this.constrainHandle_(i)),this.onScroll_(),e.stopPropagation(),e.preventDefault()}},t.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),t.utils.isRightButton(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,t.Scrollbar.onMouseUpWrapper_=t.bindEventWithChecks_(document,"mouseup",this,this.onMouseUpHandle_),t.Scrollbar.onMouseMoveWrapper_=t.bindEventWithChecks_(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},t.Scrollbar.prototype.onMouseMoveHandle_=function(t){this.setHandlePosition(this.constrainHandle_(this.startDragHandle+((this.horizontal_?t.clientX:t.clientY)-this.startDragMouse_))),this.onScroll_()},t.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),t.Touch.clearTouchIdentifier(),this.cleanUp_()},t.Scrollbar.prototype.cleanUp_=function(){t.hideChaff(!0),t.Scrollbar.onMouseUpWrapper_&&(t.unbindEvent_(t.Scrollbar.onMouseUpWrapper_),t.Scrollbar.onMouseUpWrapper_=null),t.Scrollbar.onMouseMoveWrapper_&&(t.unbindEvent_(t.Scrollbar.onMouseMoveWrapper_),t.Scrollbar.onMouseMoveWrapper_=null)},t.Scrollbar.prototype.constrainHandle_=function(t){return 0>=t||isNaN(t)||this.scrollViewSize_<this.handleLength_?0:Math.min(t,this.scrollViewSize_-this.handleLength_)},t.Scrollbar.prototype.onScroll_=function(){var t=this.handlePosition_/this.scrollViewSize_;isNaN(t)&&(t=0);var e={};this.horizontal_?e.x=t:e.y=t,this.workspace_.setMetrics(e)},t.Scrollbar.prototype.set=function(t){this.setHandlePosition(this.constrainHandle_(t*this.ratio_)),this.onScroll_()},t.Scrollbar.prototype.setOrigin=function(e,n){this.origin_=new t.utils.Coordinate(e,n)},t.utils.math={},t.utils.math.toRadians=function(t){return t*Math.PI/180},t.utils.math.toDegrees=function(t){return 180*t/Math.PI},t.utils.math.clamp=function(t,e,n){if(n<t){var o=n;n=t,t=o}return Math.max(t,Math.min(e,n))},t.Cursor=function(){this.drawer_=this.curNode_=null},t.Cursor.prototype.setDrawer=function(t){this.drawer_=t},t.Cursor.prototype.getDrawer=function(){return this.drawer_},t.Cursor.prototype.getCurNode=function(){return this.curNode_},t.Cursor.prototype.setCurNode=function(t){this.curNode_=t,this.drawer_&&this.drawer_.draw(this.getCurNode())},t.Cursor.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},t.Cursor.prototype.next=function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e},t.Cursor.prototype.in=function(){var e=this.getCurNode();return e?(e.getType()!=t.ASTNode.types.PREVIOUS&&e.getType()!=t.ASTNode.types.OUTPUT||(e=e.next()),(e=e.in())&&this.setCurNode(e),e):null},t.Cursor.prototype.prev=function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e},t.Cursor.prototype.out=function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()==t.ASTNode.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null},t.MarkerCursor=function(){t.MarkerCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.MarkerCursor,t.Cursor),t.MarkerCursor.prototype.next=function(){return null},t.MarkerCursor.prototype.in=function(){return null},t.MarkerCursor.prototype.prev=function(){return null},t.MarkerCursor.prototype.out=function(){return null},t.Theme=function(t,e,n){this.blockStyles_=t,this.categoryStyles_=e,this.componentStyles_=n||Object.create(null)},t.Theme.prototype.setAllBlockStyles=function(t){for(var e in t)this.setBlockStyle(e,t[e])},t.Theme.prototype.getAllBlockStyles=function(){return this.blockStyles_},t.Theme.prototype.getBlockStyle=function(t){return this.blockStyles_[t]},t.Theme.prototype.setBlockStyle=function(t,e){this.blockStyles_[t]=e},t.Theme.prototype.getCategoryStyle=function(t){return this.categoryStyles_[t]},t.Theme.prototype.setCategoryStyle=function(t,e){this.categoryStyles_[t]=e},t.Theme.prototype.getComponentStyle=function(t){return(t=this.componentStyles_[t])&&"string"==typeof propertyValue&&this.getComponentStyle(t)?this.getComponentStyle(t):t?String(t):null},t.Theme.prototype.setComponentStyle=function(t,e){this.componentStyles_[t]=e},t.ThemeManager=function(t){this.theme_=t,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},t.ThemeManager.prototype.getTheme=function(){return this.theme_},t.ThemeManager.prototype.setTheme=function(t){if(this.theme_!==t){this.theme_=t,t=0;for(var e;e=this.subscribedWorkspaces_[t];t++)e.refreshTheme();t=0,e=Object.keys(this.componentDB_);for(var n;n=e[t];t++)for(var o,i=0;o=this.componentDB_[n][i];i++){var r=o.element;o=o.propertyName;var s=this.theme_&&this.theme_.getComponentStyle(n);r.style[o]=s||""}}},t.ThemeManager.prototype.subscribeWorkspace=function(t){this.subscribedWorkspaces_.push(t)},t.ThemeManager.prototype.unsubscribeWorkspace=function(t){if(0>(t=this.subscribedWorkspaces_.indexOf(t)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(t,1)},t.ThemeManager.prototype.subscribe=function(t,e,n){this.componentDB_[e]||(this.componentDB_[e]=[]),this.componentDB_[e].push({element:t,propertyName:n}),e=this.theme_&&this.theme_.getComponentStyle(e),t.style[n]=e||""},t.ThemeManager.prototype.unsubscribe=function(t){if(t)for(var e,n=Object.keys(this.componentDB_),o=0;e=n[o];o++){for(var i=this.componentDB_[e],r=i.length-1;0<=r;r--)i[r].element===t&&i.splice(r,1);this.componentDB_[e].length||delete this.componentDB_[e]}},t.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},t.Themes={},t.Themes.Classic={},t.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},t.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},t.Themes.Classic=new t.Theme(t.Themes.Classic.defaultBlockStyles,t.Themes.Classic.categoryStyles),t.VariableMap=function(t){this.variableMap_=Object.create(null),this.workspace=t},t.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},t.VariableMap.prototype.renameVariable=function(e,n){var o=this.getVariable(n,e.type),i=this.workspace.getAllBlocks(!1);t.Events.setGroup(!0);try{o&&o.getId()!=e.getId()?this.renameVariableWithConflict_(e,n,o,i):this.renameVariableAndUses_(e,n,i)}finally{t.Events.setGroup(!1)}},t.VariableMap.prototype.renameVariableById=function(t,e){var n=this.getVariableById(t);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+t);this.renameVariable(n,e)},t.VariableMap.prototype.renameVariableAndUses_=function(e,n,o){for(t.Events.fire(new t.Events.VarRename(e,n)),e.name=n,n=0;n<o.length;n++)o[n].updateVarName(e)},t.VariableMap.prototype.renameVariableWithConflict_=function(e,n,o,i){var r=e.type;for(n!=o.name&&this.renameVariableAndUses_(o,n,i),n=0;n<i.length;n++)i[n].renameVarById(e.getId(),o.getId());t.Events.fire(new t.Events.VarDelete(e)),e=this.getVariablesOfType(r).indexOf(e),this.variableMap_[r].splice(e,1)},t.VariableMap.prototype.createVariable=function(e,n,o){var i=this.getVariable(e,n);if(i){if(o&&i.getId()!=o)throw Error('Variable "'+e+'" is already in use and its id is "'+i.getId()+'" which conflicts with the passed in id, "'+o+'".');return i}if(o&&this.getVariableById(o))throw Error('Variable id, "'+o+'", is already in use.');return i=o||t.utils.genUid(),n=n||"",i=new t.VariableModel(this.workspace,e,n,i),(e=this.variableMap_[n]||[]).push(i),delete this.variableMap_[n],this.variableMap_[n]=e,i},t.VariableMap.prototype.deleteVariable=function(e){for(var n,o=this.variableMap_[e.type],i=0;n=o[i];i++)if(n.getId()==e.getId()){o.splice(i,1),t.Events.fire(new t.Events.VarDelete(e));break}},t.VariableMap.prototype.deleteVariableById=function(e){var n=this.getVariableById(e);if(n){var o,i=n.name,r=this.getVariableUsesById(e);for(e=0;o=r[e];e++)if("procedures_defnoreturn"==o.type||"procedures_defreturn"==o.type)return e=o.getFieldValue("NAME"),i=t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",i).replace("%2",e),void t.alert(i);var s=this;1<r.length?(i=t.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(r.length)).replace("%2",i),t.confirm(i,(function(t){t&&s.deleteVariableInternal_(n,r)}))):s.deleteVariableInternal_(n,r)}else console.warn("Can't delete non-existent variable: "+e)},t.VariableMap.prototype.deleteVariableInternal_=function(e,n){var o=t.Events.getGroup();o||t.Events.setGroup(!0);try{for(var i=0;i<n.length;i++)n[i].dispose(!0,!1);this.deleteVariable(e)}finally{o||t.Events.setGroup(!1)}},t.VariableMap.prototype.getVariable=function(e,n){var o=this.variableMap_[n||""];if(o)for(var i,r=0;i=o[r];r++)if(t.Names.equals(i.name,e))return i;return null},t.VariableMap.prototype.getVariableById=function(t){for(var e=Object.keys(this.variableMap_),n=0;n<e.length;n++)for(var o,i=e[n],r=0;o=this.variableMap_[i][r];r++)if(o.getId()==t)return o;return null},t.VariableMap.prototype.getVariablesOfType=function(t){return(t=this.variableMap_[t||""])?t.slice():[]},t.VariableMap.prototype.getVariableTypes=function(t){var e=[];t&&t.getPotentialVariableMap()&&(e=Object.keys(t.getPotentialVariableMap().variableMap_)),t=Object.keys(this.variableMap_).concat(e),e=!1;for(var n=0;n<t.length;n++)""==t[n]&&(e=!0);return e||t.push(""),t},t.VariableMap.prototype.getAllVariables=function(){var t,e=[];for(t in this.variableMap_)e=e.concat(this.variableMap_[t]);return e},t.VariableMap.prototype.getVariableUsesById=function(t){for(var e=[],n=this.workspace.getAllBlocks(!1),o=0;o<n.length;o++){var i=n[o].getVarModels();if(i)for(var r=0;r<i.length;r++)i[r].getId()==t&&e.push(n[o])}return e},t.Workspace=function(e){this.id=t.utils.genUid(),t.Workspace.WorkspaceDB_[this.id]=this,this.options=e||{},this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new t.VariableMap(this),this.potentialVariableMap_=null,this.cursor_=new t.Cursor,this.marker_=new t.MarkerCursor,this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new t.ThemeManager(this.options.theme||t.Themes.Classic),this.themeManager_.subscribeWorkspace(this)},t.Workspace.prototype.rendered=!1,t.Workspace.prototype.isClearing=!1,t.Workspace.prototype.MAX_UNDO=1024,t.Workspace.prototype.connectionDBList=null,t.Workspace.prototype.setCursor=function(t){this.cursor_=t},t.Workspace.prototype.setMarker=function(t){this.marker_=t},t.Workspace.prototype.getCursor=function(){return this.cursor_},t.Workspace.prototype.getMarker=function(){return this.marker_},t.Workspace.prototype.getTheme=function(){return this.themeManager_.getTheme()},t.Workspace.prototype.setTheme=function(e){e||(e=t.Themes.Classic),this.themeManager_.setTheme(e)},t.Workspace.prototype.refreshTheme=function(){this.updateBlockStyles_(this.getAllBlocks().filter((function(t){return void 0!==t.getStyleName()})));var e=new t.Events.Ui(null,"theme",null,null);e.workspaceId=this.id,t.Events.fire(e)},t.Workspace.prototype.updateBlockStyles_=function(t){for(var e,n=0;e=t[n];n++){var o=e.getStyleName();e.setStyle(o),e.mutator&&e.mutator.updateBlockStyle(o)}},t.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete t.Workspace.WorkspaceDB_[this.id],this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null))},t.Workspace.SCAN_ANGLE=3,t.Workspace.prototype.sortObjects_=function(e,n){var o=e.getRelativeToSurfaceXY(),i=n.getRelativeToSurfaceXY();return o.y+t.Workspace.prototype.sortObjects_.offset*o.x-(i.y+t.Workspace.prototype.sortObjects_.offset*i.x)},t.Workspace.prototype.addTopBlock=function(t){this.topBlocks_.push(t)},t.Workspace.prototype.removeTopBlock=function(e){if(!t.utils.arrayRemove(this.topBlocks_,e))throw Error("Block not present in workspace's list of top-most blocks.")},t.Workspace.prototype.getTopBlocks=function(e){var n=[].concat(this.topBlocks_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.addTypedBlock=function(t){this.typedBlocksDB_[t.type]||(this.typedBlocksDB_[t.type]=[]),this.typedBlocksDB_[t.type].push(t)},t.Workspace.prototype.removeTypedBlock=function(t){this.typedBlocksDB_[t.type].splice(this.typedBlocksDB_[t.type].indexOf(t),1),this.typedBlocksDB_[t.type].length||delete this.typedBlocksDB_[t.type]},t.Workspace.prototype.getBlocksByType=function(e,n){if(!this.typedBlocksDB_[e])return[];var o=this.typedBlocksDB_[e].slice(0);return n&&1<o.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),o.sort(this.sortObjects_)),o},t.Workspace.prototype.addTopComment=function(t){this.topComments_.push(t),this.commentDB_[t.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+t.id+'"'),this.commentDB_[t.id]=t},t.Workspace.prototype.removeTopComment=function(e){if(!t.utils.arrayRemove(this.topComments_,e))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[e.id]},t.Workspace.prototype.getTopComments=function(e){var n=[].concat(this.topComments_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.getAllBlocks=function(t){if(t){t=this.getTopBlocks(!0);for(var e=[],n=0;n<t.length;n++)e.push.apply(e,t[n].getDescendants(!0))}else for(e=this.getTopBlocks(!1),n=0;n<e.length;n++)e.push.apply(e,e[n].getChildren(!1));return e.filter((function(t){return!t.isInsertionMarker()}))},t.Workspace.prototype.clear=function(){this.isClearing=!0;try{var e=t.Events.getGroup();for(e||t.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose();for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose();e||t.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},t.Workspace.prototype.renameVariableById=function(t,e){this.variableMap_.renameVariableById(t,e)},t.Workspace.prototype.createVariable=function(t,e,n){return this.variableMap_.createVariable(t,e,n)},t.Workspace.prototype.getVariableUsesById=function(t){return this.variableMap_.getVariableUsesById(t)},t.Workspace.prototype.deleteVariableById=function(t){this.variableMap_.deleteVariableById(t)},t.Workspace.prototype.deleteVariableInternal_=function(t,e){this.variableMap_.deleteVariableInternal_(t,e)},t.Workspace.prototype.variableIndexOf=function(t){return console.warn("Deprecated call to Blockly.Workspace.prototype.variableIndexOf"),-1},t.Workspace.prototype.getVariable=function(t,e){return this.variableMap_.getVariable(t,e)},t.Workspace.prototype.getVariableById=function(t){return this.variableMap_.getVariableById(t)},t.Workspace.prototype.getVariablesOfType=function(t){return this.variableMap_.getVariablesOfType(t)},t.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},t.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},t.Workspace.prototype.getWidth=function(){return 0},t.Workspace.prototype.newBlock=function(e,n){return new t.Block(this,e,n)},t.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks().length},t.Workspace.prototype.remainingCapacityOfType=function(t){return this.options.maxInstances?(this.options.maxInstances[t]||1/0)-this.getBlocksByType(t).length:1/0},t.Workspace.prototype.isCapacityAvailable=function(t){if(!this.hasBlockLimits())return!0;var e,n=0;for(e in t){if(t[e]>this.remainingCapacityOfType(e))return!1;n+=t[e]}return!(n>this.remainingCapacity())},t.Workspace.prototype.hasBlockLimits=function(){return 1/0!=this.options.maxBlocks||!!this.options.maxInstances},t.Workspace.prototype.undo=function(e){var n=e?this.redoStack_:this.undoStack_,o=e?this.undoStack_:this.redoStack_,i=n.pop();if(i){for(var r=[i];n.length&&i.group&&i.group==n[n.length-1].group;)r.push(n.pop());for(n=0;i=r[n];n++)o.push(i);r=t.Events.filter(r,e),t.Events.recordUndo=!1;try{for(n=0;i=r[n];n++)i.run(e)}finally{t.Events.recordUndo=!0}}},t.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,t.Events.clearPendingUndo()},t.Workspace.prototype.addChangeListener=function(t){return this.listeners_.push(t),t},t.Workspace.prototype.removeChangeListener=function(e){t.utils.arrayRemove(this.listeners_,e)},t.Workspace.prototype.fireChangeListener=function(t){if(t.recordUndo)for(this.undoStack_.push(t),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var e,n=0;e=this.listeners_[n];n++)e(t)},t.Workspace.prototype.getBlockById=function(t){return this.blockDB_[t]||null},t.Workspace.prototype.getCommentById=function(t){return this.commentDB_[t]||null},t.Workspace.prototype.allInputsFilled=function(t){for(var e,n=this.getTopBlocks(!1),o=0;e=n[o];o++)if(!e.allInputsFilled(t))return!1;return!0},t.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},t.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new t.VariableMap(this)},t.Workspace.prototype.getVariableMap=function(){return this.variableMap_},t.Workspace.WorkspaceDB_=Object.create(null),t.Workspace.getById=function(e){return t.Workspace.WorkspaceDB_[e]||null},t.Workspace.getAll=function(){var e,n=[];for(e in t.Workspace.WorkspaceDB_)n.push(t.Workspace.WorkspaceDB_[e]);return n},t.Workspace.prototype.getThemeManager=function(){return this.themeManager_},t.Bubble=function(e,n,o,i,r,s){this.workspace_=e,this.content_=n,this.shape_=o,o=t.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(o=-o),this.arrow_radians_=t.utils.math.toRadians(o),e.getBubbleCanvas().appendChild(this.createDom_(n,!(!r||!s))),this.setAnchorLocation(i),r&&s||(r=(n=this.content_.getBBox()).width+2*t.Bubble.BORDER_WIDTH,s=n.height+2*t.Bubble.BORDER_WIDTH),this.setBubbleSize(r,s),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0,e.options.readOnly||(t.bindEventWithChecks_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&t.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))},t.Bubble.BORDER_WIDTH=6,t.Bubble.ARROW_THICKNESS=5,t.Bubble.ARROW_ANGLE=20,t.Bubble.ARROW_BEND=4,t.Bubble.ANCHOR_RADIUS=8,t.Bubble.onMouseUpWrapper_=null,t.Bubble.onMouseMoveWrapper_=null,t.Bubble.prototype.resizeCallback_=null,t.Bubble.unbindDragEvents_=function(){t.Bubble.onMouseUpWrapper_&&(t.unbindEvent_(t.Bubble.onMouseUpWrapper_),t.Bubble.onMouseUpWrapper_=null),t.Bubble.onMouseMoveWrapper_&&(t.unbindEvent_(t.Bubble.onMouseMoveWrapper_),t.Bubble.onMouseMoveWrapper_=null)},t.Bubble.bubbleMouseUp_=function(){t.Touch.clearTouchIdentifier(),t.Bubble.unbindDragEvents_()},t.Bubble.prototype.rendered_=!1,t.Bubble.prototype.anchorXY_=null,t.Bubble.prototype.relativeLeft_=0,t.Bubble.prototype.relativeTop_=0,t.Bubble.prototype.width_=0,t.Bubble.prototype.height_=0,t.Bubble.prototype.autoLayout_=!0,t.Bubble.prototype.createDom_=function(e,n){this.bubbleGroup_=t.utils.dom.createSvgElement("g",{},null);var o={filter:"url(#"+this.workspace_.options.embossFilterId+")"};return t.utils.userAgent.JAVA_FX&&(o={}),o=t.utils.dom.createSvgElement("g",o,this.bubbleGroup_),this.bubbleArrow_=t.utils.dom.createSvgElement("path",{},o),this.bubbleBack_=t.utils.dom.createSvgElement("rect",{class:"blocklyDraggable",x:0,y:0,rx:t.Bubble.BORDER_WIDTH,ry:t.Bubble.BORDER_WIDTH},o),n?(this.resizeGroup_=t.utils.dom.createSvgElement("g",{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),o=2*t.Bubble.BORDER_WIDTH,t.utils.dom.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,o.toString())},this.resizeGroup_),t.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:o/3,y1:o-1,x2:o-1,y2:o/3},this.resizeGroup_),t.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:2*o/3,y1:o-1,x2:o-1,y2:2*o/3},this.resizeGroup_)):this.resizeGroup_=null,this.bubbleGroup_.appendChild(e),this.bubbleGroup_},t.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},t.Bubble.prototype.setSvgId=function(t){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=t)},t.Bubble.prototype.bubbleMouseDown_=function(t){var e=this.workspace_.getGesture(t);e&&e.handleBubbleStart(t,this)},t.Bubble.prototype.showContextMenu_=function(t){},t.Bubble.prototype.isDeletable=function(){return!1},t.Bubble.prototype.resizeMouseDown_=function(e){this.promote_(),t.Bubble.unbindDragEvents_(),t.utils.isRightButton(e)||(this.workspace_.startDrag(e,new t.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),t.Bubble.onMouseUpWrapper_=t.bindEventWithChecks_(document,"mouseup",this,t.Bubble.bubbleMouseUp_),t.Bubble.onMouseMoveWrapper_=t.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),t.hideChaff()),e.stopPropagation()},t.Bubble.prototype.resizeMouseMove_=function(t){this.autoLayout_=!1,t=this.workspace_.moveDrag(t),this.setBubbleSize(this.workspace_.RTL?-t.x:t.x,t.y),this.workspace_.RTL&&this.positionBubble_()},t.Bubble.prototype.registerResizeEvent=function(t){this.resizeCallback_=t},t.Bubble.prototype.promote_=function(){var t=this.bubbleGroup_.parentNode;return t.lastChild!==this.bubbleGroup_&&(t.appendChild(this.bubbleGroup_),!0)},t.Bubble.prototype.setAnchorLocation=function(t){this.anchorXY_=t,this.rendered_&&this.positionBubble_()},t.Bubble.prototype.layoutBubble_=function(){var e=this.workspace_.getMetrics();e.viewLeft/=this.workspace_.scale,e.viewWidth/=this.workspace_.scale,e.viewTop/=this.workspace_.scale,e.viewHeight/=this.workspace_.scale;var n=this.getOptimalRelativeLeft_(e),o=this.getOptimalRelativeTop_(e),i=this.shape_.getBBox(),r={x:n,y:-this.height_-t.BlockSvg.MIN_BLOCK_Y},s={x:-this.width_-30,y:o};o={x:i.width,y:o};var a={x:n,y:i.height};n=i.width<i.height?o:a,i=i.width<i.height?a:o,o=this.getOverlap_(r,e),a=this.getOverlap_(s,e);var l=this.getOverlap_(n,e);e=this.getOverlap_(i,e),o==(e=Math.max(o,a,l,e))?(this.relativeLeft_=r.x,this.relativeTop_=r.y):a==e?(this.relativeLeft_=s.x,this.relativeTop_=s.y):l==e?(this.relativeLeft_=n.x,this.relativeTop_=n.y):(this.relativeLeft_=i.x,this.relativeTop_=i.y)},t.Bubble.prototype.getOverlap_=function(t,e){var n=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x+this.anchorXY_.x,o=t.y+this.anchorXY_.y;return Math.max(0,Math.min(1,(Math.min(n+this.width_,e.viewLeft+e.viewWidth)-Math.max(n,e.viewLeft))*(Math.min(o+this.height_,e.viewTop+e.viewHeight)-Math.max(o,e.viewTop))/(this.width_*this.height_)))},t.Bubble.prototype.getOptimalRelativeLeft_=function(e){var n=-this.width_/4;if(this.width_>e.viewWidth)return n;if(this.workspace_.RTL)var o=this.anchorXY_.x-n,i=o-this.width_,r=e.viewLeft+e.viewWidth,s=e.viewLeft+t.Scrollbar.scrollbarThickness/this.workspace_.scale;else o=(i=n+this.anchorXY_.x)+this.width_,s=e.viewLeft,r=e.viewLeft+e.viewWidth-t.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?i<s?n=-(s-this.anchorXY_.x+this.width_):o>r&&(n=-(r-this.anchorXY_.x)):i<s?n=s-this.anchorXY_.x:o>r&&(n=r-this.anchorXY_.x-this.width_),n},t.Bubble.prototype.getOptimalRelativeTop_=function(e){var n=-this.height_/4;if(this.height_>e.viewHeight)return n;var o=this.anchorXY_.y+n,i=o+this.height_,r=e.viewTop;e=e.viewTop+e.viewHeight-t.Scrollbar.scrollbarThickness/this.workspace_.scale;var s=this.anchorXY_.y;return o<r?n=r-s:i>e&&(n=e-s-this.height_),n},t.Bubble.prototype.positionBubble_=function(){var t=this.anchorXY_.x;t=this.workspace_.RTL?t-(this.relativeLeft_+this.width_):t+this.relativeLeft_,this.moveTo(t,this.relativeTop_+this.anchorXY_.y)},t.Bubble.prototype.moveTo=function(t,e){this.bubbleGroup_.setAttribute("transform","translate("+t+","+e+")")},t.Bubble.prototype.getBubbleSize=function(){return new t.utils.Size(this.width_,this.height_)},t.Bubble.prototype.setBubbleSize=function(e,n){var o=2*t.Bubble.BORDER_WIDTH;e=Math.max(e,o+45),n=Math.max(n,o+20),this.width_=e,this.height_=n,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",n),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*t.Bubble.BORDER_WIDTH+","+(n-o)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(e-o)+","+(n-o)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},t.Bubble.prototype.renderArrow_=function(){var e=[],n=this.width_/2,o=this.height_/2,i=-this.relativeLeft_,r=-this.relativeTop_;if(n==i&&o==r)e.push("M "+n+","+o);else{r-=o,i-=n,this.workspace_.RTL&&(i*=-1);var s=Math.sqrt(r*r+i*i),a=Math.acos(i/s);0>r&&(a=2*Math.PI-a);var l=a+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var u=Math.sin(l),c=Math.cos(l),h=this.getBubbleSize();l=(h.width+h.height)/t.Bubble.ARROW_THICKNESS,l=Math.min(l,h.width,h.height)/4,i=n+(h=1-t.Bubble.ANCHOR_RADIUS/s)*i,r=o+h*r,h=n+l*c;var p=o+l*u;n-=l*c,o-=l*u,(u=a+this.arrow_radians_)>2*Math.PI&&(u-=2*Math.PI),a=Math.sin(u)*s/t.Bubble.ARROW_BEND,s=Math.cos(u)*s/t.Bubble.ARROW_BEND,e.push("M"+h+","+p),e.push("C"+(h+s)+","+(p+a)+" "+i+","+r+" "+i+","+r),e.push("C"+i+","+r+" "+(n+s)+","+(o+a)+" "+n+","+o)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},t.Bubble.prototype.setColour=function(t){this.bubbleBack_.setAttribute("fill",t),this.bubbleArrow_.setAttribute("fill",t)},t.Bubble.prototype.dispose=function(){t.Bubble.unbindDragEvents_(),t.utils.dom.removeNode(this.bubbleGroup_),this.shape_=this.content_=this.workspace_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null},t.Bubble.prototype.moveDuringDrag=function(t,e){t?t.translateSurface(e.x,e.y):this.moveTo(e.x,e.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x-this.anchorXY_.x,this.relativeTop_=e.y-this.anchorXY_.y,this.renderArrow_()},t.Bubble.prototype.getRelativeToSurfaceXY=function(){return new t.utils.Coordinate(this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},t.Bubble.prototype.setAutoLayout=function(t){this.autoLayout_=t},t.Events.CommentBase=function(e){this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.utils.object.inherits(t.Events.CommentBase,t.Events.Abstract),t.Events.CommentBase.prototype.toJson=function(){var e=t.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(e.commentId=this.commentId),e},t.Events.CommentBase.prototype.fromJson=function(e){t.Events.CommentBase.superClass_.fromJson.call(this,e),this.commentId=e.commentId},t.Events.CommentChange=function(e,n,o){e&&(t.Events.CommentChange.superClass_.constructor.call(this,e),this.oldContents_=n,this.newContents_=o)},t.utils.object.inherits(t.Events.CommentChange,t.Events.CommentBase),t.Events.CommentChange.prototype.type=t.Events.COMMENT_CHANGE,t.Events.CommentChange.prototype.toJson=function(){var e=t.Events.CommentChange.superClass_.toJson.call(this);return e.newContents=this.newContents_,e},t.Events.CommentChange.prototype.fromJson=function(e){t.Events.CommentChange.superClass_.fromJson.call(this,e),this.newContents_=e.newValue},t.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},t.Events.CommentChange.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);e?e.setContent(t?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},t.Events.CommentCreate=function(e){e&&(t.Events.CommentCreate.superClass_.constructor.call(this,e),this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentCreate,t.Events.CommentBase),t.Events.CommentCreate.prototype.type=t.Events.COMMENT_CREATE,t.Events.CommentCreate.prototype.toJson=function(){var e=t.Events.CommentCreate.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e},t.Events.CommentCreate.prototype.fromJson=function(e){t.Events.CommentCreate.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml)},t.Events.CommentCreate.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,e)},t.Events.CommentCreateDeleteHelper=function(e,n){var o=e.getEventWorkspace_();if(n){var i=t.utils.xml.createElement("xml");i.appendChild(e.xml),t.Xml.domToWorkspace(i,o)}else(o=o.getCommentById(e.commentId))?o.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+e.commentId)},t.Events.CommentDelete=function(e){e&&(t.Events.CommentDelete.superClass_.constructor.call(this,e),this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentDelete,t.Events.CommentBase),t.Events.CommentDelete.prototype.type=t.Events.COMMENT_DELETE,t.Events.CommentDelete.prototype.toJson=function(){return t.Events.CommentDelete.superClass_.toJson.call(this)},t.Events.CommentDelete.prototype.fromJson=function(e){t.Events.CommentDelete.superClass_.fromJson.call(this,e)},t.Events.CommentDelete.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,!e)},t.Events.CommentMove=function(e){e&&(t.Events.CommentMove.superClass_.constructor.call(this,e),this.comment_=e,this.oldCoordinate_=e.getXY(),this.newCoordinate_=null)},t.utils.object.inherits(t.Events.CommentMove,t.Events.CommentBase),t.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},t.Events.CommentMove.prototype.type=t.Events.COMMENT_MOVE,t.Events.CommentMove.prototype.setOldCoordinate=function(t){this.oldCoordinate_=t},t.Events.CommentMove.prototype.toJson=function(){var e=t.Events.CommentMove.superClass_.toJson.call(this);return this.newCoordinate_&&(e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),e},t.Events.CommentMove.prototype.fromJson=function(e){t.Events.CommentMove.superClass_.fromJson.call(this,e),e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate_=new t.utils.Coordinate(Number(e[0]),Number(e[1])))},t.Events.CommentMove.prototype.isNull=function(){return t.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},t.Events.CommentMove.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);if(e){t=t?this.newCoordinate_:this.oldCoordinate_;var n=e.getXY();e.moveBy(t.x-n.x,t.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},t.BubbleDragger=function(e,n){this.draggingBubble_=e,this.workspace_=n,this.deleteArea_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=t.utils.is3dSupported()&&n.getBlockDragSurface()?n.getBlockDragSurface():null},t.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},t.BubbleDragger.prototype.startBubbleDrag=function(){t.Events.getGroup()||t.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var e=this.workspace_.getToolbox();if(e){var n=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e.addStyle(n)}},t.BubbleDragger.prototype.dragBubble=function(e,n){var o=this.pixelsToWorkspaceUnits_(n);o=t.utils.Coordinate.sum(this.startXY_,o),this.draggingBubble_.moveDuringDrag(this.dragSurface_,o),this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(e),this.updateCursorDuringBubbleDrag_())},t.BubbleDragger.prototype.maybeDeleteBubble_=function(){var t=this.workspace_.trashcan;return this.wouldDeleteBubble_?(t&&setTimeout(t.close.bind(t),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):t&&t.close(),this.wouldDeleteBubble_},t.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=t.DELETE_AREA_NONE;var e=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==t.DELETE_AREA_TRASH&&e&&e.setOpen_(!0)):(this.draggingBubble_.setDeleteStyle(!1),e&&e.setOpen_(!1))},t.BubbleDragger.prototype.endBubbleDrag=function(e,n){this.dragBubble(e,n);var o=this.pixelsToWorkspaceUnits_(n);o=t.utils.Coordinate.sum(this.startXY_,o),this.draggingBubble_.moveTo(o.x,o.y),this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),this.workspace_.toolbox_&&(o=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",this.workspace_.toolbox_.removeStyle(o)),t.Events.setGroup(!1)},t.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var e=new t.Events.CommentMove(this.draggingBubble_);e.setOldCoordinate(this.startXY_),e.recordNew(),t.Events.fire(e)}},t.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},t.constants={},t.LINE_MODE_MULTIPLIER=40,t.PAGE_MODE_MULTIPLIER=125,t.DRAG_RADIUS=5,t.FLYOUT_DRAG_RADIUS=10,t.SNAP_RADIUS=28,t.CONNECTING_SNAP_RADIUS=t.SNAP_RADIUS,t.CURRENT_CONNECTION_PREFERENCE=8,t.INSERTION_MARKER_COLOUR="#000000",t.BUMP_DELAY=250,t.BUMP_RANDOMNESS=10,t.COLLAPSE_CHARS=30,t.LONGPRESS=750,t.SOUND_LIMIT=100,t.DRAG_STACK=!0,t.HSV_SATURATION=.45,t.HSV_VALUE=.65,t.SPRITE={width:96,height:124,url:"sprites.png"},t.INPUT_VALUE=1,t.OUTPUT_VALUE=2,t.NEXT_STATEMENT=3,t.PREVIOUS_STATEMENT=4,t.DUMMY_INPUT=5,t.ALIGN_LEFT=-1,t.ALIGN_CENTRE=0,t.ALIGN_RIGHT=1,t.DRAG_NONE=0,t.DRAG_STICKY=1,t.DRAG_BEGIN=1,t.DRAG_FREE=2,t.OPPOSITE_TYPE=[],t.OPPOSITE_TYPE[t.INPUT_VALUE]=t.OUTPUT_VALUE,t.OPPOSITE_TYPE[t.OUTPUT_VALUE]=t.INPUT_VALUE,t.OPPOSITE_TYPE[t.NEXT_STATEMENT]=t.PREVIOUS_STATEMENT,t.OPPOSITE_TYPE[t.PREVIOUS_STATEMENT]=t.NEXT_STATEMENT,t.TOOLBOX_AT_TOP=0,t.TOOLBOX_AT_BOTTOM=1,t.TOOLBOX_AT_LEFT=2,t.TOOLBOX_AT_RIGHT=3,t.DELETE_AREA_NONE=null,t.DELETE_AREA_TRASH=1,t.DELETE_AREA_TOOLBOX=2,t.VARIABLE_CATEGORY_NAME="VARIABLE",t.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",t.PROCEDURE_CATEGORY_NAME="PROCEDURE",t.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",t.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",t.Events.Ui=function(e,n,o,i){t.Events.Ui.superClass_.constructor.call(this),this.blockId=e?e.id:null,this.workspaceId=e?e.workspace.id:void 0,this.element=n,this.oldValue=o,this.newValue=i,this.recordUndo=!1},t.utils.object.inherits(t.Events.Ui,t.Events.Abstract),t.Events.Ui.prototype.type=t.Events.UI,t.Events.Ui.prototype.toJson=function(){var e=t.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},t.Events.Ui.prototype.fromJson=function(e){t.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},t.WorkspaceDragger=function(e){this.workspace_=e,this.startScrollXY_=new t.utils.Coordinate(e.scrollX,e.scrollY)},t.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},t.WorkspaceDragger.prototype.startDrag=function(){t.selected&&t.selected.unselect(),this.workspace_.setupDragSurface()},t.WorkspaceDragger.prototype.endDrag=function(t){this.drag(t),this.workspace_.resetDragSurface()},t.WorkspaceDragger.prototype.drag=function(e){e=t.utils.Coordinate.sum(this.startScrollXY_,e),this.workspace_.scroll(e.x,e.y)},t.FlyoutDragger=function(e){t.FlyoutDragger.superClass_.constructor.call(this,e.getWorkspace()),this.scrollbar_=e.scrollbar_,this.horizontalLayout_=e.horizontalLayout_},t.utils.object.inherits(t.FlyoutDragger,t.WorkspaceDragger),t.FlyoutDragger.prototype.drag=function(e){e=t.utils.Coordinate.sum(this.startScrollXY_,e),this.horizontalLayout_?this.scrollbar_.set(-e.x):this.scrollbar_.set(-e.y)},t.Tooltip={},t.Tooltip.visible=!1,t.Tooltip.blocked_=!1,t.Tooltip.LIMIT=50,t.Tooltip.mouseOutPid_=0,t.Tooltip.showPid_=0,t.Tooltip.lastX_=0,t.Tooltip.lastY_=0,t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.OFFSET_X=0,t.Tooltip.OFFSET_Y=10,t.Tooltip.RADIUS_OK=10,t.Tooltip.HOVER_MS=750,t.Tooltip.MARGINS=5,t.Tooltip.DIV=null,t.Tooltip.createDom=function(){t.Tooltip.DIV||(t.Tooltip.DIV=document.createElement("div"),t.Tooltip.DIV.className="blocklyTooltipDiv",document.body.appendChild(t.Tooltip.DIV))},t.Tooltip.bindMouseEvents=function(e){t.bindEvent_(e,"mouseover",null,t.Tooltip.onMouseOver_),t.bindEvent_(e,"mouseout",null,t.Tooltip.onMouseOut_),e.addEventListener("mousemove",t.Tooltip.onMouseMove_,!1)},t.Tooltip.onMouseOver_=function(e){if(!t.Tooltip.blocked_){for(e=e.currentTarget;"string"!=typeof e.tooltip&&"function"!=typeof e.tooltip;)e=e.tooltip;t.Tooltip.element_!=e&&(t.Tooltip.hide(),t.Tooltip.poisonedElement_=null,t.Tooltip.element_=e),clearTimeout(t.Tooltip.mouseOutPid_)}},t.Tooltip.onMouseOut_=function(e){t.Tooltip.blocked_||(t.Tooltip.mouseOutPid_=setTimeout((function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()}),1),clearTimeout(t.Tooltip.showPid_))},t.Tooltip.onMouseMove_=function(e){if(t.Tooltip.element_&&t.Tooltip.element_.tooltip&&!t.Tooltip.blocked_)if(t.Tooltip.visible){var n=t.Tooltip.lastX_-e.pageX;e=t.Tooltip.lastY_-e.pageY,Math.sqrt(n*n+e*e)>t.Tooltip.RADIUS_OK&&t.Tooltip.hide()}else t.Tooltip.poisonedElement_!=t.Tooltip.element_&&(clearTimeout(t.Tooltip.showPid_),t.Tooltip.lastX_=e.pageX,t.Tooltip.lastY_=e.pageY,t.Tooltip.showPid_=setTimeout(t.Tooltip.show_,t.Tooltip.HOVER_MS))},t.Tooltip.hide=function(){t.Tooltip.visible&&(t.Tooltip.visible=!1,t.Tooltip.DIV&&(t.Tooltip.DIV.style.display="none")),t.Tooltip.showPid_&&clearTimeout(t.Tooltip.showPid_)},t.Tooltip.block=function(){t.Tooltip.hide(),t.Tooltip.blocked_=!0},t.Tooltip.unblock=function(){t.Tooltip.blocked_=!1},t.Tooltip.show_=function(){if(!t.Tooltip.blocked_&&(t.Tooltip.poisonedElement_=t.Tooltip.element_,t.Tooltip.DIV)){t.Tooltip.DIV.innerHTML="";for(var e=t.Tooltip.element_.tooltip;"function"==typeof e;)e=e();e=(e=t.utils.string.wrap(e,t.Tooltip.LIMIT)).split("\n");for(var n=0;n<e.length;n++){var o=document.createElement("div");o.appendChild(document.createTextNode(e[n])),t.Tooltip.DIV.appendChild(o)}e=t.Tooltip.element_.RTL,n=document.documentElement.clientWidth,o=document.documentElement.clientHeight,t.Tooltip.DIV.style.direction=e?"rtl":"ltr",t.Tooltip.DIV.style.display="block",t.Tooltip.visible=!0;var i=t.Tooltip.lastX_;i=e?i-(t.Tooltip.OFFSET_X+t.Tooltip.DIV.offsetWidth):i+t.Tooltip.OFFSET_X;var r=t.Tooltip.lastY_+t.Tooltip.OFFSET_Y;r+t.Tooltip.DIV.offsetHeight>o+window.scrollY&&(r-=t.Tooltip.DIV.offsetHeight+2*t.Tooltip.OFFSET_Y),e?i=Math.max(t.Tooltip.MARGINS-window.scrollX,i):i+t.Tooltip.DIV.offsetWidth>n+window.scrollX-2*t.Tooltip.MARGINS&&(i=n-t.Tooltip.DIV.offsetWidth-2*t.Tooltip.MARGINS),t.Tooltip.DIV.style.top=r+"px",t.Tooltip.DIV.style.left=i+"px"}},t.Gesture=function(e,n){this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=this.currentDragDeltaXY_=this.mouseDownXY_=null,this.creatorWorkspace_=n,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=e,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!t.DRAG_STACK},t.Gesture.prototype.dispose=function(){t.Touch.clearTouchIdentifier(),t.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&t.unbindEvent_(this.onMoveWrapper_),this.onUpWrapper_&&t.unbindEvent_(this.onUpWrapper_),this.flyout_=this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=null,this.blockDragger_&&(this.blockDragger_.dispose(),this.blockDragger_=null),this.workspaceDragger_&&(this.workspaceDragger_.dispose(),this.workspaceDragger_=null),this.bubbleDragger_&&(this.bubbleDragger_.dispose(),this.bubbleDragger_=null)},t.Gesture.prototype.updateFromEvent_=function(e){var n=new t.utils.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(n)&&(this.updateIsDragging_(),t.longStop_()),this.mostRecentEvent_=e},t.Gesture.prototype.updateDragDelta_=function(e){return this.currentDragDeltaXY_=t.utils.Coordinate.difference(e,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=t.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?t.FLYOUT_DRAG_RADIUS:t.DRAG_RADIUS))},t.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!!this.flyout_.isBlockCreatable_(this.targetBlock_)&&!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace_,this.startWorkspace_.updateScreenCalculationsIfScrolled(),t.Events.getGroup()||t.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0)},t.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},t.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},t.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=this.flyout_?new t.FlyoutDragger(this.flyout_):new t.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},t.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},t.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new t.BlockDragger(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new t.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.doStart=function(e){t.utils.isTargetInput(e)?this.cancel():(this.hasStarted_=!0,t.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,t.hideChaff(!!this.flyout_),t.Tooltip.block(),this.targetBlock_&&(!this.targetBlock_.isInFlyout&&e.shiftKey?(t.navigation.enableKeyboardAccessibility(),this.creatorWorkspace_.getCursor().setCurNode(t.navigation.getTopNode(this.targetBlock_))):this.targetBlock_.select()),t.utils.isRightButton(e)?this.handleRightClick(e):("touchstart"!=e.type.toLowerCase()&&"pointerdown"!=e.type.toLowerCase()||"mouse"==e.pointerType||t.longStart_(e,this),this.mouseDownXY_=new t.utils.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},t.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=t.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=t.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleMove=function(t){this.updateFromEvent_(t),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),t.preventDefault(),t.stopPropagation()},t.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),t.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e),e.preventDefault(),e.stopPropagation(),this.dispose())},t.Gesture.prototype.cancel=function(){this.isEnding_||(t.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},t.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),t.hideChaff(this.flyout_),this.targetBlock_.showContextMenu_(e)):this.startBubble_?this.startBubble_.showContextMenu_(e):this.startWorkspace_&&!this.flyout_&&(t.hideChaff(),this.startWorkspace_.showContextMenu_(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},t.Gesture.prototype.handleWsStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(n),this.mostRecentEvent_=e,this.doStart(e),t.keyboardAccessibilityMode&&t.navigation.setState(t.navigation.STATE_WS)},t.Gesture.prototype.handleFlyoutStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(e),this.handleWsStart(t,e.getWorkspace())},t.Gesture.prototype.handleBlockStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(e),this.mostRecentEvent_=t},t.Gesture.prototype.handleBubbleStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(e),this.mostRecentEvent_=t},t.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},t.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor_(),this.bringBlockToFront_()},t.Gesture.prototype.doBlockClick_=function(){this.flyout_&&this.flyout_.autoClose?this.targetBlock_.isEnabled()&&(t.Events.getGroup()||t.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump()):t.Events.fire(new t.Events.Ui(this.startBlock_,"click",void 0,void 0)),this.bringBlockToFront_(),t.Events.setGroup(!1)},t.Gesture.prototype.doWorkspaceClick_=function(e){var n=this.creatorWorkspace_;e.shiftKey?(t.navigation.enableKeyboardAccessibility(),e=new t.utils.Coordinate(e.clientX,e.clientY),e=t.utils.screenToWsCoordinates(n,e),e=t.ASTNode.createWorkspaceNode(n,e),n.getCursor().setCurNode(e)):t.selected&&t.selected.unselect()},t.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},t.Gesture.prototype.setStartField=function(t){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=t)},t.Gesture.prototype.setStartBubble=function(t){this.startBubble_||(this.startBubble_=t)},t.Gesture.prototype.setStartBlock=function(t){this.startBlock_||this.startBubble_||(this.startBlock_=t,t.isInFlyout&&t!=t.getRootBlock()?this.setTargetBlock_(t.getRootBlock()):this.setTargetBlock_(t))},t.Gesture.prototype.setTargetBlock_=function(t){t.isShadow()?this.setTargetBlock_(t.getParent()):this.targetBlock_=t},t.Gesture.prototype.setStartWorkspace_=function(t){this.startWorkspace_||(this.startWorkspace_=t)},t.Gesture.prototype.setStartFlyout_=function(t){this.flyout_||(this.flyout_=t)},t.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},t.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},t.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},t.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_},t.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},t.Gesture.prototype.hasStarted=function(){return this.hasStarted_},t.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},t.Gesture.inProgress=function(){for(var e,n=t.Workspace.getAll(),o=0;e=n[o];o++)if(e.currentGesture_)return!0;return!1},t.Field=function(e,n,o){this.tooltip_=this.validator_=this.value_=null,this.size_=new t.utils.Size(0,0),this.markerSvg_=this.cursorSvg_=null,o&&this.configure_(o),this.setValue(e),n&&this.setValidator(n)},t.Field.BORDER_RECT_DEFAULT_HEIGHT=16,t.Field.TEXT_DEFAULT_HEIGHT=12.5,t.Field.X_PADDING=10,t.Field.Y_PADDING=10,t.Field.DEFAULT_TEXT_OFFSET=t.Field.X_PADDING/2,t.Field.prototype.name=void 0,t.Field.prototype.disposed=!1,t.Field.prototype.maxDisplayLength=50,t.Field.prototype.sourceBlock_=null,t.Field.prototype.isDirty_=!0,t.Field.prototype.visible_=!0,t.Field.prototype.clickTarget_=null,t.Field.NBSP="\xa0",t.Field.prototype.EDITABLE=!0,t.Field.prototype.SERIALIZABLE=!1,t.Field.prototype.configure_=function(e){var n=e.tooltip;"string"==typeof n&&(n=t.utils.replaceMessageReferences(e.tooltip)),n&&this.setTooltip(n)},t.Field.prototype.setSourceBlock=function(t){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=t},t.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=t.utils.dom.createSvgElement("g",{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},t.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},t.Field.prototype.initModel=function(){},t.Field.prototype.createBorderRect_=function(){this.size_.height=Math.max(this.size_.height,t.Field.BORDER_RECT_DEFAULT_HEIGHT),this.size_.width=Math.max(this.size_.width,t.Field.X_PADDING),this.borderRect_=t.utils.dom.createSvgElement("rect",{rx:4,ry:4,x:0,y:0,height:this.size_.height,width:this.size_.width},this.fieldGroup_)},t.Field.prototype.createTextElement_=function(){this.textElement_=t.utils.dom.createSvgElement("text",{class:"blocklyText",y:t.Field.TEXT_DEFAULT_HEIGHT,x:this.borderRect_?t.Field.DEFAULT_TEXT_OFFSET:0},this.fieldGroup_),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},t.Field.prototype.bindEvents_=function(){t.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=t.bindEventWithChecks_(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},t.Field.prototype.fromXml=function(t){this.setValue(t.textContent)},t.Field.prototype.toXml=function(t){return t.textContent=this.getValue(),t},t.Field.prototype.dispose=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hideIfOwner(this),this.mouseDownWrapper_&&t.unbindEvent_(this.mouseDownWrapper_),t.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},t.Field.prototype.updateEditable=function(){var e=this.getClickTarget_();this.EDITABLE&&e&&(this.sourceBlock_.isEditable()?(t.utils.dom.addClass(e,"blocklyEditableText"),t.utils.dom.removeClass(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(t.utils.dom.addClass(e,"blocklyNonEditableText"),t.utils.dom.removeClass(e,"blocklyEditableText"),e.style.cursor=""))},t.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"===typeof this.showEditor_},t.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},t.Field.prototype.isSerializable=function(){var t=!1;return this.name&&(this.SERIALIZABLE?t=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),t=!0)),t},t.Field.prototype.isVisible=function(){return this.visible_},t.Field.prototype.setVisible=function(t){if(this.visible_!=t){this.visible_=t;var e=this.getSvgRoot();e&&(e.style.display=t?"block":"none")}},t.Field.prototype.setValidator=function(t){this.validator_=t},t.Field.prototype.getValidator=function(){return this.validator_},t.Field.prototype.classValidator=function(t){return t},t.Field.prototype.callValidator=function(t){var e=this.classValidator(t);if(null===e)return null;if(void 0!==e&&(t=e),e=this.getValidator()){if(null===(e=e.call(this,t)))return null;void 0!==e&&(t=e)}return t},t.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},t.Field.prototype.updateColour=function(){},t.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_(),this.updateSize_())},t.Field.prototype.updateWidth=function(){console.warn("Deprecated call to updateWidth, call Blockly.Field.updateSize_ to force an update to the size of the field, or Blockly.utils.dom.getTextWidth() to check the size of the field."),this.updateSize_()},t.Field.prototype.updateSize_=function(){var e=t.utils.dom.getTextWidth(this.textElement_);this.borderRect_&&(e+=t.Field.X_PADDING,this.borderRect_.setAttribute("width",e)),this.size_.width=e},t.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new t.utils.Size(0,0)},t.Field.prototype.getScaledBBox_=function(){var t=this.borderRect_.getBBox(),e=t.height*this.sourceBlock_.workspace.scale;t=t.width*this.sourceBlock_.workspace.scale;var n=this.getAbsoluteXY_();return{top:n.y,bottom:n.y+e,left:n.x,right:n.x+t}},t.Field.prototype.getDisplayText_=function(){var e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"\u2026"),e=e.replace(/\s/g,t.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="\u200f"),e):t.Field.NBSP},t.Field.prototype.getText=function(){if(this.getText_){var t=this.getText_.call(this);if(null!==t)return String(t)}return String(this.getValue())},t.Field.prototype.setText=function(t){throw Error("setText method is deprecated")},t.Field.prototype.markDirty=function(){this.isDirty_=!0},t.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours())},t.Field.prototype.setValue=function(e){if(null!==e){var n=this.doClassValidation_(e);if(!((e=this.processValidation_(e,n))instanceof Error)){if((n=this.getValidator())&&(n=n.call(this,e),(e=this.processValidation_(e,n))instanceof Error))return;(n=this.getValue())!==e&&(this.sourceBlock_&&t.Events.isEnabled()&&t.Events.fire(new t.Events.BlockChange(this.sourceBlock_,"field",this.name||null,n,e)),this.doValueUpdate_(e),this.isDirty_&&this.forceRerender())}}},t.Field.prototype.processValidation_=function(t,e){return null===e?(this.doValueInvalid_(t),this.isDirty_&&this.forceRerender(),Error()):(void 0!==e&&(t=e),t)},t.Field.prototype.getValue=function(){return this.value_},t.Field.prototype.doClassValidation_=function(t){return null===t||void 0===t?null:t=this.classValidator(t)},t.Field.prototype.doValueUpdate_=function(t){this.value_=t,this.isDirty_=!0},t.Field.prototype.doValueInvalid_=function(t){},t.Field.prototype.onMouseDown_=function(t){this.sourceBlock_&&this.sourceBlock_.workspace&&(t=this.sourceBlock_.workspace.getGesture(t))&&t.setStartField(this)},t.Field.prototype.setTooltip=function(t){var e=this.getClickTarget_();e?e.tooltip=t||""===t?t:this.sourceBlock_:this.tooltip_=t},t.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},t.Field.prototype.getAbsoluteXY_=function(){return t.utils.style.getPageOffset(this.borderRect_)},t.Field.prototype.referencesVariables=function(){return!1},t.Field.prototype.getParentInput=function(){for(var t=null,e=this.sourceBlock_,n=e.inputList,o=0;o<e.inputList.length;o++)for(var i=n[o],r=i.fieldRow,s=0;s<r.length;s++)if(r[s]===this){t=i;break}return t},t.Field.prototype.getFlipRtl=function(){return!1},t.Field.prototype.isTabNavigable=function(){return!1},t.Field.prototype.onBlocklyAction=function(t){return!1},t.Field.prototype.setCursorSvg=function(t){t?(this.fieldGroup_.appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.Field.prototype.setMarkerSvg=function(t){t?(this.fieldGroup_.appendChild(t),this.markerSvg_=t):this.markerSvg_=null},t.fieldRegistry={},t.fieldRegistry.typeMap_={},t.fieldRegistry.register=function(e,n){if("string"!=typeof e||""==e.trim())throw Error('Invalid field type "'+e+'". The type must be a non-empty string.');if(t.fieldRegistry.typeMap_[e])throw Error('Error: Field "'+e+'" is already registered.');if(!n||"function"!=typeof n.fromJson)throw Error('Field "'+n+'" must have a fromJson function');e=e.toLowerCase(),t.fieldRegistry.typeMap_[e]=n},t.fieldRegistry.unregister=function(e){t.fieldRegistry.typeMap_[e]?delete t.fieldRegistry.typeMap_[e]:console.warn('No field mapping for type "'+e+'" found to unregister')},t.fieldRegistry.fromJson=function(e){var n=e.type.toLowerCase();return(n=t.fieldRegistry.typeMap_[n])?n.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},t.FieldLabel=function(e,n,o){this.class_=null,null==e&&(e=""),t.FieldLabel.superClass_.constructor.call(this,e,null,o),o||(this.class_=n||null),this.size_=new t.utils.Size(0,t.Field.TEXT_DEFAULT_HEIGHT)},t.utils.object.inherits(t.FieldLabel,t.Field),t.FieldLabel.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabel(n,void 0,e)},t.FieldLabel.prototype.EDITABLE=!1,t.FieldLabel.prototype.configure_=function(e){t.FieldLabel.superClass_.configure_.call(this,e),this.class_=e.class},t.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.textElement_.setAttribute("y",this.size_.height),this.class_&&t.utils.dom.addClass(this.textElement_,this.class_)},t.FieldLabel.prototype.doClassValidation_=function(t){return null===t||void 0===t?null:String(t)},t.FieldLabel.prototype.setClass=function(e){this.textElement_&&(this.class_&&t.utils.dom.removeClass(this.textElement_,this.class_),e&&t.utils.dom.addClass(this.textElement_,e)),this.class_=e},t.fieldRegistry.register("field_label",t.FieldLabel),t.Input=function(e,n,o,i){if(e!=t.DUMMY_INPUT&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=e,this.name=n,this.sourceBlock_=o,this.connection=i,this.fieldRow=[]},t.Input.prototype.align=t.ALIGN_LEFT,t.Input.prototype.visible_=!0,t.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Input.prototype.appendField=function(t,e){return this.insertFieldAt(this.fieldRow.length,t,e),this},t.Input.prototype.insertFieldAt=function(e,n,o){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return n||""==n&&o?("string"==typeof n&&(n=new t.FieldLabel(n)),n.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&n.init(),n.name=o,n.prefixField&&(e=this.insertFieldAt(e,n.prefixField)),this.fieldRow.splice(e,0,n),++e,n.suffixField&&(e=this.insertFieldAt(e,n.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),e):e},t.Input.prototype.removeField=function(t){for(var e,n=0;e=this.fieldRow[n];n++)if(e.name===t)return e.dispose(),this.fieldRow.splice(n,1),void(this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()));throw Error('Field "%s" not found.',t)},t.Input.prototype.isVisible=function(){return this.visible_},t.Input.prototype.setVisible=function(t){var e=[];if(this.visible_==t)return e;for(var n,o=(this.visible_=t)?"block":"none",i=0;n=this.fieldRow[i];i++)n.setVisible(t);return this.connection&&(t?e=this.connection.unhideAll():this.connection.hideAll(),i=this.connection.targetBlock())&&(i.getSvgRoot().style.display=o,t||(i.rendered=!1)),e},t.Input.prototype.markDirty=function(){for(var t,e=0;t=this.fieldRow[e];e++)t.markDirty()},t.Input.prototype.setCheck=function(t){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(t),this},t.Input.prototype.setAlign=function(t){return this.align=t,this.sourceBlock_.rendered&&this.sourceBlock_.render(),this},t.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var t=0;t<this.fieldRow.length;t++)this.fieldRow[t].init()},t.Input.prototype.dispose=function(){for(var t,e=0;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},t.utils.colour={},t.utils.colour.parse=function(e){e=String(e).toLowerCase().trim();var n=t.utils.colour.names[e];if(n)return n;if(n="#"==e[0]?e:"#"+e,/^#[0-9a-f]{6}$/.test(n))return n;if(/^#[0-9a-f]{3}$/.test(n))return["#",n[1],n[1],n[2],n[2],n[3],n[3]].join("");var o=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return o&&(e=Number(o[1]),n=Number(o[2]),o=Number(o[3]),0<=e&&256>e&&0<=n&&256>n&&0<=o&&256>o)?t.utils.colour.rgbToHex(e,n,o):null},t.utils.colour.rgbToHex=function(t,e,n){return e=t<<16|e<<8|n,16>t?"#"+(16777216|e).toString(16).substr(1):"#"+e.toString(16)},t.utils.colour.hexToRgb=function(t){return[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]},t.utils.colour.hsvToHex=function(e,n,o){var i=0,r=0,s=0;if(0==n)s=r=i=o;else{var a=Math.floor(e/60),l=e/60-a;e=o*(1-n);var u=o*(1-n*l);switch(n=o*(1-n*(1-l)),a){case 1:i=u,r=o,s=e;break;case 2:i=e,r=o,s=n;break;case 3:i=e,r=u,s=o;break;case 4:i=n,r=e,s=o;break;case 5:i=o,r=e,s=u;break;case 6:case 0:i=o,r=n,s=e}}return t.utils.colour.rgbToHex(Math.floor(i),Math.floor(r),Math.floor(s))},t.utils.colour.blend=function(e,n,o){return e=t.utils.colour.hexToRgb(t.utils.colour.parse(e)),n=t.utils.colour.hexToRgb(t.utils.colour.parse(n)),t.utils.colour.rgbToHex(Math.round(n[0]+o*(e[0]-n[0])),Math.round(n[1]+o*(e[1]-n[1])),Math.round(n[2]+o*(e[2]-n[2])))},t.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},t.Block=function(e,n,o){if(t.Generator&&"undefined"!=typeof t.Generator.prototype[n])throw Error('Block prototypeName "'+n+'" conflicts with Blockly.Generator members.');if(this.id=o&&!e.getBlockById(o)?o:t.utils.genUid(),e.blockDB_[this.id]=this,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=null,this.commentModel={text:null,pinned:!1,size:new t.utils.Size(160,80)},this.xy_=new t.utils.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,this.isInsertionMarker_=!1,this.hat=void 0,n){if(this.type=n,!(o=t.Blocks[n])||"object"!=typeof o)throw TypeError("Unknown block type: "+n);t.utils.object.mixin(this,o)}if(e.addTopBlock(this),e.addTypedBlock(this),"function"==typeof this.init&&this.init(),this.inputsInlineDefault=this.inputsInline,t.Events.isEnabled()){(e=t.Events.getGroup())||t.Events.setGroup(!0);try{t.Events.fire(new t.Events.BlockCreate(this))}finally{e||t.Events.setGroup(!1)}}"function"==typeof this.onchange&&this.setOnChange(this.onchange)},t.Block.prototype.data=null,t.Block.prototype.disposed=!1,t.Block.prototype.hue_=null,t.Block.prototype.colour_="#000000",t.Block.prototype.colourSecondary_=null,t.Block.prototype.colourTertiary_=null,t.Block.prototype.styleName_=null,t.Block.prototype.dispose=function(e){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),t.keyboardAccessibilityMode&&t.navigation.moveCursorOnBlockDelete(this),this.unplug(e),t.Events.isEnabled()&&t.Events.fire(new t.Events.BlockDelete(this)),t.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),delete this.workspace.blockDB_[this.id],this.workspace=null),t.selected==this&&(t.selected=null);for(var n=this.childBlocks_.length-1;0<=n;n--)this.childBlocks_[n].dispose(!1);n=0;for(var o;o=this.inputList[n];n++)o.dispose();this.inputList.length=0;var i,r=this.getConnections_(!0);for(n=0;i=r[n];n++)i.dispose()}finally{t.Events.enable(),this.disposed=!0}}},t.Block.prototype.initModel=function(){for(var t,e=0;t=this.inputList[e];e++)for(var n,o=0;n=t.fieldRow[o];o++)n.initModel&&n.initModel()},t.Block.prototype.unplug=function(t){this.outputConnection?this.unplugFromRow_(t):this.previousConnection&&this.unplugFromStack_(t)},t.Block.prototype.unplugFromRow_=function(t){var e=null;this.outputConnection.isConnected()&&(e=this.outputConnection.targetConnection,this.outputConnection.disconnect()),e&&t&&(t=this.getOnlyValueConnection_())&&t.isConnected()&&!t.targetBlock().isShadow()&&((t=t.targetConnection).disconnect(),t.checkType_(e)?e.connect(t):t.onFailedConnect(e))},t.Block.prototype.getOnlyValueConnection_=function(){for(var e=null,n=0;n<this.inputList.length;n++){var o=this.inputList[n].connection;if(o&&o.type==t.INPUT_VALUE&&o.targetConnection){if(e)return null;e=o}}return e},t.Block.prototype.unplugFromStack_=function(t){var e=null;this.previousConnection.isConnected()&&(e=this.previousConnection.targetConnection,this.previousConnection.disconnect());var n=this.getNextBlock();t&&n&&!n.isShadow()&&((t=this.nextConnection.targetConnection).disconnect(),e&&e.checkType_(t)&&e.connect(t))},t.Block.prototype.getConnections_=function(t){t=[],this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection);for(var e,n=0;e=this.inputList[n];n++)e.connection&&t.push(e.connection);return t},t.Block.prototype.lastConnectionInStack=function(){for(var t=this.nextConnection;t;){var e=t.targetBlock();if(!e)return t;t=e.nextConnection}return null},t.Block.prototype.bumpNeighbours=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")},t.Block.prototype.getParent=function(){return this.parentBlock_},t.Block.prototype.getInputWithBlock=function(t){for(var e,n=0;e=this.inputList[n];n++)if(e.connection&&e.connection.targetBlock()==t)return e;return null},t.Block.prototype.getSurroundParent=function(){var t=this;do{var e=t;if(!(t=t.getParent()))return null}while(t.getNextBlock()==e);return t},t.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},t.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},t.Block.prototype.getFirstStatementConnection=function(){for(var e,n=0;e=this.inputList[n];n++)if(e.connection&&e.connection.type==t.NEXT_STATEMENT)return e.connection;return null},t.Block.prototype.getRootBlock=function(){var t=this;do{var e=t;t=e.parentBlock_}while(t);return e},t.Block.prototype.getTopStackBlock=function(){var t=this;do{var e=t.getPreviousBlock()}while(e&&e.getNextBlock()==t&&(t=e));return t},t.Block.prototype.getChildren=function(t){if(!t)return this.childBlocks_;t=[];for(var e,n=0;e=this.inputList[n];n++)e.connection&&(e=e.connection.targetBlock())&&t.push(e);return(n=this.getNextBlock())&&t.push(n),t},t.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){if(t.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},t.Block.prototype.getDescendants=function(t){for(var e,n=[this],o=this.getChildren(t),i=0;e=o[i];i++)n.push.apply(n,e.getDescendants(t));return n},t.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setDeletable=function(t){this.deletable_=t},t.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setMovable=function(t){this.movable_=t},t.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(t.utils.getBlockTypeCounts(this,!0))},t.Block.prototype.isShadow=function(){return this.isShadow_},t.Block.prototype.setShadow=function(t){this.isShadow_=t},t.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},t.Block.prototype.setInsertionMarker=function(t){this.isInsertionMarker_=t},t.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setEditable=function(t){this.editable_=t,t=0;for(var e;e=this.inputList[t];t++)for(var n,o=0;n=e.fieldRow[o];o++)n.updateEditable()},t.Block.prototype.getMatchingConnection=function(t,e){var n=this.getConnections_(!0),o=t.getConnections_(!0);if(n.length!=o.length)throw Error("Connection lists did not match in length.");for(var i=0;i<o.length;i++)if(o[i]==e)return n[i];return null},t.Block.prototype.setHelpUrl=function(t){this.helpUrl=t},t.Block.prototype.setTooltip=function(t){this.tooltip=t},t.Block.prototype.getColour=function(){return this.colour_},t.Block.prototype.getColourSecondary=function(){return this.colourSecondary_},t.Block.prototype.getColourTertiary=function(){return this.colourTertiary_},t.Block.prototype.getColourShadow=function(){var e=this.getColourSecondary();return e||t.utils.colour.blend("#fff",this.getColour(),.6)},t.Block.prototype.getColourBorder=function(){var e=this.getColourTertiary();return e?{colourBorder:e,colourLight:null,colourDark:null}:(e=this.getColour(),{colourBorder:null,colourLight:t.utils.colour.blend("#fff",e,.3),colourDark:t.utils.colour.blend("#000",e,.2)})},t.Block.prototype.getStyleName=function(){return this.styleName_},t.Block.prototype.getHue=function(){return this.hue_},t.Block.prototype.setColour=function(e){var n="string"==typeof e?t.utils.replaceMessageReferences(e):e,o=Number(n);if(!isNaN(o)&&0<=o&&360>=o)this.hue_=o,this.colour_=t.hueToHex(o);else{if(!(o=t.utils.colour.parse(n)))throw o='Invalid colour: "'+n+'"',e!=n&&(o+=' (from "'+e+'")'),Error(o);this.colour_=o,this.hue_=null}},t.Block.prototype.setStyle=function(t){var e=this.workspace.getTheme().getBlockStyle(t);if(this.styleName_=t,!e)throw Error("Invalid style name: "+t);this.colourSecondary_=e.colourSecondary,this.colourTertiary_=e.colourTertiary,this.hat=e.hat,this.setColour(e.colourPrimary)},t.Block.prototype.setOnChange=function(t){if(t&&"function"!=typeof t)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=t)&&(this.onchangeWrapper_=t.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},t.Block.prototype.getField=function(t){for(var e,n=0;e=this.inputList[n];n++)for(var o,i=0;o=e.fieldRow[i];i++)if(o.name==t)return o;return null},t.Block.prototype.getVars=function(){for(var t,e=[],n=0;t=this.inputList[n];n++)for(var o,i=0;o=t.fieldRow[i];i++)o.referencesVariables()&&e.push(o.getValue());return e},t.Block.prototype.getVarModels=function(){for(var t,e=[],n=0;t=this.inputList[n];n++)for(var o,i=0;o=t.fieldRow[i];i++)o.referencesVariables()&&(o=this.workspace.getVariableById(o.getValue()))&&e.push(o);return e},t.Block.prototype.updateVarName=function(t){for(var e,n=0;e=this.inputList[n];n++)for(var o,i=0;o=e.fieldRow[i];i++)o.referencesVariables()&&t.getId()==o.getValue()&&o.refreshVariableName()},t.Block.prototype.renameVarById=function(t,e){for(var n,o=0;n=this.inputList[o];o++)for(var i,r=0;i=n.fieldRow[r];r++)i.referencesVariables()&&t==i.getValue()&&i.setValue(e)},t.Block.prototype.getFieldValue=function(t){return(t=this.getField(t))?t.getValue():null},t.Block.prototype.setFieldValue=function(t,e){var n=this.getField(e);if(!n)throw Error('Field "'+e+'" not found.');n.setValue(t)},t.Block.prototype.setPreviousStatement=function(e,n){if(e){if(void 0===n&&(n=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(t.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(n)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},t.Block.prototype.setNextStatement=function(e,n){if(e)void 0===n&&(n=null),this.nextConnection||(this.nextConnection=this.makeConnection_(t.NEXT_STATEMENT)),this.nextConnection.setCheck(n);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},t.Block.prototype.setOutput=function(e,n){if(e){if(void 0===n&&(n=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(t.OUTPUT_VALUE)}this.outputConnection.setCheck(n)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},t.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(t.Events.fire(new t.Events.BlockChange(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},t.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.DUMMY_INPUT&&this.inputList[e].type==t.DUMMY_INPUT)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.INPUT_VALUE&&this.inputList[e].type==t.DUMMY_INPUT)return!0;return!1},t.Block.prototype.setDisabled=function(t){console.warn("Deprecated call to Blockly.Block.prototype.setDisabled, use Blockly.Block.prototype.setEnabled instead."),this.setEnabled(!t)},t.Block.prototype.isEnabled=function(){return!this.disabled},t.Block.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.Events.fire(new t.Events.BlockChange(this,"disabled",null,this.disabled,!e)),this.disabled=!e)},t.Block.prototype.getInheritedDisabled=function(){for(var t=this.getSurroundParent();t;){if(t.disabled)return!0;t=t.getSurroundParent()}return!1},t.Block.prototype.isCollapsed=function(){return this.collapsed_},t.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.Events.fire(new t.Events.BlockChange(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},t.Block.prototype.toString=function(t,e){var n=[],o=e||"?";if(this.collapsed_)n.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].getText());else for(var i,r=0;i=this.inputList[r];r++){for(var s,a=0;s=i.fieldRow[a];a++)n.push(s.getText());i.connection&&((i=i.connection.targetBlock())?n.push(i.toString(void 0,e)):n.push(o))}return n=n.join(" ").trim()||"???",t&&n.length>t&&(n=n.substring(0,t-3)+"..."),n},t.Block.prototype.appendValueInput=function(e){return this.appendInput_(t.INPUT_VALUE,e)},t.Block.prototype.appendStatementInput=function(e){return this.appendInput_(t.NEXT_STATEMENT,e)},t.Block.prototype.appendDummyInput=function(e){return this.appendInput_(t.DUMMY_INPUT,e||"")},t.Block.prototype.jsonInit=function(e){var n=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(n+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(n+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,n):this.jsonInitColour_(e,n);for(var o=0;void 0!==e["message"+o];)this.interpolate_(e["message"+o],e["args"+o]||[],e["lastDummyAlign"+o]),o++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(o=e.tooltip,o=t.utils.replaceMessageReferences(o),this.setTooltip(o)),void 0!==e.enableContextMenu&&(o=e.enableContextMenu,this.contextMenu=!!o),void 0!==e.helpUrl&&(o=e.helpUrl,o=t.utils.replaceMessageReferences(o),this.setHelpUrl(o)),"string"==typeof e.extensions&&(console.warn(n+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&t.Extensions.apply(e.mutator,this,!0),Array.isArray(e.extensions))for(e=e.extensions,n=0;n<e.length;++n)t.Extensions.apply(e[n],this,!1)},t.Block.prototype.jsonInitColour_=function(t,e){if("colour"in t)if(void 0===t.colour)console.warn(e+"Undefined colour value.");else{var n=t.colour;try{this.setColour(n)}catch(o){console.warn(e+"Illegal colour value: ",n)}}},t.Block.prototype.jsonInitStyle_=function(t,e){var n=t.style;try{this.setStyle(n)}catch(o){console.warn(e+"Style does not exist: ",n)}},t.Block.prototype.mixin=function(e,n){if(void 0!==n&&"boolean"!=typeof n)throw Error("opt_disableCheck must be a boolean if provided");if(!n){var o,i=[];for(o in e)void 0!==this[o]&&i.push(o);if(i.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(i))}t.utils.object.mixin(this,e)},t.Block.prototype.interpolate_=function(e,n,o){var i=t.utils.tokenizeInterpolation(e),r=[],s=0;e=[];for(var a=0;a<i.length;a++){var l=i[a];if("number"==typeof l){if(0>=l||l>n.length)throw Error('Block "'+this.type+'": Message index %'+l+" out of range.");if(r[l])throw Error('Block "'+this.type+'": Message index %'+l+" duplicated.");r[l]=!0,s++,e.push(n[l-1])}else(l=l.trim())&&e.push(l)}if(s!=n.length)throw Error('Block "'+this.type+'": Message does not reference all '+n.length+" arg(s).");for(e.length&&("string"==typeof e[e.length-1]||t.utils.string.startsWith(e[e.length-1].type,"field_"))&&(a={type:"input_dummy"},o&&(a.align=o),e.push(a)),o={LEFT:t.ALIGN_LEFT,RIGHT:t.ALIGN_RIGHT,CENTRE:t.ALIGN_CENTRE},n=[],a=0;a<e.length;a++)if("string"==typeof(r=e[a]))n.push([r,void 0]);else{i=s=null;do{if(l=!1,"string"==typeof r)s=new t.FieldLabel(r);else switch(r.type){case"input_value":i=this.appendValueInput(r.name);break;case"input_statement":i=this.appendStatementInput(r.name);break;case"input_dummy":i=this.appendDummyInput(r.name);break;default:!(s=t.fieldRegistry.fromJson(r))&&r.alt&&(r=r.alt,l=!0)}}while(l);if(s)n.push([s,r.name]);else if(i){for(r.check&&i.setCheck(r.check),r.align&&i.setAlign(o[r.align]),r=0;r<n.length;r++)i.appendField(n[r][0],n[r][1]);n.length=0}}},t.Block.prototype.appendInput_=function(e,n){var o=null;return e!=t.INPUT_VALUE&&e!=t.NEXT_STATEMENT||(o=this.makeConnection_(e)),o=new t.Input(e,n,this,o),this.inputList.push(o),o},t.Block.prototype.moveInputBefore=function(t,e){if(t!=e){for(var n,o=-1,i=e?-1:this.inputList.length,r=0;n=this.inputList[r];r++)if(n.name==t){if(o=r,-1!=i)break}else if(e&&n.name==e&&(i=r,-1!=o))break;if(-1==o)throw Error('Named input "'+t+'" not found.');if(-1==i)throw Error('Reference input "'+e+'" not found.');this.moveNumberedInputBefore(o,i)}},t.Block.prototype.moveNumberedInputBefore=function(t,e){if(t==e)throw Error("Can't move input to itself.");if(t>=this.inputList.length)throw RangeError("Input index "+t+" out of bounds.");if(e>this.inputList.length)throw RangeError("Reference input "+e+" out of bounds.");var n=this.inputList[t];this.inputList.splice(t,1),t<e&&e--,this.inputList.splice(e,0,n)},t.Block.prototype.removeInput=function(t,e){for(var n,o=0;n=this.inputList[o];o++)if(n.name==t)return n.dispose(),void this.inputList.splice(o,1);if(!e)throw Error("Input not found: "+t)},t.Block.prototype.getInput=function(t){for(var e,n=0;e=this.inputList[n];n++)if(e.name==t)return e;return null},t.Block.prototype.getInputTargetBlock=function(t){return(t=this.getInput(t))&&t.connection&&t.connection.targetBlock()},t.Block.prototype.getCommentText=function(){return this.commentModel.text},t.Block.prototype.setCommentText=function(e){this.commentModel.text!=e&&(t.Events.fire(new t.Events.BlockChange(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)},t.Block.prototype.setWarningText=function(t,e){},t.Block.prototype.setMutator=function(t){},t.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},t.Block.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var o=new t.Events.BlockMove(this);this.xy_.translate(e,n),o.recordNew(),t.Events.fire(o)},t.Block.prototype.makeConnection_=function(e){return new t.Connection(this,e)},t.Block.prototype.allInputsFilled=function(t){if(void 0===t&&(t=!0),!t&&this.isShadow())return!1;for(var e,n=0;e=this.inputList[n];n++)if(e.connection&&(!(e=e.connection.targetBlock())||!e.allInputsFilled(t)))return!1;return!(n=this.getNextBlock())||n.allInputsFilled(t)},t.Block.prototype.toDevString=function(){var t=this.type?'"'+this.type+'" block':"Block";return this.id&&(t+=' (id="'+this.id+'")'),t},t.BlockDragSurfaceSvg=function(t){this.container_=t,this.createDom()},t.BlockDragSurfaceSvg.prototype.SVG_=null,t.BlockDragSurfaceSvg.prototype.dragGroup_=null,t.BlockDragSurfaceSvg.prototype.container_=null,t.BlockDragSurfaceSvg.prototype.scale_=1,t.BlockDragSurfaceSvg.prototype.surfaceXY_=null,t.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement("svg",{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=t.utils.dom.createSvgElement("g",{},this.SVG_))},t.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new t.utils.Coordinate(0,0)},t.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(t,e,n){this.scale_=n,t=t.toFixed(0),e=e.toFixed(0),this.dragGroup_.setAttribute("transform","translate("+t+","+e+") scale("+n+")")},t.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,n=this.surfaceXY_.y;e=e.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+n+"px, 0px)")},t.BlockDragSurfaceSvg.prototype.translateSurface=function(e,n){this.surfaceXY_=new t.utils.Coordinate(e*this.scale_,n*this.scale_),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=t.utils.getRelativeXY(this.SVG_);return new t.utils.Coordinate(e.x/this.scale_,e.y/this.scale_)},t.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},t.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},t.BlockDragSurfaceSvg.prototype.clearAndHide=function(t){if(t?t.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},t.blockRendering={},t.blockRendering.IPathObject=function(t){},t.blockRendering.PathObject=function(e){this.svgRoot=e,this.svgPath=t.utils.dom.createSvgElement("path",{class:"blocklyPath"},this.svgRoot),this.svgPathLight=t.utils.dom.createSvgElement("path",{class:"blocklyPathLight"},this.svgRoot),this.svgPathDark=t.utils.dom.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot)},t.blockRendering.PathObject.prototype.setPaths=function(t){this.svgPath.setAttribute("d",t),this.svgPathLight.style.display="none",this.svgPathDark.style.display="none"},t.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},t.utils.IdGenerator={},t.utils.IdGenerator.nextId_=0,t.utils.IdGenerator.getNextUniqueId=function(){return"blockly:"+(t.utils.IdGenerator.nextId_++).toString(36)},t.Component=function(){this.rightToLeft_=t.Component.defaultRightToLeft,this.id_=null,this.inDocument_=!1,this.parent_=this.element_=null,this.children_=[],this.childIndex_={}},t.Component.defaultRightToLeft=!1,t.Component.Error={ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds"},t.Component.prototype.getId=function(){return this.id_||(this.id_=t.utils.IdGenerator.getNextUniqueId())},t.Component.prototype.getElement=function(){return this.element_},t.Component.prototype.setElementInternal=function(t){this.element_=t},t.Component.prototype.setParent=function(e){if(this==e)throw Error(t.Component.Error.PARENT_UNABLE_TO_BE_SET);if(e&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=e)throw Error(t.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=e},t.Component.prototype.getParent=function(){return this.parent_},t.Component.prototype.isInDocument=function(){return this.inDocument_},t.Component.prototype.createDom=function(){this.element_=document.createElement("div")},t.Component.prototype.render=function(t){this.render_(t)},t.Component.prototype.renderBefore=function(t){this.render_(t.parentNode,t)},t.Component.prototype.render_=function(e,n){if(this.inDocument_)throw Error(t.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),e?e.insertBefore(this.element_,n||null):document.body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},t.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild((function(t){!t.isInDocument()&&t.getElement()&&t.enterDocument()}))},t.Component.prototype.exitDocument=function(){this.forEachChild((function(t){t.isInDocument()&&t.exitDocument()})),this.inDocument_=!1},t.Component.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.forEachChild((function(t){t.dispose()})),this.element_&&t.utils.dom.removeNode(this.element_),this.parent_=this.element_=this.childIndex_=this.children_=null},t.Component.prototype.addChild=function(t,e){this.addChildAt(t,this.getChildCount(),e)},t.Component.prototype.addChildAt=function(e,n,o){if(e.inDocument_&&(o||!this.inDocument_))throw Error(t.Component.Error.ALREADY_RENDERED);if(0>n||n>this.getChildCount())throw Error(t.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);if(this.childIndex_[e.getId()]=e,e.getParent()==this){var i=this.children_.indexOf(e);-1<i&&this.children_.splice(i,1)}e.setParent(this),this.children_.splice(n,0,e),e.inDocument_&&this.inDocument_&&e.getParent()==this?(n=(o=this.getContentElement()).childNodes[n]||null)!=e.getElement()&&o.insertBefore(e.getElement(),n):o?(this.element_||this.createDom(),n=this.getChildAt(n+1),e.render_(this.getContentElement(),n?n.element_:null)):this.inDocument_&&!e.inDocument_&&e.element_&&e.element_.parentNode&&e.element_.parentNode.nodeType==t.utils.dom.Node.ELEMENT_NODE&&e.enterDocument()},t.Component.prototype.getContentElement=function(){return this.element_},t.Component.prototype.isRightToLeft=function(){return this.rightToLeft_},t.Component.prototype.setRightToLeft=function(e){if(this.inDocument_)throw Error(t.Component.Error.ALREADY_RENDERED);this.rightToLeft_=e},t.Component.prototype.hasChildren=function(){return 0!=this.children_.length},t.Component.prototype.getChildCount=function(){return this.children_.length},t.Component.prototype.getChild=function(t){return t&&this.childIndex_[t]||null},t.Component.prototype.getChildAt=function(t){return this.children_[t]||null},t.Component.prototype.forEachChild=function(t,e){for(var n=0;n<this.children_.length;n++)t.call(e,this.children_[n],n)},t.Component.prototype.indexOfChild=function(t){return this.children_.indexOf(t)},t.utils.aria={},t.utils.aria.ARIA_PREFIX_="aria-",t.utils.aria.ROLE_ATTRIBUTE_="role",t.utils.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",MENUITEMRADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TABLE:"table",TABLIST:"tablist",TABPANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"},t.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",COLINDEX:"colindex",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",ROWINDEX:"rowindex",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"},t.utils.aria.setRole=function(e,n){n?e.setAttribute(t.utils.aria.ROLE_ATTRIBUTE_,n):t.utils.aria.removeRole(e)},t.utils.aria.getRole=function(e){return e.getAttribute(t.utils.aria.ROLE_ATTRIBUTE_)||null},t.utils.aria.removeRole=function(e){e.removeAttribute(t.utils.aria.ROLE_ATTRIBUTE_)},t.utils.aria.setState=function(e,n,o){Array.isArray(o)&&(o=o.join(" ")),n=t.utils.aria.getAriaAttributeName_(n),e.setAttribute(n,o)},t.utils.aria.getAriaAttributeName_=function(e){return t.utils.aria.ARIA_PREFIX_+e},t.Menu=function(){t.Component.call(this),this.highlightedIndex_=-1},t.utils.object.inherits(t.Menu,t.Component),t.Menu.prototype.createDom=function(){var e=document.createElement("div");e.id=this.getId(),this.setElementInternal(e),e.className="goog-menu goog-menu-vertical blocklyNonSelectable",e.tabIndex=0,t.utils.aria.setRole(e,this.roleName_||t.utils.aria.Role.MENU)},t.Menu.prototype.focus=function(){var e=this.getElement();e&&(e.focus(),t.utils.dom.addClass(e,"focused"))},t.Menu.prototype.blur=function(){var e=this.getElement();e&&(e.blur(),t.utils.dom.removeClass(e,"focused"))},t.Menu.prototype.setRole=function(t){this.roleName_=t},t.Menu.prototype.enterDocument=function(){t.Menu.superClass_.enterDocument.call(this),this.forEachChild((function(t){t.isInDocument()&&this.registerChildId_(t)}),this),this.attachEvents_()},t.Menu.prototype.exitDocument=function(){this.setHighlightedIndex(-1),t.Menu.superClass_.exitDocument.call(this)},t.Menu.prototype.disposeInternal=function(){t.Menu.superClass_.disposeInternal.call(this),this.detachEvents_()},t.Menu.prototype.attachEvents_=function(){var e=this.getElement();this.mouseOverHandler_=t.bindEventWithChecks_(e,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=t.bindEventWithChecks_(e,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=t.bindEventWithChecks_(e,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=t.bindEventWithChecks_(e,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownWrapper_=t.bindEventWithChecks_(e,"keydown",this,this.handleKeyEvent)},t.Menu.prototype.detachEvents_=function(){t.unbindEvent_(this.mouseOverHandler_),t.unbindEvent_(this.clickHandler_),t.unbindEvent_(this.mouseEnterHandler_),t.unbindEvent_(this.mouseLeaveHandler_),t.unbindEvent_(this.onKeyDownWrapper_)},t.Menu.prototype.childElementIdMap_=null,t.Menu.prototype.registerChildId_=function(t){var e=t.getElement();e=e.id||(e.id=t.getId()),this.childElementIdMap_||(this.childElementIdMap_={}),this.childElementIdMap_[e]=t},t.Menu.prototype.getMenuItem=function(t){if(this.childElementIdMap_)for(var e=this.getElement();t&&t!==e;){var n=t.id;if(n in this.childElementIdMap_)return this.childElementIdMap_[n];t=t.parentNode}return null},t.Menu.prototype.unhighlightCurrent=function(){var t=this.getHighlighted();t&&t.setHighlighted(!1)},t.Menu.prototype.clearHighlighted=function(){this.unhighlightCurrent(),this.setHighlightedIndex(-1)},t.Menu.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)},t.Menu.prototype.setHighlightedIndex=function(e){var n=this.getChildAt(e);n?(n.setHighlighted(!0),this.highlightedIndex_=e):-1<this.highlightedIndex_&&(this.getHighlighted().setHighlighted(!1),this.highlightedIndex_=-1),n&&t.utils.style.scrollIntoContainerView(n.getElement(),this.getElement())},t.Menu.prototype.setHighlighted=function(t){this.setHighlightedIndex(this.indexOfChild(t))},t.Menu.prototype.highlightNext=function(){this.unhighlightCurrent(),this.highlightHelper((function(t,e){return(t+1)%e}),this.highlightedIndex_)},t.Menu.prototype.highlightPrevious=function(){this.unhighlightCurrent(),this.highlightHelper((function(t,e){return 0>--t?e-1:t}),this.highlightedIndex_)},t.Menu.prototype.highlightHelper=function(t,e){var n=0>e?-1:e,o=this.getChildCount();n=t.call(this,n,o);for(var i=0;i<=o;){var r=this.getChildAt(n);if(r&&this.canHighlightItem(r))return this.setHighlightedIndex(n),!0;i++,n=t.call(this,n,o)}return!1},t.Menu.prototype.canHighlightItem=function(t){return t.isEnabled()},t.Menu.prototype.handleMouseOver_=function(t){(t=this.getMenuItem(t.target))&&t.isEnabled()&&this.getHighlighted()!==t&&(this.unhighlightCurrent(),this.setHighlighted(t))},t.Menu.prototype.handleClick_=function(t){var e=this.getMenuItem(t.target);e&&e.handleClick(t)&&t.preventDefault()},t.Menu.prototype.handleMouseEnter_=function(t){this.focus()},t.Menu.prototype.handleMouseLeave_=function(t){this.getElement()&&(this.blur(),this.clearHighlighted())},t.Menu.prototype.handleKeyEvent=function(t){return!(0==this.getChildCount()||!this.handleKeyEventInternal(t))&&(t.preventDefault(),t.stopPropagation(),!0)},t.Menu.prototype.handleKeyEventInternal=function(e){var n=this.getHighlighted();if(n&&"function"==typeof n.handleKeyEvent&&n.handleKeyEvent(e))return!0;if(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)return!1;switch(e.keyCode){case t.utils.KeyCodes.ENTER:n&&n.performActionInternal(e);break;case t.utils.KeyCodes.UP:this.highlightPrevious();break;case t.utils.KeyCodes.DOWN:this.highlightNext();break;default:return!1}return!0},t.MenuItem=function(e,n){t.Component.call(this),this.setContentInternal(e),this.setValue(n),this.enabled_=!0},t.utils.object.inherits(t.MenuItem,t.Component),t.MenuItem.prototype.createDom=function(){var e=document.createElement("div");e.id=this.getId(),this.setElementInternal(e),e.className="goog-menuitem goog-option "+(this.enabled_?"":"goog-menuitem-disabled ")+(this.checked_?"goog-option-selected ":"")+(this.isRightToLeft()?"goog-menuitem-rtl ":"");var n=this.getContentWrapperDom();e.appendChild(n);var o=this.getCheckboxDom();o&&n.appendChild(o),n.appendChild(this.getContentDom()),t.utils.aria.setRole(e,this.roleName_||(this.checkable_?t.utils.aria.Role.MENUITEMCHECKBOX:t.utils.aria.Role.MENUITEM)),t.utils.aria.setState(e,t.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1)},t.MenuItem.prototype.getCheckboxDom=function(){if(!this.checkable_)return null;var t=document.createElement("div");return t.className="goog-menuitem-checkbox",t},t.MenuItem.prototype.getContentDom=function(){var t=this.content_;return"string"===typeof t&&(t=document.createTextNode(t)),t},t.MenuItem.prototype.getContentWrapperDom=function(){var t=document.createElement("div");return t.className="goog-menuitem-content",t},t.MenuItem.prototype.setContentInternal=function(t){this.content_=t},t.MenuItem.prototype.setValue=function(t){this.value_=t},t.MenuItem.prototype.getValue=function(){return this.value_},t.MenuItem.prototype.setRole=function(t){this.roleName_=t},t.MenuItem.prototype.setCheckable=function(t){this.checkable_=t},t.MenuItem.prototype.setChecked=function(e){if(this.checkable_){this.checked_=e;var n=this.getElement();n&&this.isEnabled()&&(e?(t.utils.dom.addClass(n,"goog-option-selected"),t.utils.aria.setState(n,t.utils.aria.State.SELECTED,!0)):(t.utils.dom.removeClass(n,"goog-option-selected"),t.utils.aria.setState(n,t.utils.aria.State.SELECTED,!1)))}},t.MenuItem.prototype.setHighlighted=function(e){this.highlight_=e;var n=this.getElement();n&&this.isEnabled()&&(e?t.utils.dom.addClass(n,"goog-menuitem-highlight"):t.utils.dom.removeClass(n,"goog-menuitem-highlight"))},t.MenuItem.prototype.isEnabled=function(){return this.enabled_},t.MenuItem.prototype.setEnabled=function(e){this.enabled_=e,(e=this.getElement())&&(this.enabled_?t.utils.dom.removeClass(e,"goog-menuitem-disabled"):t.utils.dom.addClass(e,"goog-menuitem-disabled"))},t.MenuItem.prototype.handleClick=function(t){this.isEnabled()&&(this.setHighlighted(!0),this.performActionInternal())},t.MenuItem.prototype.performActionInternal=function(){this.checkable_&&this.setChecked(!this.checked_),this.actionHandler_&&this.actionHandler_.call(this.actionHandlerObj_,this)},t.MenuItem.prototype.onAction=function(t,e){this.actionHandler_=t,this.actionHandlerObj_=e},t.utils.uiMenu={},t.utils.uiMenu.getSize=function(e){e=e.getElement();var n=t.utils.style.getSize(e);return n.height=e.scrollHeight,n},t.utils.uiMenu.adjustBBoxesForRTL=function(t,e,n){e.left+=n.width,e.right+=n.width,t.left+=n.width,t.right+=n.width},t.ContextMenu={},t.ContextMenu.currentBlock=null,t.ContextMenu.eventWrapper_=null,t.ContextMenu.show=function(e,n,o){if(t.WidgetDiv.show(t.ContextMenu,o,null),n.length){var i=t.ContextMenu.populate_(n,o);t.ContextMenu.position_(i,e,o),setTimeout((function(){i.getElement().focus()}),1),t.ContextMenu.currentBlock=null}else t.ContextMenu.hide()},t.ContextMenu.populate_=function(e,n){var o=new t.Menu;o.setRightToLeft(n);for(var i,r=0;i=e[r];r++){var s=new t.MenuItem(i.text);s.setRightToLeft(n),o.addChild(s,!0),s.setEnabled(i.enabled),i.enabled&&s.onAction((function(){t.ContextMenu.hide(),this.callback()}),i)}return o},t.ContextMenu.position_=function(e,n,o){var i=t.utils.getViewportBBox();n={top:n.clientY+i.top,bottom:n.clientY+i.top,left:n.clientX+i.left,right:n.clientX+i.left},t.ContextMenu.createWidget_(e);var r=t.utils.uiMenu.getSize(e);o&&t.utils.uiMenu.adjustBBoxesForRTL(i,n,r),t.WidgetDiv.positionWithAnchor(i,n,r,o),e.getElement().focus()},t.ContextMenu.createWidget_=function(e){e.render(t.WidgetDiv.DIV);var n=e.getElement();t.utils.dom.addClass(n,"blocklyContextMenu"),t.bindEventWithChecks_(n,"contextmenu",null,t.utils.noEvent),e.focus()},t.ContextMenu.hide=function(){t.WidgetDiv.hideIfOwner(t.ContextMenu),t.ContextMenu.currentBlock=null,t.ContextMenu.eventWrapper_&&t.unbindEvent_(t.ContextMenu.eventWrapper_)},t.ContextMenu.callbackFactory=function(e,n){return function(){t.Events.disable();try{var o=t.Xml.domToBlock(n,e.workspace),i=e.getRelativeToSurfaceXY();i.x=e.RTL?i.x-t.SNAP_RADIUS:i.x+t.SNAP_RADIUS,i.y+=2*t.SNAP_RADIUS,o.moveBy(i.x,i.y)}finally{t.Events.enable()}t.Events.isEnabled()&&!o.isShadow()&&t.Events.fire(new t.Events.BlockCreate(o)),o.select()}},t.ContextMenu.blockDeleteOption=function(e){var n=e.getDescendants(!1).length,o=e.getNextBlock();return o&&(n-=o.getDescendants(!1).length),{text:1==n?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(n)),enabled:!0,callback:function(){t.Events.setGroup(!0),e.dispose(!0,!0),t.Events.setGroup(!1)}}},t.ContextMenu.blockHelpOption=function(e){return{enabled:!("function"==typeof e.helpUrl?!e.helpUrl():!e.helpUrl),text:t.Msg.HELP,callback:function(){e.showHelp_()}}},t.ContextMenu.blockDuplicateOption=function(e){var n=e.isDuplicatable();return{text:t.Msg.DUPLICATE_BLOCK,enabled:n,callback:function(){t.duplicate_(e)}}},t.ContextMenu.blockCommentOption=function(e){var n={enabled:!t.utils.userAgent.IE};return e.comment?(n.text=t.Msg.REMOVE_COMMENT,n.callback=function(){e.setCommentText(null)}):(n.text=t.Msg.ADD_COMMENT,n.callback=function(){e.setCommentText("")}),n},t.ContextMenu.commentDeleteOption=function(e){return{text:t.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){t.Events.setGroup(!0),e.dispose(!0,!0),t.Events.setGroup(!1)}}},t.ContextMenu.commentDuplicateOption=function(e){return{text:t.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){t.duplicate_(e)}}},t.ContextMenu.workspaceCommentOption=function(e,n){if(!t.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var o={enabled:!t.utils.userAgent.IE};return o.text=t.Msg.ADD_COMMENT,o.callback=function(){var o=new t.WorkspaceCommentSvg(e,t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,t.WorkspaceCommentSvg.DEFAULT_SIZE,t.WorkspaceCommentSvg.DEFAULT_SIZE),i=e.getInjectionDiv().getBoundingClientRect();i=new t.utils.Coordinate(n.clientX-i.left,n.clientY-i.top);var r=e.getOriginOffsetInPixels();(i=t.utils.Coordinate.difference(i,r)).scale(1/e.scale),o.moveBy(i.x,i.y),e.rendered&&(o.initSvg(),o.render(),o.select())},o},t.RenderedConnection=function(e,n){t.RenderedConnection.superClass_.constructor.call(this,e,n),this.db_=e.workspace.connectionDBList[n],this.dbOpposite_=e.workspace.connectionDBList[t.OPPOSITE_TYPE[n]],this.offsetInBlock_=new t.utils.Coordinate(0,0),this.inDB_=!1,this.hidden_=!this.db_},t.utils.object.inherits(t.RenderedConnection,t.Connection),t.RenderedConnection.prototype.dispose=function(){t.RenderedConnection.superClass_.dispose.call(this),this.inDB_&&this.db_.removeConnection_(this)},t.RenderedConnection.prototype.distanceFrom=function(t){var e=this.x_-t.x_;return t=this.y_-t.y_,Math.sqrt(e*e+t*t)},t.RenderedConnection.prototype.bumpAwayFrom_=function(e){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var o=!1;if(!n.isMovable()){if(!(n=e.getSourceBlock().getRootBlock()).isMovable())return;e=this,o=!0}var i=t.selected==n;i||n.addSelect();var r=e.x_+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x_,s=e.y_+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.y_;o&&(s=-s),n.RTL&&(r=e.x_-t.SNAP_RADIUS-Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x_),n.moveBy(r,s),i||n.removeSelect()}}},t.RenderedConnection.prototype.moveTo=function(t,e){this.inDB_&&this.db_.removeConnection_(this),this.x_=t,this.y_=e,this.hidden_||this.db_.addConnection(this)},t.RenderedConnection.prototype.moveBy=function(t,e){this.moveTo(this.x_+t,this.y_+e)},t.RenderedConnection.prototype.moveToOffset=function(t){this.moveTo(t.x+this.offsetInBlock_.x,t.y+this.offsetInBlock_.y)},t.RenderedConnection.prototype.setOffsetInBlock=function(t,e){this.offsetInBlock_.x=t,this.offsetInBlock_.y=e},t.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},t.RenderedConnection.prototype.tighten_=function(){var e=this.targetConnection.x_-this.x_,n=this.targetConnection.y_-this.y_;if(0!=e||0!=n){var o=this.targetBlock(),i=o.getSvgRoot();if(!i)throw Error("block is not rendered.");i=t.utils.getRelativeXY(i),o.getSvgRoot().setAttribute("transform","translate("+(i.x-e)+","+(i.y-n)+")"),o.moveConnections_(-e,-n)}},t.RenderedConnection.prototype.closest=function(t,e){return this.dbOpposite_.searchForClosest(this,t,e)},t.RenderedConnection.prototype.highlight=function(){var e=this.sourceBlock_.workspace.getRenderer().getConstants();e=this.type==t.INPUT_VALUE||this.type==t.OUTPUT_VALUE?t.utils.svgPaths.moveBy(0,-5)+t.utils.svgPaths.lineOnAxis("v",5)+e.PUZZLE_TAB.pathDown+t.utils.svgPaths.lineOnAxis("v",5):t.utils.svgPaths.moveBy(-5,0)+t.utils.svgPaths.lineOnAxis("h",5)+e.NOTCH.pathLeft+t.utils.svgPaths.lineOnAxis("h",5);var n=this.sourceBlock_.getRelativeToSurfaceXY();t.Connection.highlightedPath_=t.utils.dom.createSvgElement("path",{class:"blocklyHighlightedConnectionPath",d:e,transform:"translate("+(this.x_-n.x)+","+(this.y_-n.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},t.RenderedConnection.prototype.unhideAll=function(){this.setHidden(!1);var e=[];if(this.type!=t.INPUT_VALUE&&this.type!=t.NEXT_STATEMENT)return e;var n=this.targetBlock();if(n){if(n.isCollapsed()){var o=[];n.outputConnection&&o.push(n.outputConnection),n.nextConnection&&o.push(n.nextConnection),n.previousConnection&&o.push(n.previousConnection)}else o=n.getConnections_(!0);for(var i=0;i<o.length;i++)e.push.apply(e,o[i].unhideAll());e.length||(e[0]=n)}return e},t.RenderedConnection.prototype.unhighlight=function(){t.utils.dom.removeNode(t.Connection.highlightedPath_),delete t.Connection.highlightedPath_},t.RenderedConnection.prototype.setHidden=function(t){(this.hidden_=t)&&this.inDB_?this.db_.removeConnection_(this):t||this.inDB_||this.db_.addConnection(this)},t.RenderedConnection.prototype.hideAll=function(){if(this.setHidden(!0),this.targetConnection)for(var t=this.targetBlock().getDescendants(!1),e=0;e<t.length;e++){for(var n=t[e],o=n.getConnections_(!0),i=0;i<o.length;i++)o[i].setHidden(!0);for(n=n.getIcons(),i=0;i<n.length;i++)n[i].setVisible(!1)}},t.RenderedConnection.prototype.isConnectionAllowed=function(e,n){return!(this.distanceFrom(e)>n)&&t.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},t.RenderedConnection.prototype.onFailedConnect=function(t){this.bumpAwayFrom_(t)},t.RenderedConnection.prototype.disconnectInternal_=function(e,n){t.RenderedConnection.superClass_.disconnectInternal_.call(this,e,n),e.rendered&&e.render(),n.rendered&&(n.updateDisabled(),n.render())},t.RenderedConnection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),n=this.getShadowDom();if(e.workspace&&n&&t.Events.recordUndo){if(t.RenderedConnection.superClass_.respawnShadow_.call(this),!(n=this.targetBlock()))throw Error("Couldn't respawn the shadow block that should exist here.");n.initSvg(),n.render(!1),e.rendered&&e.render()}},t.RenderedConnection.prototype.neighbours_=function(t){return this.dbOpposite_.getNeighbours(this,t)},t.RenderedConnection.prototype.connect_=function(e){t.RenderedConnection.superClass_.connect_.call(this,e);var n=this.getSourceBlock();e=e.getSourceBlock(),n.rendered&&n.updateDisabled(),e.rendered&&e.updateDisabled(),n.rendered&&e.rendered&&(this.type==t.NEXT_STATEMENT||this.type==t.PREVIOUS_STATEMENT?e.render():n.render())},t.RenderedConnection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},t.utils.Rect=function(t,e,n,o){this.top=t,this.bottom=e,this.left=n,this.right=o},t.utils.Rect.prototype.contains=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom},t.Icon=function(t){this.block_=t},t.Icon.prototype.collapseHidden=!0,t.Icon.prototype.SIZE=17,t.Icon.prototype.bubble_=null,t.Icon.prototype.iconXY_=null,t.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),t.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},t.Icon.prototype.dispose=function(){t.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},t.Icon.prototype.updateEditable=function(){},t.Icon.prototype.isVisible=function(){return!!this.bubble_},t.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||t.utils.isRightButton(e)||this.setVisible(!this.isVisible())},t.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getColour())},t.Icon.prototype.setIconLocation=function(t){this.iconXY_=t,this.isVisible()&&this.bubble_.setAnchorLocation(t)},t.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),n=t.utils.getRelativeXY(this.iconGroup_);e=new t.utils.Coordinate(e.x+n.x+this.SIZE/2,e.y+n.y+this.SIZE/2),t.utils.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},t.Icon.prototype.getIconLocation=function(){return this.iconXY_},t.Icon.prototype.getCorrectedSize=function(){return new t.utils.Size(t.Icon.prototype.SIZE,t.Icon.prototype.SIZE-2)},t.Warning=function(e){t.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_={}},t.utils.object.inherits(t.Warning,t.Icon),t.Warning.prototype.collapseHidden=!1,t.Warning.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement("path",{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),t.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),t.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},t.Warning.textToDom_=function(e){var n=t.utils.dom.createSvgElement("text",{class:"blocklyText blocklyBubbleText",y:t.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var o=0;o<e.length;o++){var i=t.utils.dom.createSvgElement("tspan",{dy:"1em",x:t.Bubble.BORDER_WIDTH},n),r=document.createTextNode(e[o]);i.appendChild(r)}return n},t.Warning.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new t.Events.Ui(this.block_,"warningOpen",!e,e)),e?this.createBubble():this.disposeBubble())},t.Warning.prototype.createBubble=function(){if(this.paragraphElement_=t.Warning.textToDom_(this.getText()),this.bubble_=new t.Bubble(this.block_.workspace,this.paragraphElement_,this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.block_.RTL)for(var e,n=this.paragraphElement_.getBBox().width,o=0;e=this.paragraphElement_.childNodes[o];o++)e.setAttribute("text-anchor","end"),e.setAttribute("x",n+t.Bubble.BORDER_WIDTH);this.updateColour()},t.Warning.prototype.disposeBubble=function(){this.bubble_.dispose(),this.paragraphElement_=this.body_=this.bubble_=null},t.Warning.prototype.bodyFocus_=function(t){this.bubble_.promote_()},t.Warning.prototype.setText=function(t,e){this.text_[e]!=t&&(t?this.text_[e]=t:delete this.text_[e],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},t.Warning.prototype.getText=function(){var t,e=[];for(t in this.text_)e.push(this.text_[t]);return e.join("\n")},t.Warning.prototype.dispose=function(){this.block_.warning=null,t.Icon.prototype.dispose.call(this)},t.BlockSvg=function(e,n,o){this.svgGroup_=t.utils.dom.createSvgElement("g",{},null),this.svgGroup_.translate_="",this.pathObject=e.getRenderer().makePathObject(this.svgGroup_),this.svgPathDark_=this.pathObject.svgPathDark||null,this.svgPath_=this.pathObject.svgPath||null,this.svgPathLight_=this.pathObject.svgPathLight||null,this.svgPath_.tooltip=this,this.rendered=!1,this.useDragSurface_=t.utils.is3dSupported()&&!!e.blockDragSurface_,t.Tooltip.bindMouseEvents(this.svgPath_),t.BlockSvg.superClass_.constructor.call(this,e,n,o),this.svgGroup_.dataset&&(this.svgGroup_.dataset.id=this.id),this.markerSvg_=this.cursorSvg_=null},t.utils.object.inherits(t.BlockSvg,t.Block),t.BlockSvg.prototype.height=0,t.BlockSvg.prototype.width=0,t.BlockSvg.prototype.dragStartXY_=null,t.BlockSvg.prototype.warningTextDb_=null,t.BlockSvg.INLINE=-1,t.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",t.BlockSvg.SEP_SPACE_Y=10,t.BlockSvg.MIN_BLOCK_Y=25,t.BlockSvg.TAB_WIDTH=8,t.BlockSvg.START_HAT=!1,t.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var e,n=0;e=this.inputList[n];n++)e.init();for(e=this.getIcons(),n=0;n<e.length;n++)e[n].createIcon();this.updateColour(),this.updateMovable(),this.workspace.options.readOnly||this.eventsInit_||t.bindEventWithChecks_(this.getSvgRoot(),"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,this.getSvgRoot().parentNode||this.workspace.getCanvas().appendChild(this.getSvgRoot())},t.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(t.selected!=this){var e=null;if(t.selected){e=t.selected.id,t.Events.disable();try{t.selected.unselect()}finally{t.Events.enable()}}(e=new t.Events.Ui(null,"selected",e,this.id)).workspaceId=this.workspace.id,t.Events.fire(e),t.selected=this,this.addSelect()}},t.BlockSvg.prototype.unselect=function(){if(t.selected==this){var e=new t.Events.Ui(null,"selected",this.id,null);e.workspaceId=this.workspace.id,t.Events.fire(e),t.selected=null,this.removeSelect()}},t.BlockSvg.prototype.mutator=null,t.BlockSvg.prototype.comment=null,t.BlockSvg.prototype.commentIcon_=null,t.BlockSvg.prototype.warning=null,t.BlockSvg.prototype.getIcons=function(){var t=[];return this.mutator&&t.push(this.mutator),this.commentIcon_&&t.push(this.commentIcon_),this.warning&&t.push(this.warning),t},t.BlockSvg.prototype.setParent=function(e){var n=this.parentBlock_;if(e!=n){t.utils.dom.startTextWidthCache(),t.BlockSvg.superClass_.setParent.call(this,e),t.utils.dom.stopTextWidthCache();var o=this.getSvgRoot();if(!this.workspace.isClearing&&o){var i=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(o),e=this.getRelativeToSurfaceXY(),this.moveConnections_(e.x-i.x,e.y-i.y)):n&&(this.workspace.getCanvas().appendChild(o),this.translate(i.x,i.y))}}},t.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,n=0,o=this.useDragSurface_?this.workspace.blockDragSurface_.getGroup():null,i=this.getSvgRoot();if(i)do{var r=t.utils.getRelativeXY(i);e+=r.x,n+=r.y,this.useDragSurface_&&this.workspace.blockDragSurface_.getCurrentBlock()==i&&(e+=(r=this.workspace.blockDragSurface_.getSurfaceTranslation()).x,n+=r.y),i=i.parentNode}while(i&&i!=this.workspace.getCanvas()&&i!=o);return new t.utils.Coordinate(e,n)},t.BlockSvg.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var o=t.Events.isEnabled();if(o)var i=new t.Events.BlockMove(this);var r=this.getRelativeToSurfaceXY();this.translate(r.x+e,r.y+n),this.moveConnections_(e,n),o&&(i.recordNew(),t.Events.fire(i)),this.workspace.resizeContents()},t.BlockSvg.prototype.translate=function(t,e){this.getSvgRoot().setAttribute("transform","translate("+t+","+e+")")},t.BlockSvg.prototype.moveToDragSurface_=function(){if(this.useDragSurface_){var t=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.blockDragSurface_.translateSurface(t.x,t.y),this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot())}},t.BlockSvg.prototype.moveTo=function(t){var e=this.getRelativeToSurfaceXY();this.moveBy(t.x-e.x,t.y-e.y)},t.BlockSvg.prototype.moveOffDragSurface_=function(t){this.useDragSurface_&&(this.translate(t.x,t.y),this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()))},t.BlockSvg.prototype.moveDuringDrag=function(t){this.useDragSurface_?this.workspace.blockDragSurface_.translateSurface(t.x,t.y):(this.svgGroup_.translate_="translate("+t.x+","+t.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},t.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},t.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var t=this.workspace.getGrid();if(t&&t.shouldSnap()){var e=t.getSpacing(),n=e/2,o=this.getRelativeToSurfaceXY();t=Math.round((o.x-n)/e)*e+n-o.x,e=Math.round((o.y-n)/e)*e+n-o.y,t=Math.round(t),e=Math.round(e),0==t&&0==e||this.moveBy(t,e)}}},t.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(this),n=this.outputConnection?t.BlockSvg.TAB_WIDTH:0,o=this.getHeightWidth(),i=e.y,r=e.y+o.height;if(this.RTL){var s=e.x-(o.width-n);e=e.x+n}else s=e.x-n,e=e.x+o.width-n;return new t.utils.Rect(i,r,s,e)},t.BlockSvg.prototype.markDirty=function(){for(var t,e=0;t=this.inputList[e];e++)t.markDirty()},t.BlockSvg.prototype.setCollapsed=function(e){if(this.collapsed_!=e){for(var n,o=[],i=0;n=this.inputList[i];i++)o.push.apply(o,n.setVisible(!e));if(e){for(n=this.getIcons(),i=0;i<n.length;i++)n[i].setVisible(!1);i=this.toString(t.COLLAPSE_CHARS),this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(i).init(),n=this.getDescendants(!0),(i=this.getNextBlock())&&(i=n.indexOf(i),n.splice(i,n.length-i)),i=1;for(var r;r=n[i];i++)if(r.warning){this.setWarningText(t.Msg.COLLAPSED_WARNINGS_WARNING,t.BlockSvg.COLLAPSED_WARNING_ID);break}}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.warning&&(this.warning.setText("",t.BlockSvg.COLLAPSED_WARNING_ID),Object.keys(this.warning.text_).length||this.setWarningText(null));if(t.BlockSvg.superClass_.setCollapsed.call(this,e),o.length||(o[0]=this),this.rendered)for(i=0;r=o[i];i++)r.render()}},t.BlockSvg.prototype.tab=function(e,n){var o=this.createTabList_(),i=o.indexOf(e);-1==i&&(i=n?-1:o.length),(o=o[n?i+1:i-1])?o instanceof t.Field?o.showEditor_():o.tab(null,n):(o=this.getParent())&&o.tab(this,n)},t.BlockSvg.prototype.createTabList_=function(){for(var t,e=[],n=0;t=this.inputList[n];n++){for(var o,i=0;o=t.fieldRow[i];i++)o.isTabNavigable()&&o.isVisible()&&e.push(o);t.connection&&(t=t.connection.targetBlock())&&e.push(t)}return e},t.BlockSvg.prototype.onMouseDown_=function(t){var e=this.workspace&&this.workspace.getGesture(t);e&&e.handleBlockStart(t,this)},t.BlockSvg.prototype.showHelp_=function(){var t="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;t&&window.open(t)},t.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=this,n=[];if(!this.isInFlyout){if(this.isDeletable()&&this.isMovable()&&n.push(t.ContextMenu.blockDuplicateOption(e)),this.workspace.options.comments&&!this.collapsed_&&this.isEditable()&&n.push(t.ContextMenu.blockCommentOption(e)),this.isMovable())if(this.collapsed_)this.workspace.options.collapse&&((o={enabled:!0}).text=t.Msg.EXPAND_BLOCK,o.callback=function(){e.setCollapsed(!1)},n.push(o));else{for(var o=1;o<this.inputList.length;o++)if(this.inputList[o-1].type!=t.NEXT_STATEMENT&&this.inputList[o].type!=t.NEXT_STATEMENT){o={enabled:!0};var i=this.getInputsInline();o.text=i?t.Msg.EXTERNAL_INPUTS:t.Msg.INLINE_INPUTS,o.callback=function(){e.setInputsInline(!i)},n.push(o);break}this.workspace.options.collapse&&((o={enabled:!0}).text=t.Msg.COLLAPSE_BLOCK,o.callback=function(){e.setCollapsed(!0)},n.push(o))}this.workspace.options.disable&&this.isEditable()&&(o={text:this.isEnabled()?t.Msg.DISABLE_BLOCK:t.Msg.ENABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){var n=t.Events.getGroup();n||t.Events.setGroup(!0),e.setEnabled(!e.isEnabled()),n||t.Events.setGroup(!1)}},n.push(o)),this.isDeletable()&&n.push(t.ContextMenu.blockDeleteOption(e))}return n.push(t.ContextMenu.blockHelpOption(e)),this.customContextMenu&&this.customContextMenu(n),n},t.BlockSvg.prototype.showContextMenu_=function(e){var n=this.generateContextMenu();n&&n.length&&(t.ContextMenu.show(e,n,this.RTL),t.ContextMenu.currentBlock=this)},t.BlockSvg.prototype.moveConnections_=function(t,e){if(this.rendered){for(var n=this.getConnections_(!1),o=0;o<n.length;o++)n[o].moveBy(t,e);for(n=this.getIcons(),o=0;o<n.length;o++)n[o].computeIconLocation();for(o=0;o<this.childBlocks_.length;o++)this.childBlocks_[o].moveConnections_(t,e)}},t.BlockSvg.prototype.setDragging=function(e){if(e){var n=this.getSvgRoot();n.translate_="",n.skew_="",t.draggingConnections_=t.draggingConnections_.concat(this.getConnections_(!0)),t.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else t.draggingConnections_=[],t.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].setDragging(e)},t.BlockSvg.prototype.updateMovable=function(){this.isMovable()?t.utils.dom.addClass(this.svgGroup_,"blocklyDraggable"):t.utils.dom.removeClass(this.svgGroup_,"blocklyDraggable")},t.BlockSvg.prototype.setMovable=function(e){t.BlockSvg.superClass_.setMovable.call(this,e),this.updateMovable()},t.BlockSvg.prototype.setEditable=function(e){t.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var n=0;n<e.length;n++)e[n].updateEditable()},t.BlockSvg.prototype.setShadow=function(e){t.BlockSvg.superClass_.setShadow.call(this,e),this.updateColour()},t.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!=e&&(this.isInsertionMarker_=e)&&(this.setColour(t.INSERTION_MARKER_COLOUR),t.utils.dom.addClass(this.svgGroup_,"blocklyInsertionMarker"))},t.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.BlockSvg.prototype.dispose=function(e,n){if(this.workspace){t.Tooltip.hide(),t.utils.dom.startTextWidthCache();var o=this.workspace;if(t.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),t.ContextMenu.currentBlock==this&&t.ContextMenu.hide(),t.keyboardAccessibilityMode&&t.navigation.moveCursorOnBlockDelete(this),n&&this.rendered&&(this.unplug(e),t.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]);this.warningTextDb_=null}i=this.getIcons();for(var r=0;r<i.length;r++)i[r].dispose();t.BlockSvg.superClass_.dispose.call(this,e),t.utils.dom.removeNode(this.svgGroup_),o.resizeContents(),this.svgPathDark_=this.svgPathLight_=this.svgPath_=this.svgGroup_=null,t.utils.dom.stopTextWidthCache()}},t.BlockSvg.prototype.updateColour=function(){if(this.isEnabled()){this.isShadow()?this.setShadowColour_():(this.setBorderColour_(),this.svgPath_.setAttribute("fill",this.getColour()));for(var t=this.getIcons(),e=0;e<t.length;e++)t[e].updateColour();for(t=0;e=this.inputList[t];t++)for(var n,o=0;n=e.fieldRow[o];o++)n.updateColour()}},t.BlockSvg.prototype.setBorderColour_=function(){var t=this.getColourBorder();t.colourBorder?(this.svgPathLight_.style.display="none",this.svgPathDark_.style.display="none",this.svgPath_.setAttribute("stroke",t.colourBorder)):(this.svgPathLight_.style.display="",this.svgPathDark_.style.display="",this.svgPath_.setAttribute("stroke","none"),this.svgPathLight_.setAttribute("stroke",t.colourLight),this.svgPathDark_.setAttribute("fill",t.colourDark))},t.BlockSvg.prototype.setShadowColour_=function(){var t=this.getColourShadow();return this.svgPathLight_.style.display="none",this.svgPathDark_.setAttribute("fill",t),this.svgPath_.setAttribute("stroke","none"),this.svgPath_.setAttribute("fill",t),t},t.BlockSvg.prototype.updateDisabled=function(){!this.isEnabled()||this.getInheritedDisabled()?t.utils.dom.addClass(this.svgGroup_,"blocklyDisabled")&&this.svgPath_.setAttribute("fill","url(#"+this.workspace.options.disabledPatternId+")"):t.utils.dom.removeClass(this.svgGroup_,"blocklyDisabled")&&this.updateColour();for(var e,n=this.getChildren(!1),o=0;e=n[o];o++)e.updateDisabled()},t.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},t.BlockSvg.prototype.setCommentText=function(e){if(!t.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=e&&(t.BlockSvg.superClass_.setCommentText.call(this,e),e=null!=e,!!this.commentIcon_==e?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new t.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},t.BlockSvg.prototype.setWarningText=function(e,n){this.warningTextDb_||(this.warningTextDb_=Object.create(null));var o=n||"";if(o)this.warningTextDb_[o]&&(clearTimeout(this.warningTextDb_[o]),delete this.warningTextDb_[o]);else for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]),delete this.warningTextDb_[i];if(this.workspace.isDragging()){var r=this;this.warningTextDb_[o]=setTimeout((function(){r.workspace&&(delete r.warningTextDb_[o],r.setWarningText(e,o))}),100)}else{this.isInFlyout&&(e=null),i=this.getSurroundParent();for(var s=null;i;)i.isCollapsed()&&(s=i),i=i.getSurroundParent();s&&s.setWarningText(t.Msg.COLLAPSED_WARNINGS_WARNING,t.BlockSvg.COLLAPSED_WARNING_ID),i=!1,"string"==typeof e?(this.warning||(this.warning=new t.Warning(this),i=!0),this.warning.setText(e,o)):this.warning&&!o?(this.warning.dispose(),i=!0):this.warning&&(i=this.warning.getText(),this.warning.setText("",o),(s=this.warning.getText())||this.warning.dispose(),i=i!=s),i&&this.rendered&&(this.render(),this.bumpNeighbours())}},t.BlockSvg.prototype.setMutator=function(t){this.mutator&&this.mutator!==t&&this.mutator.dispose(),t&&(t.block_=this,this.mutator=t,t.createIcon())},t.BlockSvg.prototype.setDisabled=function(t){console.warn("Deprecated call to Blockly.BlockSvg.prototype.setDisabled, use Blockly.BlockSvg.prototype.setEnabled instead."),this.setEnabled(!t)},t.BlockSvg.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.BlockSvg.superClass_.setEnabled.call(this,e),this.rendered&&this.updateDisabled())},t.BlockSvg.prototype.setHighlighted=function(t){this.rendered&&(t?(this.svgPath_.setAttribute("filter","url(#"+this.workspace.options.embossFilterId+")"),this.svgPathLight_.style.display="none"):(this.svgPath_.setAttribute("filter","none"),this.svgPathLight_.style.display="inline"))},t.BlockSvg.prototype.addSelect=function(){t.utils.dom.addClass(this.svgGroup_,"blocklySelected")},t.BlockSvg.prototype.removeSelect=function(){t.utils.dom.removeClass(this.svgGroup_,"blocklySelected")},t.BlockSvg.prototype.setDeleteStyle=function(e){e?t.utils.dom.addClass(this.svgGroup_,"blocklyDraggingDelete"):t.utils.dom.removeClass(this.svgGroup_,"blocklyDraggingDelete")},t.BlockSvg.prototype.setColour=function(e){t.BlockSvg.superClass_.setColour.call(this,e),this.rendered&&this.updateColour()},t.BlockSvg.prototype.bringToFront=function(){var t=this;do{var e=t.getSvgRoot();e.parentNode.appendChild(e),t=t.getParent()}while(t)},t.BlockSvg.prototype.setPreviousStatement=function(e,n){t.BlockSvg.superClass_.setPreviousStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setNextStatement=function(e,n){t.BlockSvg.superClass_.setNextStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setOutput=function(e,n){t.BlockSvg.superClass_.setOutput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setInputsInline=function(e){t.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.removeInput=function(e,n){t.BlockSvg.superClass_.removeInput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.moveNumberedInputBefore=function(e,n){t.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.appendInput_=function(e,n){var o=t.BlockSvg.superClass_.appendInput_.call(this,e,n);return this.rendered&&(this.render(),this.bumpNeighbours()),o},t.BlockSvg.prototype.setConnectionsHidden=function(t){if(!t&&this.isCollapsed()){if(this.outputConnection&&this.outputConnection.setHidden(t),this.previousConnection&&this.previousConnection.setHidden(t),this.nextConnection){this.nextConnection.setHidden(t);var e=this.nextConnection.targetBlock();e&&e.setConnectionsHidden(t)}}else for(var n=this.getConnections_(!0),o=0;e=n[o];o++)e.setHidden(t),e.isSuperior()&&(e=e.targetBlock())&&e.setConnectionsHidden(t)},t.BlockSvg.prototype.getConnections_=function(t){var e=[];if((t||this.rendered)&&(this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection),t||!this.collapsed_)){t=0;for(var n;n=this.inputList[t];t++)n.connection&&e.push(n.connection)}return e},t.BlockSvg.prototype.makeConnection_=function(e){return new t.RenderedConnection(this,e)},t.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var e=this.getRootBlock();if(!e.isInFlyout)for(var n,o=this.getConnections_(!1),i=0;n=o[i];i++){n.isConnected()&&n.isSuperior()&&n.targetBlock().bumpNeighbours();for(var r,s=n.neighbours_(t.SNAP_RADIUS),a=0;r=s[a];a++)n.isConnected()&&r.isConnected()||r.getSourceBlock().getRootBlock()!=e&&(n.isSuperior()?r.bumpAwayFrom_(n):n.bumpAwayFrom_(r))}}},t.BlockSvg.prototype.scheduleSnapAndBump=function(){var e=this,n=t.Events.getGroup();setTimeout((function(){t.Events.setGroup(n),e.snapToGrid(),t.Events.setGroup(!1)}),t.BUMP_DELAY/2),setTimeout((function(){t.Events.setGroup(n),e.bumpNeighbours(),t.Events.setGroup(!1)}),t.BUMP_DELAY)},t.BlockSvg.prototype.positionNearConnection=function(e,n){e.type!=t.NEXT_STATEMENT&&e.type!=t.INPUT_VALUE||this.moveBy(n.x_-e.x_,n.y_-e.y_)},t.BlockSvg.prototype.render=function(e){t.utils.dom.startTextWidthCache(),this.rendered=!0,this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e&&((e=this.getParent())?e.render(!0):this.workspace.resizeContents()),t.utils.dom.stopTextWidthCache()},t.BlockSvg.prototype.updateConnectionLocations_=function(){var t=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(t),this.outputConnection&&this.outputConnection.moveToOffset(t);for(var e=0;e<this.inputList.length;e++){var n=this.inputList[e].connection;n&&(n.moveToOffset(t),n.isConnected()&&n.tighten_())}this.nextConnection&&(this.nextConnection.moveToOffset(t),this.nextConnection.isConnected()&&this.nextConnection.tighten_())},t.BlockSvg.prototype.setCursorSvg=function(t){t?(this.svgGroup_.appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.BlockSvg.prototype.setMarkerSvg=function(t){t?(this.cursorSvg_?this.svgGroup_.insertBefore(t,this.cursorSvg_):this.svgGroup_.appendChild(t),this.markerSvg_=t):this.markerSvg_=null},t.BlockSvg.prototype.getHeightWidth=function(){var t=this.height,e=this.width,n=this.getNextBlock();return n&&(t+=(n=n.getHeightWidth()).height-4,e=Math.max(e,n.width)),{height:t,width:e}},t.BlockSvg.prototype.positionNewBlock=function(e,n,o){n.type!=t.NEXT_STATEMENT&&n.type!=t.INPUT_VALUE||e.moveBy(o.x_-n.x_,o.y_-n.y_)},t.BlockSvg.prototype.highlightForReplacement=function(e){e?t.utils.dom.addClass(this.svgGroup_,"blocklyReplaceable"):t.utils.dom.removeClass(this.svgGroup_,"blocklyReplaceable")},t.Css={},t.Css.injected_=!1,t.Css.register=function(e){if(t.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(t.Css.CONTENT,e),e.length=0},t.Css.inject=function(e,n){if(!t.Css.injected_){t.Css.injected_=!0;var o=t.Css.CONTENT.join("\n");if(t.Css.CONTENT.length=0,e){var i=n.replace(/[\\/]$/,"");o=o.replace(/<<<PATH>>>/g,i),i=document.createElement("style"),o=document.createTextNode(o),i.appendChild(o),document.head.insertBefore(i,document.head.firstChild)}}},t.Css.setCursor=function(t){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")},t.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;","stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;","outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem {","padding-left: 28px;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: transparent;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyWidgetDiv .goog-menu.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem,",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","border: none;","padding: 6px 15px;","white-space: nowrap;","cursor: pointer;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem,",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-content {","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","}",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","}",".blocklyWidgetDiv .goog-menuitem-disabled,",".blocklyDropDownDiv .goog-menuitem-disabled {","cursor: inherit;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: .3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight ,",".blocklyDropDownDiv .goog-menuitem-highlight {","background-color: rgba(0,0,0,.1);","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}"],t.DropDownDiv=function(){},t.DropDownDiv.DIV_=null,t.DropDownDiv.boundsElement_=null,t.DropDownDiv.owner_=null,t.DropDownDiv.positionToField_=null,t.DropDownDiv.ARROW_SIZE=16,t.DropDownDiv.BORDER_SIZE=1,t.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,t.DropDownDiv.PADDING_Y=16,t.DropDownDiv.ANIMATION_TIME=.25,t.DropDownDiv.DEFAULT_DROPDOWN_BORDER_COLOR="#dadce0",t.DropDownDiv.DEFAULT_DROPDOWN_COLOR="#fff",t.DropDownDiv.animateOutTimer_=null,t.DropDownDiv.onHide_=null,t.DropDownDiv.createDom=function(){if(!t.DropDownDiv.DIV_){var e=document.createElement("div");e.className="blocklyDropDownDiv",e.style.backgroundColor=t.DropDownDiv.DEFAULT_DROPDOWN_COLOR,e.style.borderColor=t.DropDownDiv.DEFAULT_DROPDOWN_BORDER_COLOR,document.body.appendChild(e),t.DropDownDiv.DIV_=e;var n=document.createElement("div");n.className="blocklyDropDownContent",e.appendChild(n),t.DropDownDiv.content_=n,(n=document.createElement("div")).className="blocklyDropDownArrow",e.appendChild(n),t.DropDownDiv.arrow_=n,t.DropDownDiv.DIV_.style.opacity=0,t.DropDownDiv.DIV_.style.transition="transform "+t.DropDownDiv.ANIMATION_TIME+"s, opacity "+t.DropDownDiv.ANIMATION_TIME+"s",e.addEventListener("focusin",(function(){t.utils.dom.addClass(e,"focused")})),e.addEventListener("focusout",(function(){t.utils.dom.removeClass(e,"focused")}))}},t.DropDownDiv.setBoundsElement=function(e){t.DropDownDiv.boundsElement_=e},t.DropDownDiv.getContentDiv=function(){return t.DropDownDiv.content_},t.DropDownDiv.clearContent=function(){t.DropDownDiv.content_.innerHTML="",t.DropDownDiv.content_.style.width=""},t.DropDownDiv.setColour=function(e,n){t.DropDownDiv.DIV_.style.backgroundColor=e,t.DropDownDiv.DIV_.style.borderColor=n},t.DropDownDiv.setCategory=function(e){t.DropDownDiv.DIV_.setAttribute("data-category",e)},t.DropDownDiv.showPositionedByBlock=function(e,n,o,i){var r=n.workspace.scale,s=n.width,a=n.height;return s*=r,a*=r,s=(r=n.getSvgRoot().getBoundingClientRect()).left+s/2,a=r.top+a,r=r.top,i&&(r+=i),t.DropDownDiv.setBoundsElement(n.workspace.getParentSvg().parentNode),t.DropDownDiv.show(e,n.RTL,s,a,s,r,o)},t.DropDownDiv.showPositionedByField=function(e,n,o){var i=e.getSvgRoot().getBoundingClientRect(),r=i.left+i.width/2,s=i.bottom;return i=i.top,o&&(i+=o),o=e.getSourceBlock(),t.DropDownDiv.positionToField_=!0,t.DropDownDiv.setBoundsElement(o.workspace.getParentSvg().parentNode),t.DropDownDiv.show(e,o.RTL,r,s,r,i,n)},t.DropDownDiv.show=function(e,n,o,i,r,s,a){return t.DropDownDiv.owner_=e,t.DropDownDiv.onHide_=a||null,(e=t.DropDownDiv.getPositionMetrics(o,i,r,s)).arrowVisible?(t.DropDownDiv.arrow_.style.display="",t.DropDownDiv.arrow_.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",t.DropDownDiv.arrow_.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom")):t.DropDownDiv.arrow_.style.display="none",t.DropDownDiv.DIV_.style.direction=n?"rtl":"ltr",t.DropDownDiv.positionInternal_(e.initialX,e.initialY,e.finalX,e.finalY),e.arrowAtTop},t.DropDownDiv.getBoundsInfo_=function(){var e=t.DropDownDiv.boundsElement_.getBoundingClientRect(),n=t.utils.style.getSize(t.DropDownDiv.boundsElement_);return{left:e.left,right:e.left+n.width,top:e.top,bottom:e.top+n.height,width:n.width,height:n.height}},t.DropDownDiv.getPositionMetrics=function(e,n,o,i){var r=t.DropDownDiv.getBoundsInfo_(),s=t.utils.style.getSize(t.DropDownDiv.DIV_);return n+s.height<r.bottom?t.DropDownDiv.getPositionBelowMetrics(e,n,r,s):i-s.height>r.top?t.DropDownDiv.getPositionAboveMetrics(o,i,r,s):n+s.height<document.documentElement.clientHeight?t.DropDownDiv.getPositionBelowMetrics(e,n,r,s):i-s.height>document.documentElement.clientTop?t.DropDownDiv.getPositionAboveMetrics(o,i,r,s):t.DropDownDiv.getPositionTopOfPageMetrics(e,r,s)},t.DropDownDiv.getPositionBelowMetrics=function(e,n,o,i){return{initialX:(e=t.DropDownDiv.getPositionX(e,o.left,o.right,i.width)).divX,initialY:n,finalX:e.divX,finalY:n+t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:-(t.DropDownDiv.ARROW_SIZE/2+t.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},t.DropDownDiv.getPositionAboveMetrics=function(e,n,o,i){return{initialX:(e=t.DropDownDiv.getPositionX(e,o.left,o.right,i.width)).divX,initialY:n-i.height,finalX:e.divX,finalY:n-i.height-t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:i.height-2*t.DropDownDiv.BORDER_SIZE-t.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},t.DropDownDiv.getPositionTopOfPageMetrics=function(e,n,o){return{initialX:(e=t.DropDownDiv.getPositionX(e,n.left,n.right,o.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowVisible:!1}},t.DropDownDiv.getPositionX=function(e,n,o,i){var r=e;return e=t.utils.math.clamp(n,e-i/2,o-i),r-=t.DropDownDiv.ARROW_SIZE/2,n=t.DropDownDiv.ARROW_HORIZONTAL_PADDING,{arrowX:i=t.utils.math.clamp(n,r-e,i-n-t.DropDownDiv.ARROW_SIZE),divX:e}},t.DropDownDiv.isVisible=function(){return!!t.DropDownDiv.owner_},t.DropDownDiv.hideIfOwner=function(e,n){return t.DropDownDiv.owner_===e&&(n?t.DropDownDiv.hideWithoutAnimation():t.DropDownDiv.hide(),!0)},t.DropDownDiv.hide=function(){var e=t.DropDownDiv.DIV_;e.style.transform="translate(0, 0)",e.style.opacity=0,t.DropDownDiv.animateOutTimer_=setTimeout((function(){t.DropDownDiv.hideWithoutAnimation()}),1e3*t.DropDownDiv.ANIMATION_TIME),t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null)},t.DropDownDiv.hideWithoutAnimation=function(){if(t.DropDownDiv.isVisible()){t.DropDownDiv.animateOutTimer_&&clearTimeout(t.DropDownDiv.animateOutTimer_);var e=t.DropDownDiv.DIV_;e.style.transform="",e.style.left="",e.style.top="",e.style.opacity=0,e.style.display="none",e.style.backgroundColor=t.DropDownDiv.DEFAULT_DROPDOWN_COLOR,e.style.borderColor=t.DropDownDiv.DEFAULT_DROPDOWN_BORDER_COLOR,t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null),t.DropDownDiv.clearContent(),t.DropDownDiv.owner_=null}},t.DropDownDiv.positionInternal_=function(e,n,o,i){e=Math.floor(e),n=Math.floor(n),o=Math.floor(o),i=Math.floor(i);var r=t.DropDownDiv.DIV_;r.style.left=e+"px",r.style.top=n+"px",r.style.display="block",r.style.opacity=1,r.style.transform="translate("+(o-e)+"px,"+(i-n)+"px)"},t.DropDownDiv.repositionForWindowResize=function(){if(t.DropDownDiv.owner_){var e=t.DropDownDiv.owner_.getSourceBlock(),n=e.workspace.scale,o=t.DropDownDiv.positionToField_?t.DropDownDiv.owner_.size_.width:e.width,i=t.DropDownDiv.positionToField_?t.DropDownDiv.owner_.size_.height:e.height;o*=n,i*=n,o=(e=t.DropDownDiv.positionToField_?t.DropDownDiv.owner_.fieldGroup_.getBoundingClientRect():e.getSvgRoot().getBoundingClientRect()).left+o/2,i=t.DropDownDiv.getPositionMetrics(o,e.top+i,o,e.top),t.DropDownDiv.positionInternal_(i.initialX,i.initialY,i.finalX,i.finalY)}else t.DropDownDiv.hide()},t.Grid=function(t,e){this.gridPattern_=t,this.spacing_=e.spacing,this.length_=e.length,this.line2_=(this.line1_=t.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=e.snap},t.Grid.prototype.scale_=1,t.Grid.prototype.dispose=function(){this.gridPattern_=null},t.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},t.Grid.prototype.getSpacing=function(){return this.spacing_},t.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},t.Grid.prototype.update=function(t){this.scale_=t;var e=this.spacing_*t||100;this.gridPattern_.setAttribute("width",e),this.gridPattern_.setAttribute("height",e);var n=(e=Math.floor(this.spacing_/2)+.5)-this.length_/2,o=e+this.length_/2;e*=t,n*=t,o*=t,this.setLineAttributes_(this.line1_,t,n,o,e,e),this.setLineAttributes_(this.line2_,t,e,e,n,o)},t.Grid.prototype.setLineAttributes_=function(t,e,n,o,i,r){t&&(t.setAttribute("stroke-width",e),t.setAttribute("x1",n),t.setAttribute("y1",i),t.setAttribute("x2",o),t.setAttribute("y2",r))},t.Grid.prototype.moveTo=function(e,n){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",n),(t.utils.userAgent.IE||t.utils.userAgent.EDGE)&&this.update(this.scale_)},t.Grid.createDom=function(e,n,o){return e=t.utils.dom.createSvgElement("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},o),0<n.length&&0<n.spacing?(t.utils.dom.createSvgElement("line",{stroke:n.colour},e),1<n.length&&t.utils.dom.createSvgElement("line",{stroke:n.colour},e)):t.utils.dom.createSvgElement("line",{},e),e},t.Options=function(e){var n=!!e.readOnly;if(n)var o=null,i=!1,r=!1,s=!1,a=!1,l=!1,u=!1;else{i=!(!(o=t.Options.parseToolboxTree(e.toolbox||null))||!o.getElementsByTagName("category").length),void 0===(r=e.trashcan)&&(r=i);var c=e.maxTrashcanContents;r?void 0===c&&(c=32):c=0,void 0===(s=e.collapse)&&(s=i),void 0===(a=e.comments)&&(a=i),void 0===(l=e.disable)&&(l=i),void 0===(u=e.sounds)&&(u=!0)}var h=!!e.rtl,p=e.horizontalLayout;void 0===p&&(p=!1);var d=e.toolboxPosition;d="end"!==d,d=p?d?t.TOOLBOX_AT_TOP:t.TOOLBOX_AT_BOTTOM:d==h?t.TOOLBOX_AT_RIGHT:t.TOOLBOX_AT_LEFT;var f=e.css;void 0===f&&(f=!0);var _="https://blockly-demo.appspot.com/static/media/";e.media?_=e.media:e.path&&(_=e.path+"media/");var g=void 0===e.oneBasedIndex||!!e.oneBasedIndex,m=e.theme,v=e.keyMap||t.user.keyMap.createDefaultKeyMap(),E=e.renderer||"geras";this.RTL=h,this.oneBasedIndex=g,this.collapse=s,this.comments=a,this.disable=l,this.readOnly=n,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=e.maxInstances,this.pathToMedia=_,this.hasCategories=i,this.moveOptions=t.Options.parseMoveOptions(e,i),this.hasScrollbars=this.moveOptions.scrollbars,this.hasTrashcan=r,this.maxTrashcanContents=c,this.hasSounds=u,this.hasCss=f,this.horizontalLayout=p,this.languageTree=o,this.gridOptions=t.Options.parseGridOptions_(e),this.zoomOptions=t.Options.parseZoomOptions_(e),this.toolboxPosition=d,this.theme=m,this.keyMap=v,this.renderer=E},t.Options.prototype.parentWorkspace=null,t.Options.prototype.setMetrics=null,t.Options.prototype.getMetrics=null,t.Options.parseMoveOptions=function(t,e){var n=t.move||{},o={};return o.scrollbars=void 0===n.scrollbars&&void 0===t.scrollbars?e:!!n.scrollbars||!!t.scrollbars,o.wheel=!(!o.scrollbars||void 0===n.wheel)&&!!n.wheel,o.drag=!!o.scrollbars&&(void 0===n.drag||!!n.drag),o},t.Options.parseZoomOptions_=function(t){t=t.zoom||{};var e={};return e.controls=void 0!==t.controls&&!!t.controls,e.wheel=void 0!==t.wheel&&!!t.wheel,e.startScale=void 0===t.startScale?1:Number(t.startScale),e.maxScale=void 0===t.maxScale?3:Number(t.maxScale),e.minScale=void 0===t.minScale?.3:Number(t.minScale),e.scaleSpeed=void 0===t.scaleSpeed?1.2:Number(t.scaleSpeed),e},t.Options.parseGridOptions_=function(t){t=t.grid||{};var e={};return e.spacing=Number(t.spacing)||0,e.colour=t.colour||"#888",e.length=Number(t.length)||1,e.snap=0<e.spacing&&!!t.snap,e},t.Options.parseToolboxTree=function(e){if(e){if("string"!=typeof e&&(t.utils.userAgent.IE&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&"xml"!=(e=t.Xml.textToDom(e)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e=null;return e},t.WorkspaceDragSurfaceSvg=function(t){this.container_=t,this.createDom()},t.WorkspaceDragSurfaceSvg.prototype.SVG_=null,t.WorkspaceDragSurfaceSvg.prototype.dragGroup_=null,t.WorkspaceDragSurfaceSvg.prototype.container_=null,t.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement("svg",{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},t.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,n){var o=e.toFixed(0),i=n.toFixed(0);this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+o+"px, "+i+"px, 0px)")},t.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return t.utils.getRelativeXY(this.SVG_)},t.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var n=this.SVG_.childNodes[0],o=this.SVG_.childNodes[1];if(!(n&&o&&t.utils.dom.hasClass(n,"blocklyBlockCanvas")&&t.utils.dom.hasClass(o,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?t.utils.dom.insertAfter(n,this.previousSibling_):e.insertBefore(n,e.firstChild),t.utils.dom.insertAfter(o,n),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");t.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},t.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(t,e,n,o,i,r){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=n,t.setAttribute("transform","translate(0, 0) scale("+r+")"),e.setAttribute("transform","translate(0, 0) scale("+r+")"),this.SVG_.setAttribute("width",o),this.SVG_.setAttribute("height",i),this.SVG_.appendChild(t),this.SVG_.appendChild(e),this.SVG_.style.display="block"},t.blockRendering.rendererMap_={},t.blockRendering.useDebugger=!1,t.blockRendering.register=function(e,n){if(t.blockRendering.rendererMap_[e])throw Error("Renderer has already been registered.");t.blockRendering.rendererMap_[e]=n},t.blockRendering.unregister=function(e){t.blockRendering.rendererMap_[e]?delete t.blockRendering.rendererMap_[e]:console.warn('No renderer mapping for name "'+e+'" found to unregister')},t.blockRendering.startDebugger=function(){t.blockRendering.useDebugger=!0},t.blockRendering.stopDebugger=function(){t.blockRendering.useDebugger=!1},t.blockRendering.init=function(e){if(!t.blockRendering.rendererMap_[e])throw Error("Renderer not registered: ",e);var n=function t(){t.superClass_.constructor.call(this)};return t.utils.object.inherits(n,t.blockRendering.rendererMap_[e]),(e=new n).init(),e},t.ConnectionDB=function(){this.connections_=[]},t.ConnectionDB.prototype.addConnection=function(t){if(t.inDB_)throw Error("Connection already in database.");if(!t.getSourceBlock().isInFlyout){var e=this.findPositionForConnection_(t);this.connections_.splice(e,0,t),t.inDB_=!0}},t.ConnectionDB.prototype.findConnection=function(t){if(!this.connections_.length)return-1;var e=this.findPositionForConnection_(t);if(e>=this.connections_.length)return-1;for(var n=t.y_,o=e;0<=o&&this.connections_[o].y_==n;){if(this.connections_[o]==t)return o;o--}for(;e<this.connections_.length&&this.connections_[e].y_==n;){if(this.connections_[e]==t)return e;e++}return-1},t.ConnectionDB.prototype.findPositionForConnection_=function(t){if(!this.connections_.length)return 0;for(var e=0,n=this.connections_.length;e<n;){var o=Math.floor((e+n)/2);if(this.connections_[o].y_<t.y_)e=o+1;else{if(!(this.connections_[o].y_>t.y_)){e=o;break}n=o}}return e},t.ConnectionDB.prototype.removeConnection_=function(t){if(!t.inDB_)throw Error("Connection not in database.");var e=this.findConnection(t);if(-1==e)throw Error("Unable to find connection in connectionDB.");t.inDB_=!1,this.connections_.splice(e,1)},t.ConnectionDB.prototype.getNeighbours=function(t,e){function n(t){var n=i-o[t].x_,s=r-o[t].y_;return Math.sqrt(n*n+s*s)<=e&&u.push(o[t]),s<e}for(var o=this.connections_,i=t.x_,r=t.y_,s=0,a=o.length-2,l=a;s<l;)o[l].y_<r?s=l:a=l,l=Math.floor((s+a)/2);var u=[];if(a=s=l,o.length){for(;0<=s&&n(s);)s--;do{a++}while(a<o.length&&n(a))}return u},t.ConnectionDB.prototype.isInYRange_=function(t,e,n){return Math.abs(this.connections_[t].y_-e)<=n},t.ConnectionDB.prototype.searchForClosest=function(t,e,n){if(!this.connections_.length)return{connection:null,radius:e};var o=t.y_,i=t.x_;t.x_=i+n.x,t.y_=o+n.y;var r=this.findPositionForConnection_(t);n=null;for(var s,a=e,l=r-1;0<=l&&this.isInYRange_(l,t.y_,e);)s=this.connections_[l],t.isConnectionAllowed(s,a)&&(n=s,a=s.distanceFrom(t)),l--;for(;r<this.connections_.length&&this.isInYRange_(r,t.y_,e);)s=this.connections_[r],t.isConnectionAllowed(s,a)&&(n=s,a=s.distanceFrom(t)),r++;return t.x_=i,t.y_=o,{connection:n,radius:a}},t.ConnectionDB.init=function(){var e=[];return e[t.INPUT_VALUE]=new t.ConnectionDB,e[t.OUTPUT_VALUE]=new t.ConnectionDB,e[t.NEXT_STATEMENT]=new t.ConnectionDB,e[t.PREVIOUS_STATEMENT]=new t.ConnectionDB,e},t.TouchGesture=function(e,n){t.TouchGesture.superClass_.constructor.call(this,e,n),this.isMultiTouch_=!1,this.cachedPoints_={},this.startDistance_=this.previousScale_=0,this.onStartWrapper_=null},t.utils.object.inherits(t.TouchGesture,t.Gesture),t.TouchGesture.ZOOM_IN_MULTIPLIER=5,t.TouchGesture.ZOOM_OUT_MULTIPLIER=6,t.TouchGesture.prototype.doStart=function(e){t.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&t.Touch.isTouchEvent(e)&&this.handleTouchStart(e)},t.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=t.bindEventWithChecks_(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=t.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=t.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},t.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&t.Touch.isTouchEvent(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&t.longStop_())},t.TouchGesture.prototype.handleMove=function(e){this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?(t.Touch.isTouchEvent(e)&&this.handleTouchMove(e),t.longStop_()):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handleUp=function(e){t.Touch.isTouchEvent(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},t.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},t.TouchGesture.prototype.dispose=function(){t.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&t.unbindEvent_(this.onStartWrapper_)},t.TouchGesture.prototype.handleTouchStart=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[n]=this.getTouchPoint(e),2==(n=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]]),this.isMultiTouch_=!0,e.preventDefault())},t.TouchGesture.prototype.handleTouchMove=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);if(this.cachedPoints_[n]=this.getTouchPoint(e),2==(n=Object.keys(this.cachedPoints_)).length){if(n=this.touchScale_=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var o=n-this.previousScale_;o=0<o?o*t.TouchGesture.ZOOM_IN_MULTIPLIER:o*t.TouchGesture.ZOOM_OUT_MULTIPLIER;var i=this.startWorkspace_,r=t.utils.mouseToSvg(e,i.getParentSvg(),i.getInverseScreenCTM());i.zoom(r.x,r.y,o)}this.previousScale_=n,e.preventDefault()}},t.TouchGesture.prototype.handleTouchEnd=function(e){e=t.Touch.getTouchIdentifierFromEvent(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_={},this.previousScale_=0)},t.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new t.utils.Coordinate(e.pageX?e.pageX:e.changedTouches[0].pageX,e.pageY?e.pageY:e.changedTouches[0].pageY):null},t.WorkspaceAudio=function(t){this.parentWorkspace_=t,this.SOUNDS_=Object.create(null)},t.WorkspaceAudio.prototype.lastSound_=null,t.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},t.WorkspaceAudio.prototype.load=function(e,n){if(e.length){try{var o=new t.utils.global.Audio}catch(l){return}for(var i,r=0;r<e.length;r++){var s=e[r],a=s.match(/\.(\w+)$/);if(a&&o.canPlayType("audio/"+a[1])){i=new t.utils.global.Audio(s);break}}i&&i.play&&(this.SOUNDS_[n]=i)}},t.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var n=this.SOUNDS_[e];n.volume=.01;var o=n.play();if(void 0!==o?o.then(n.pause).catch((function(){})):n.pause(),t.utils.userAgent.IPAD||t.utils.userAgent.IPHONE)break}},t.WorkspaceAudio.prototype.play=function(e,n){var o=this.SOUNDS_[e];if(o){var i=new Date;null!=this.lastSound_&&i-this.lastSound_<t.SOUND_LIMIT||(this.lastSound_=i,(o=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID?o:o.cloneNode()).volume=void 0===n?1:n,o.play())}else this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(e,n)},t.WorkspaceSvg=function(e,n,o){t.WorkspaceSvg.superClass_.constructor.call(this,e),this.getMetrics=e.getMetrics||t.WorkspaceSvg.getTopLevelWorkspaceMetrics_,this.setMetrics=e.setMetrics||t.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.connectionDBList=t.ConnectionDB.init(),n&&(this.blockDragSurface_=n),o&&(this.workspaceDragSurface_=o),this.useWorkspaceDragSurface_=this.workspaceDragSurface_&&t.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new t.WorkspaceAudio(e.parentWorkspace),this.grid_=this.options.gridPattern?new t.Grid(e.gridPattern,e.gridOptions):null,this.markerSvg_=this.cursorSvg_=null,t.Variables&&t.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_CATEGORY_NAME,t.Variables.flyoutCategory),t.VariablesDynamic&&t.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_DYNAMIC_CATEGORY_NAME,t.VariablesDynamic.flyoutCategory),t.Procedures&&t.Procedures.flyoutCategory&&this.registerToolboxCategoryCallback(t.PROCEDURE_CATEGORY_NAME,t.Procedures.flyoutCategory),this.renderer_=t.blockRendering.init(this.options.renderer||"geras")},t.utils.object.inherits(t.WorkspaceSvg,t.Workspace),t.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,t.WorkspaceSvg.prototype.rendered=!0,t.WorkspaceSvg.prototype.isVisible_=!0,t.WorkspaceSvg.prototype.isFlyout=!1,t.WorkspaceSvg.prototype.isMutator=!1,t.WorkspaceSvg.prototype.resizesEnabled_=!0,t.WorkspaceSvg.prototype.scrollX=0,t.WorkspaceSvg.prototype.scrollY=0,t.WorkspaceSvg.prototype.startScrollX=0,t.WorkspaceSvg.prototype.startScrollY=0,t.WorkspaceSvg.prototype.dragDeltaXY_=null,t.WorkspaceSvg.prototype.scale=1,t.WorkspaceSvg.prototype.trashcan=null,t.WorkspaceSvg.prototype.scrollbar=null,t.WorkspaceSvg.prototype.flyout_=null,t.WorkspaceSvg.prototype.toolbox_=null,t.WorkspaceSvg.prototype.currentGesture_=null,t.WorkspaceSvg.prototype.blockDragSurface_=null,t.WorkspaceSvg.prototype.workspaceDragSurface_=null,t.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,t.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,t.WorkspaceSvg.prototype.injectionDiv_=null,t.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,t.WorkspaceSvg.prototype.flyoutButtonCallbacks_={},t.WorkspaceSvg.prototype.toolboxCategoryCallbacks_={},t.WorkspaceSvg.prototype.configureContextMenu=null,t.WorkspaceSvg.prototype.targetWorkspace=null,t.WorkspaceSvg.prototype.inverseScreenCTM_=null,t.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,t.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},t.WorkspaceSvg.prototype.setCursor=function(t){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=t)&&(this.cursor_.setDrawer(this.getRenderer().makeCursorDrawer(this,!1)),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},t.WorkspaceSvg.prototype.setMarker=function(t){this.marker_&&this.marker_.getDrawer()&&this.marker_.getDrawer().dispose(),(this.marker_=t)&&(this.marker_.setDrawer(this.getRenderer().makeCursorDrawer(this,!0)),this.setMarkerSvg(this.marker_.getDrawer().createDom()))},t.WorkspaceSvg.prototype.setCursorSvg=function(t){t?this.svgBlockCanvas_&&(this.svgBlockCanvas_.appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.WorkspaceSvg.prototype.setMarkerSvg=function(t){t?this.svgBlockCanvas_&&(this.cursorSvg_?this.svgBlockCanvas_.insertBefore(t,this.cursorSvg_):this.svgBlockCanvas_.appendChild(t),this.markerSvg_=t):this.markerSvg_=null},t.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var t=this.getParentSvg().getScreenCTM();t&&(this.inverseScreenCTM_=t.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},t.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},t.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},t.WorkspaceSvg.prototype.getSvgXY=function(e){var n=0,o=0,i=1;(t.utils.dom.containsNode(this.getCanvas(),e)||t.utils.dom.containsNode(this.getBubbleCanvas(),e))&&(i=this.scale);do{var r=t.utils.getRelativeXY(e);e!=this.getCanvas()&&e!=this.getBubbleCanvas()||(i=1),n+=r.x*i,o+=r.y*i,e=e.parentNode}while(e&&e!=this.getParentSvg());return new t.utils.Coordinate(n,o)},t.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return t.utils.getInjectionDivXY_(this.svgBlockCanvas_)},t.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var t=this.svgGroup_;t;){if(-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=t;break}t=t.parentNode}return this.injectionDiv_},t.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(t){this.resizeHandlerWrapper_=t},t.WorkspaceSvg.prototype.createDom=function(e){if(this.svgGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=t.utils.dom.createSvgElement("rect",{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspace","fill")),this.svgBlockCanvas_=t.utils.dom.createSvgElement("g",{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=t.utils.dom.createSvgElement("g",{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(t.bindEventWithChecks_(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),t.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories){if(!t.Toolbox)throw Error("Missing require for Blockly.Toolbox");this.toolbox_=new t.Toolbox(this)}return this.grid_&&this.grid_.update(this.scale),this.recordDeleteAreas(),this.cursor_.setDrawer(this.getRenderer().makeCursorDrawer(this,!1)),e=this.cursor_.getDrawer().createDom(),this.svgGroup_.appendChild(e),this.marker_.setDrawer(this.getRenderer().makeCursorDrawer(this,!0)),e=this.marker_.getDrawer().createDom(),this.svgGroup_.appendChild(e),this.svgGroup_},t.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.marker_&&this.marker_.getDrawer().dispose(),this.getCursor()&&this.getCursor().getDrawer().dispose(),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.themeManager_&&this.themeManager_.unsubscribe(this.svgBackground_),t.WorkspaceSvg.superClass_.dispose.call(this),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var e=this.getParentSvg().parentNode;e&&t.utils.dom.removeNode(e)}this.resizeHandlerWrapper_&&(t.unbindEvent_(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},t.WorkspaceSvg.prototype.newBlock=function(e,n){return new t.BlockSvg(this,e,n)},t.WorkspaceSvg.prototype.addTrashcan=function(){if(!t.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new t.Trashcan(this);var e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)},t.WorkspaceSvg.prototype.addZoomControls=function(){if(!t.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new t.ZoomControls(this);var e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)},t.WorkspaceSvg.prototype.addFlyout_=function(e){var n={disabledPatternId:this.options.disabledPatternId,parentWorkspace:this,RTL:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,toolboxPosition:this.options.toolboxPosition,renderer:this.options.renderer};if(this.horizontalLayout){if(!t.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new t.HorizontalFlyout(n)}else{if(!t.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new t.VerticalFlyout(n)}return this.flyout_.autoClose=!1,this.flyout_.createDom(e)},t.WorkspaceSvg.prototype.getFlyout=function(){return this.flyout_?this.flyout_:this.toolbox_?this.toolbox_.flyout_:null},t.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},t.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDeleteAreas()},t.WorkspaceSvg.prototype.resizeContents=function(){if(this.resizesEnabled_&&this.rendered){if(this.scrollbar){var t=this.getMetrics();this.scrollbar.hScroll.resizeContentHorizontal(t),this.scrollbar.vScroll.resizeContentVertical(t)}this.updateInverseScreenCTM()}},t.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position(),this.trashcan&&this.trashcan.position(),this.zoomControls_&&this.zoomControls_.position(),this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},t.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=t.utils.getDocumentScroll();t.utils.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},t.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},t.WorkspaceSvg.prototype.getParentSvg=function(){if(this.cachedParentSvg_)return this.cachedParentSvg_;for(var t=this.svgGroup_;t;){if("svg"==t.tagName)return this.cachedParentSvg_=t;t=t.parentNode}return null},t.WorkspaceSvg.prototype.translate=function(t,e){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(t,e);else{var n="translate("+t+","+e+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",n),this.svgBubbleCanvas_.setAttribute("transform",n)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(t,e,this.scale),this.grid_&&this.grid_.moveTo(t,e)},t.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var t=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),t="translate("+t.x+","+t.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",t),this.svgBubbleCanvas_.setAttribute("transform",t)}},t.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,n=parseInt(this.getParentSvg().getAttribute("width"),10),o=parseInt(this.getParentSvg().getAttribute("height"),10),i=t.utils.getRelativeXY(this.svgBlockCanvas_);this.workspaceDragSurface_.setContentsAndShow(this.svgBlockCanvas_,this.svgBubbleCanvas_,e,n,o,this.scale),this.workspaceDragSurface_.translateSurface(i.x,i.y)}},t.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},t.WorkspaceSvg.prototype.getWidth=function(){var t=this.getMetrics();return t?t.viewWidth/this.scale:0},t.WorkspaceSvg.prototype.setVisible=function(e){if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=e?"block":"none"),e){for(var n=this.getAllBlocks(!1),o=n.length-1;0<=o;o--)n[o].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else t.hideChaff(!0);this.isVisible_=e},t.WorkspaceSvg.prototype.render=function(){for(var t=this.getAllBlocks(!1),e=t.length-1;0<=e;e--)t[e].render(!1);if(this.currentGesture_)for(t=this.currentGesture_.getInsertionMarkers(),e=0;e<t.length;e++)t[e].render(!1)},t.WorkspaceSvg.prototype.traceOn=function(){console.warn("Deprecated call to traceOn, delete this.")},t.WorkspaceSvg.prototype.highlightBlock=function(e,n){if(void 0===n){for(var o,i=0;o=this.highlightedBlocks_[i];i++)o.setHighlighted(!1);this.highlightedBlocks_.length=0}(o=e?this.getBlockById(e):null)&&((i=void 0===n||n)?-1==this.highlightedBlocks_.indexOf(o)&&this.highlightedBlocks_.push(o):t.utils.arrayRemove(this.highlightedBlocks_,o),o.setHighlighted(i))},t.WorkspaceSvg.prototype.paste=function(t){!this.rendered||t.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==t.tagName.toLowerCase()?this.pasteWorkspaceComment_(t):this.pasteBlock_(t))},t.WorkspaceSvg.prototype.pasteBlock_=function(e){t.Events.disable();try{var n=t.Xml.domToBlock(e,this),o=this.getMarker().getCurNode();if(t.keyboardAccessibilityMode&&o)return void t.navigation.insertBlock(n,o.getLocation());var i=parseInt(e.getAttribute("x"),10),r=parseInt(e.getAttribute("y"),10);if(!isNaN(i)&&!isNaN(r)){this.RTL&&(i=-i);do{e=!1;var s,a=this.getAllBlocks(!1);for(o=0;s=a[o];o++){var l=s.getRelativeToSurfaceXY();if(1>=Math.abs(i-l.x)&&1>=Math.abs(r-l.y)){e=!0;break}}if(!e){var u,c=n.getConnections_(!1);for(o=0;u=c[o];o++)if(u.closest(t.SNAP_RADIUS,new t.utils.Coordinate(i,r)).connection){e=!0;break}}e&&(i=this.RTL?i-t.SNAP_RADIUS:i+t.SNAP_RADIUS,r+=2*t.SNAP_RADIUS)}while(e);n.moveBy(i,r)}}finally{t.Events.enable()}t.Events.isEnabled()&&!n.isShadow()&&t.Events.fire(new t.Events.BlockCreate(n)),n.select()},t.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(e){t.Events.disable();try{var n=t.WorkspaceCommentSvg.fromXml(e,this),o=parseInt(e.getAttribute("x"),10),i=parseInt(e.getAttribute("y"),10);isNaN(o)||isNaN(i)||(this.RTL&&(o=-o),n.moveBy(o+50,i+50))}finally{t.Events.enable()}t.Events.isEnabled(),n.select()},t.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var t=this.isFlyout?this.targetWorkspace:this;t&&!t.currentGesture_&&t.toolbox_&&t.toolbox_.flyout_&&t.toolbox_.refreshSelection()},t.WorkspaceSvg.prototype.renameVariableById=function(e,n){t.WorkspaceSvg.superClass_.renameVariableById.call(this,e,n),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.deleteVariableById=function(e){t.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.createVariable=function(e,n,o){return e=t.WorkspaceSvg.superClass_.createVariable.call(this,e,n,o),this.refreshToolboxSelection(),e},t.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null},t.WorkspaceSvg.prototype.isDeleteArea=function(e){return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(e.clientX,e.clientY)?t.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(e.clientX,e.clientY)?t.DELETE_AREA_TOOLBOX:t.DELETE_AREA_NONE},t.WorkspaceSvg.prototype.onMouseDown_=function(t){var e=this.getGesture(t);e&&e.handleWsStart(t,this)},t.WorkspaceSvg.prototype.startDrag=function(e,n){var o=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM());o.x/=this.scale,o.y/=this.scale,this.dragDeltaXY_=t.utils.Coordinate.difference(n,o)},t.WorkspaceSvg.prototype.moveDrag=function(e){return(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,t.utils.Coordinate.sum(this.dragDeltaXY_,e)},t.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},t.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},t.WorkspaceSvg.prototype.isContentBounded=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.controls||this.options.zoomOptions&&this.options.zoomOptions.wheel},t.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel},t.WorkspaceSvg.prototype.onMouseWheel_=function(e){if(t.Gesture.inProgress())e.preventDefault(),e.stopPropagation();else{var n=this.options.zoomOptions&&this.options.zoomOptions.wheel,o=this.options.moveOptions&&this.options.moveOptions.wheel;if(n||o){var i=t.utils.getScrollDeltaPixels(e);!n||!e.ctrlKey&&o?(n=this.scrollX-i.x,o=this.scrollY-i.y,e.shiftKey&&!i.x&&(n=this.scrollX-i.y,o=this.scrollY),this.scroll(n,o)):(i=-i.y/50,n=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(n.x,n.y,i)),e.preventDefault()}}},t.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBlocks(!1),n=this.getTopComments(!1);if(!(e=e.concat(n)).length)return new t.utils.Rect(0,0,0,0);n=e[0].getBoundingRectangle();for(var o=1;o<e.length;o++){var i=e[o].getBoundingRectangle();i.top<n.top&&(n.top=i.top),i.bottom>n.bottom&&(n.bottom=i.bottom),i.left<n.left&&(n.left=i.left),i.right>n.right&&(n.right=i.right)}return n},t.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),t.Events.setGroup(!0);for(var e,n=this.getTopBlocks(!0),o=0,i=0;e=n[i];i++)if(e.isMovable()){var r=e.getRelativeToSurfaceXY();e.moveBy(-r.x,o-r.y),e.snapToGrid(),o=e.getRelativeToSurfaceXY().y+e.getHeightWidth().height+t.BlockSvg.MIN_BLOCK_Y}t.Events.setGroup(!1),this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.showContextMenu_=function(e){function n(t){if(t.isDeletable())d=d.concat(t.getDescendants(!1));else{t=t.getChildren(!1);for(var e=0;e<t.length;e++)n(t[e])}}function o(){t.Events.setGroup(s);var e=d.shift();e&&(e.workspace?(e.dispose(!1,!0),setTimeout(o,10)):o()),t.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var i=[],r=this.getTopBlocks(!0),s=t.utils.genUid(),a=this,l={};if(l.text=t.Msg.UNDO,l.enabled=0<this.undoStack_.length,l.callback=this.undo.bind(this,!1),i.push(l),(l={}).text=t.Msg.REDO,l.enabled=0<this.redoStack_.length,l.callback=this.undo.bind(this,!0),i.push(l),this.isMovable()&&((l={}).text=t.Msg.CLEAN_UP,l.enabled=1<r.length,l.callback=this.cleanUp.bind(this),i.push(l)),this.options.collapse){for(var u=l=!1,c=0;c<r.length;c++)for(var h=r[c];h;)h.isCollapsed()?l=!0:u=!0,h=h.getNextBlock();var p=function(t){for(var e=0,n=0;n<r.length;n++)for(var o=r[n];o;)setTimeout(o.setCollapsed.bind(o,t),e),o=o.getNextBlock(),e+=10};(u={enabled:u}).text=t.Msg.COLLAPSE_ALL,u.callback=function(){p(!0)},i.push(u),(l={enabled:l}).text=t.Msg.EXPAND_ALL,l.callback=function(){p(!1)},i.push(l)}var d=[];for(c=0;c<r.length;c++)n(r[c]);l={text:1==d.length?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(d.length)),enabled:0<d.length,callback:function(){a.currentGesture_&&a.currentGesture_.cancel(),2>d.length?o():t.confirm(t.Msg.DELETE_ALL_BLOCKS.replace("%1",d.length),(function(t){t&&o()}))}},i.push(l),this.configureContextMenu&&this.configureContextMenu(i),t.ContextMenu.show(e,i,this.RTL)}},t.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=t.Options.parseToolboxTree(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(e.getElementsByTagName("category").length){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.renderTree(e)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout_.show(e.childNodes)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},t.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(t.mainWorkspace=this,this.setBrowserFocus())},t.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur();try{this.getParentSvg().focus()}catch(t){try{this.getParentSvg().parentNode.setActive()}catch(e){this.getParentSvg().parentNode.focus()}}},t.WorkspaceSvg.prototype.zoom=function(t,e,n){if(!this.isFlyout&&!this.isMutator){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);var o=this.scale*n;if(this.scale!=o){o>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:o<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var i=this.getCanvas().getCTM(),r=this.getParentSvg().createSVGPoint();r.x=t,r.y=e,t=(r=r.matrixTransform(i.inverse())).x,e=r.y,i=i.translate(t*(1-n),e*(1-n)).scale(n),this.scrollX=i.e,this.scrollY=i.f,this.setScale(o)}}},t.WorkspaceSvg.prototype.zoomCenter=function(t){var e=this.getMetrics();if(this.flyout_){var n=e.svgWidth/2;e=e.svgHeight/2}else n=e.viewWidth/2+e.absoluteLeft,e=e.viewHeight/2+e.absoluteTop;this.zoom(n,e,t)},t.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var t=this.getMetrics(),e=t.viewWidth;t=t.viewHeight;var n=this.getBlocksBoundingBox(),o=n.right-n.left;n=n.bottom-n.top,o&&(this.flyout_&&(this.horizontalLayout?(t+=this.flyout_.height_,n+=this.flyout_.height_/this.scale):(e+=this.flyout_.getWidth(),o+=this.flyout_.getWidth()/this.scale)),this.setScale(Math.min(e/o,t/n)),this.scrollCenter())}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.beginCanvasTransition=function(){t.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.endCanvasTransition=function(){t.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var t=this.getMetrics(),e=(t.contentWidth-t.viewWidth)/2,n=(t.contentHeight-t.viewHeight)/2;e=-e-t.contentLeft,n=-n-t.contentTop,this.scroll(e,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.isMovable()){if(e=this.getBlockById(e)){var n=e.getRelativeToSurfaceXY(),o=e.getHeightWidth(),i=this.scale;e=(n.x+(this.RTL?-1:1)*o.width/2)*i,n=(n.y+o.height/2)*i,e=-(e-(o=this.getMetrics()).contentLeft-o.viewWidth/2)-o.contentLeft,n=-(n-o.contentTop-o.viewHeight/2)-o.contentTop,t.hideChaff(),this.scroll(e,n)}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,t.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDeleteAreas()),this.grid_&&this.grid_.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?(this.scrollbar.hScroll.resizeViewHorizontal(e),this.scrollbar.vScroll.resizeViewVertical(e)):(this.scrollbar.hScroll.resizeContentHorizontal(e),this.scrollbar.vScroll.resizeContentVertical(e)))},t.WorkspaceSvg.prototype.scroll=function(e,n){t.hideChaff(!0);var o=this.getMetrics(),i=o.contentWidth+o.contentLeft-o.viewWidth,r=o.contentHeight+o.contentTop-o.viewHeight;e=Math.min(e,-o.contentLeft),n=Math.min(n,-o.contentTop),e=Math.max(e,-i),n=Math.max(n,-r),this.scrollX=e,this.scrollY=n,this.scrollbar&&(this.scrollbar.hScroll.setHandlePosition(-(e+o.contentLeft)*this.scrollbar.hScroll.ratio_),this.scrollbar.vScroll.setHandlePosition(-(n+o.contentTop)*this.scrollbar.vScroll.ratio_)),e+=o.absoluteLeft,n+=o.absoluteTop,this.translate(e,n)},t.WorkspaceSvg.getDimensionsPx_=function(t){var e=0,n=0;return t&&(e=t.getWidth(),n=t.getHeight()),{width:e,height:n}},t.WorkspaceSvg.getContentDimensions_=function(e,n){return e.isContentBounded()?t.WorkspaceSvg.getContentDimensionsBounded_(e,n):t.WorkspaceSvg.getContentDimensionsExact_(e)},t.WorkspaceSvg.getContentDimensionsExact_=function(t){var e=t.getBlocksBoundingBox(),n=t.scale;t=e.top*n;var o=e.bottom*n,i=e.left*n;return{top:t,bottom:o,left:i,right:e=e.right*n,width:e-i,height:o-t}},t.WorkspaceSvg.getContentDimensionsBounded_=function(e,n){var o=t.WorkspaceSvg.getContentDimensionsExact_(e),i=n.width,r=n.height,s=i/2,a=r/2,l=Math.min(o.left-s,o.right-i),u=Math.min(o.top-a,o.bottom-r);return{left:l,top:u,height:Math.max(o.bottom+a,o.top+r)-u,width:Math.max(o.right+s,o.left+i)-l}},t.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var e=t.WorkspaceSvg.getDimensionsPx_(this.toolbox_),n=t.WorkspaceSvg.getDimensionsPx_(this.flyout_),o=t.svgSize(this.getParentSvg()),i={height:o.height,width:o.width};this.toolbox_?this.toolboxPosition==t.TOOLBOX_AT_TOP||this.toolboxPosition==t.TOOLBOX_AT_BOTTOM?i.height-=e.height:this.toolboxPosition!=t.TOOLBOX_AT_LEFT&&this.toolboxPosition!=t.TOOLBOX_AT_RIGHT||(i.width-=e.width):this.flyout_&&(this.toolboxPosition==t.TOOLBOX_AT_TOP||this.toolboxPosition==t.TOOLBOX_AT_BOTTOM?i.height-=n.height:this.toolboxPosition!=t.TOOLBOX_AT_LEFT&&this.toolboxPosition!=t.TOOLBOX_AT_RIGHT||(i.width-=n.width));var r=t.WorkspaceSvg.getContentDimensions_(this,i),s=0;this.toolbox_&&this.toolboxPosition==t.TOOLBOX_AT_LEFT?s=e.width:this.flyout_&&this.toolboxPosition==t.TOOLBOX_AT_LEFT&&(s=n.width);var a=0;return this.toolbox_&&this.toolboxPosition==t.TOOLBOX_AT_TOP?a=e.height:this.flyout_&&this.toolboxPosition==t.TOOLBOX_AT_TOP&&(a=n.height),{contentHeight:r.height,contentWidth:r.width,contentTop:r.top,contentLeft:r.left,viewHeight:i.height,viewWidth:i.width,viewTop:-this.scrollY,viewLeft:-this.scrollX,absoluteTop:a,absoluteLeft:s,svgHeight:o.height,svgWidth:o.width,toolboxWidth:e.width,toolboxHeight:e.height,flyoutWidth:n.width,flyoutHeight:n.height,toolboxPosition:this.toolboxPosition}},t.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(t){var e=this.getMetrics();"number"==typeof t.x&&(this.scrollX=-e.contentWidth*t.x-e.contentLeft),"number"==typeof t.y&&(this.scrollY=-e.contentHeight*t.y-e.contentTop),this.translate(this.scrollX+e.absoluteLeft,this.scrollY+e.absoluteTop)},t.WorkspaceSvg.prototype.setResizesEnabled=function(t){var e=!this.resizesEnabled_&&t;this.resizesEnabled_=t,e&&this.resizeContents()},t.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),t.WorkspaceSvg.superClass_.clear.call(this),this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.registerButtonCallback=function(t,e){if("function"!=typeof e)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[t]=e},t.WorkspaceSvg.prototype.getButtonCallback=function(t){return(t=this.flyoutButtonCallbacks_[t])?t:null},t.WorkspaceSvg.prototype.removeButtonCallback=function(t){this.flyoutButtonCallbacks_[t]=null},t.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(t,e){if("function"!=typeof e)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[t]=e},t.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(t){return this.toolboxCategoryCallbacks_[t]||null},t.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(t){this.toolboxCategoryCallbacks_[t]=null},t.WorkspaceSvg.prototype.getGesture=function(e){var n="mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type,o=this.currentGesture_;return o?n&&o.hasStarted()?(console.warn("Tried to start the same gesture twice."),o.cancel(),null):o:n?this.currentGesture_=new t.TouchGesture(e,this):null},t.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},t.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},t.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},t.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},t.WorkspaceSvg.prototype.refreshTheme=function(){t.WorkspaceSvg.superClass_.refreshTheme.call(this),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.updateColourFromTheme()},t.inject=function(e,n){if(t.checkBlockColourConstants(),"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!t.utils.dom.containsNode(document,e))throw Error("Error: container is not in current document.");var o=new t.Options(n||{}),i=document.createElement("div");i.className="injectionDiv",e.appendChild(i);var r=t.createDom_(i,o),s=new t.BlockDragSurfaceSvg(i);return i=new t.WorkspaceDragSurfaceSvg(i),r=t.createMainWorkspace_(r,o,s,i),t.user.keyMap.setKeyMap(o.keyMap),t.init_(r),t.mainWorkspace=r,t.svgResize(r),r},t.createDom_=function(e,n){e.setAttribute("dir","LTR"),t.Component.defaultRightToLeft=n.RTL,t.Css.inject(n.hasCss,n.pathToMedia);var o=t.utils.dom.createSvgElement("svg",{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg"},e),i=t.utils.dom.createSvgElement("defs",{},o),r=String(Math.random()).substring(2),s=t.utils.dom.createSvgElement("filter",{id:"blocklyEmbossFilter"+r},i);t.utils.dom.createSvgElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:1,result:"blur"},s);var a=t.utils.dom.createSvgElement("feSpecularLighting",{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},s);return t.utils.dom.createSvgElement("fePointLight",{x:-5e3,y:-1e4,z:2e4},a),t.utils.dom.createSvgElement("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},s),t.utils.dom.createSvgElement("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},s),n.embossFilterId=s.id,s=t.utils.dom.createSvgElement("pattern",{id:"blocklyDisabledPattern"+r,patternUnits:"userSpaceOnUse",width:10,height:10},i),t.utils.dom.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},s),t.utils.dom.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},s),n.disabledPatternId=s.id,n.gridPattern=t.Grid.createDom(r,n.gridOptions,i),o},t.createMainWorkspace_=function(e,n,o,i){n.parentWorkspace=null;var r=new t.WorkspaceSvg(n,o,i);return r.scale=n.zoomOptions.startScale,e.appendChild(r.createDom("blocklyMainBackground")),!n.hasCategories&&n.languageTree&&(o=r.addFlyout_("svg"),t.utils.dom.insertAfter(o,e)),n.hasTrashcan&&r.addTrashcan(),n.zoomOptions&&n.zoomOptions.controls&&r.addZoomControls(),r.getThemeManager().subscribe(e,"workspace","background-color"),r.translate(0,0),t.mainWorkspace=r,n.readOnly||r.isMovable()||r.addChangeListener((function(e){if(!r.isDragging()&&!r.isMovable()&&-1!=t.Events.BUMP_EVENTS.indexOf(e.type)){var n=Object.create(null),o=r.getMetrics(),i=r.scale;if(n.RTL=r.RTL,n.viewLeft=o.viewLeft/i,n.viewTop=o.viewTop/i,n.viewRight=(o.viewLeft+o.viewWidth)/i,n.viewBottom=(o.viewTop+o.viewHeight)/i,r.isContentBounded()?(o=r.getBlocksBoundingBox(),n.contentLeft=o.left,n.contentTop=o.top,n.contentRight=o.right,n.contentBottom=o.bottom):(n.contentLeft=o.contentLeft/i,n.contentTop=o.contentTop/i,n.contentRight=(o.contentLeft+o.contentWidth)/i,n.contentBottom=(o.contentTop+o.contentHeight)/i),n.contentTop<n.viewTop||n.contentBottom>n.viewBottom||n.contentLeft<n.viewLeft||n.contentRight>n.viewRight){switch(o=null,e&&(o=t.Events.getGroup(),t.Events.setGroup(e.group)),e.type){case t.Events.BLOCK_CREATE:case t.Events.BLOCK_MOVE:var s=r.getBlockById(e.blockId);s=s.getRootBlock();break;case t.Events.COMMENT_CREATE:case t.Events.COMMENT_MOVE:s=r.getCommentById(e.commentId)}if(s){(i=s.getBoundingRectangle()).height=i.bottom-i.top,i.width=i.right-i.left;var a=n.viewTop,l=n.viewBottom-i.height;l=Math.max(a,l),a=t.utils.math.clamp(a,i.top,l)-i.top,l=n.viewLeft;var u=n.viewRight-i.width;n.RTL?l=Math.min(u,l):u=Math.max(l,u),n=t.utils.math.clamp(l,i.left,u)-i.left,s.moveBy(n,a)}e&&(e.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==o&&t.Events.setGroup(o))}}})),t.svgResize(r),t.WidgetDiv.createDom(),t.DropDownDiv.createDom(),t.Tooltip.createDom(),r},t.init_=function(e){var n=e.options,o=e.getParentSvg();t.bindEventWithChecks_(o.parentNode,"contextmenu",null,(function(e){t.utils.isTargetInput(e)||e.preventDefault()})),o=t.bindEventWithChecks_(window,"resize",null,(function(){t.hideChaff(!0),t.svgResize(e)})),e.setResizeHandlerWrapper(o),t.inject.bindDocumentEvents_(),n.languageTree&&(e.toolbox_?e.toolbox_.init(e):e.flyout_&&(e.flyout_.init(e),e.flyout_.show(n.languageTree.childNodes),e.flyout_.scrollToStart())),o=t.Scrollbar.scrollbarThickness,n.hasTrashcan&&(o=e.trashcan.init(o)),n.zoomOptions&&n.zoomOptions.controls&&e.zoomControls_.init(o),n.moveOptions&&n.moveOptions.scrollbars?(e.scrollbar=new t.ScrollbarPair(e),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),n.hasSounds&&t.inject.loadSounds_(n.pathToMedia,e)},t.inject.bindDocumentEvents_=function(){t.documentEventsBound_||(t.bindEventWithChecks_(document,"scroll",null,(function(){for(var e,n=t.Workspace.getAll(),o=0;e=n[o];o++)e.updateInverseScreenCTM&&e.updateInverseScreenCTM()})),t.bindEventWithChecks_(document,"keydown",null,t.onKeyDown_),t.bindEvent_(document,"touchend",null,t.longStop_),t.bindEvent_(document,"touchcancel",null,t.longStop_),t.utils.userAgent.IPAD&&t.bindEventWithChecks_(window,"orientationchange",document,(function(){t.svgResize(t.getMainWorkspace())}))),t.documentEventsBound_=!0},t.inject.loadSounds_=function(e,n){var o=n.getAudioManager();o.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),o.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),o.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var i=[],r=function(){for(;i.length;)t.unbindEvent_(i.pop());o.preload()};i.push(t.bindEventWithChecks_(document,"mousemove",null,r,!0)),i.push(t.bindEventWithChecks_(document,"touchstart",null,r,!0))},t.Action=function(t,e){this.name=t,this.desc=e},t.ASTNode=function(e,n,o){if(!n)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=t.ASTNode.isConnectionType_(e),this.location_=n,this.processParams_(o||null)},t.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},t.ASTNode.DEFAULT_OFFSET_Y=-20,t.ASTNode.isConnectionType_=function(e){switch(e){case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:case t.ASTNode.types.INPUT:case t.ASTNode.types.OUTPUT:return!0}return!1},t.ASTNode.createFieldNode=function(e){return new t.ASTNode(t.ASTNode.types.FIELD,e)},t.ASTNode.createConnectionNode=function(e){return e?e.type==t.INPUT_VALUE||e.type==t.NEXT_STATEMENT&&e.getParentInput()?t.ASTNode.createInputNode(e.getParentInput()):e.type==t.NEXT_STATEMENT?new t.ASTNode(t.ASTNode.types.NEXT,e):e.type==t.OUTPUT_VALUE?new t.ASTNode(t.ASTNode.types.OUTPUT,e):e.type==t.PREVIOUS_STATEMENT?new t.ASTNode(t.ASTNode.types.PREVIOUS,e):null:null},t.ASTNode.createInputNode=function(e){return e?new t.ASTNode(t.ASTNode.types.INPUT,e.connection):null},t.ASTNode.createBlockNode=function(e){return new t.ASTNode(t.ASTNode.types.BLOCK,e)},t.ASTNode.createStackNode=function(e){return new t.ASTNode(t.ASTNode.types.STACK,e)},t.ASTNode.createWorkspaceNode=function(e,n){return new t.ASTNode(t.ASTNode.types.WORKSPACE,e,{wsCoordinate:n})},t.ASTNode.prototype.processParams_=function(t){t&&t.wsCoordinate&&(this.wsCoordinate_=t.wsCoordinate)},t.ASTNode.prototype.getLocation=function(){return this.location_},t.ASTNode.prototype.getType=function(){return this.type_},t.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},t.ASTNode.prototype.isConnection=function(){return this.isConnection_},t.ASTNode.prototype.findPreviousEditableField_=function(e,n,o){for(e=(n=n.fieldRow).indexOf(e),o=(o?n.length:e)-1;e=n[o];o--)if(e.EDITABLE)return n=e,t.ASTNode.createFieldNode(n);return null},t.ASTNode.prototype.findNextForInput_=function(){var e,n=this.location_.getParentInput(),o=n.getSourceBlock();for(n=o.inputList.indexOf(n)+1;e=o.inputList[n];n++){for(var i,r=e.fieldRow,s=0;i=r[s];s++)if(i.EDITABLE)return t.ASTNode.createFieldNode(i);if(e.connection)return t.ASTNode.createInputNode(e)}return null},t.ASTNode.prototype.findNextForField_=function(){var e=this.location_,n=e.getParentInput(),o=e.getSourceBlock(),i=o.inputList.indexOf(n);for(e=n.fieldRow.indexOf(e)+1;n=o.inputList[i];i++){for(var r=n.fieldRow;e<r.length;){if(r[e].EDITABLE)return t.ASTNode.createFieldNode(r[e]);e++}if(e=0,n.connection)return t.ASTNode.createInputNode(n)}return null},t.ASTNode.prototype.findPrevForInput_=function(){for(var e,n=this.location_.getParentInput(),o=n.getSourceBlock(),i=o.inputList.indexOf(n);e=o.inputList[i];i--){if(e.connection&&e!==n)return t.ASTNode.createInputNode(e);for(var r,s=(e=e.fieldRow).length-1;r=e[s];s--)if(r.EDITABLE)return t.ASTNode.createFieldNode(r)}return null},t.ASTNode.prototype.findPrevForField_=function(){var e,n=this.location_,o=n.getParentInput(),i=n.getSourceBlock(),r=i.inputList.indexOf(o);for(n=o.fieldRow.indexOf(n)-1;e=i.inputList[r];r--){if(e.connection&&e!==o)return t.ASTNode.createInputNode(e);for(e=e.fieldRow;-1<n;){if(e[n].EDITABLE)return t.ASTNode.createFieldNode(e[n]);n--}0<=r-1&&(n=i.inputList[r-1].fieldRow.length-1)}return null},t.ASTNode.prototype.navigateBetweenStacks_=function(e){var n=this.getLocation();if(n instanceof t.Block||(n=n.getSourceBlock()),!n||!n.workspace)return null;var o=n.getRootBlock();n=o.workspace.getTopBlocks(!0);for(var i,r=0;i=n[r];r++)if(o.id==i.id)return-1==(e=r+(e?1:-1))||e==n.length?null:t.ASTNode.createStackNode(n[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")},t.ASTNode.prototype.findTopASTNodeForBlock_=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.getOutAstNodeForBlock_=function(e){if(!e)return null;var n=(e=e.getTopStackBlock()).previousConnection||e.outputConnection;return n&&n.targetConnection&&n.targetConnection.getParentInput()?t.ASTNode.createInputNode(n.targetConnection.getParentInput()):t.ASTNode.createStackNode(e)},t.ASTNode.prototype.findFirstFieldOrInput_=function(e){e=e.inputList;for(var n,o=0;n=e[o];o++){for(var i,r=n.fieldRow,s=0;i=r[s];s++)if(i.EDITABLE)return t.ASTNode.createFieldNode(i);if(n.connection)return t.ASTNode.createInputNode(n)}return null},t.ASTNode.prototype.next=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case t.ASTNode.types.OUTPUT:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.FIELD:return this.findNextForField_();case t.ASTNode.types.INPUT:return this.findNextForInput_();case t.ASTNode.types.BLOCK:var e=this.location_.nextConnection;if(e)return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.PREVIOUS:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.NEXT:if(e=this.location_.targetConnection)return t.ASTNode.createConnectionNode(e)}return null},t.ASTNode.prototype.in=function(){switch(this.type_){case t.ASTNode.types.WORKSPACE:var e=this.location_.getTopBlocks(!0);if(0<e.length)return t.ASTNode.createStackNode(e[0]);break;case t.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(this.location_);case t.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(this.location_);case t.ASTNode.types.INPUT:if(e=this.location_.targetConnection)return t.ASTNode.createConnectionNode(e)}return null},t.ASTNode.prototype.prev=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case t.ASTNode.types.FIELD:return this.findPrevForField_();case t.ASTNode.types.INPUT:return this.findPrevForInput_();case t.ASTNode.types.BLOCK:var e=this.location_.outputConnection;if(e=this.location_.previousConnection||e)return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.PREVIOUS:if((e=this.location_.targetConnection)&&!e.getParentInput())return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.NEXT:return t.ASTNode.createBlockNode(this.location_.getSourceBlock())}return null},t.ASTNode.prototype.out=function(){switch(this.type_){case t.ASTNode.types.STACK:var e=this.location_.getRelativeToSurfaceXY();return e=new t.utils.Coordinate(e.x,e.y+t.ASTNode.DEFAULT_OFFSET_Y),t.ASTNode.createWorkspaceNode(this.location_.workspace,e);case t.ASTNode.types.OUTPUT:return(e=this.location_.targetConnection)?t.ASTNode.createConnectionNode(e):t.ASTNode.createStackNode(this.location_.getSourceBlock());case t.ASTNode.types.FIELD:case t.ASTNode.types.INPUT:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null},t.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},t.user={},t.user.keyMap={},t.user.keyMap.map_={},t.user.keyMap.modifierKeys={SHIFT:"Shift",CONTROL:"Control",ALT:"Alt",META:"Meta"},t.user.keyMap.setActionForKey=function(e,n){var o=t.user.keyMap.getKeyByAction(n);o&&delete t.user.keyMap.map_[o],t.user.keyMap.map_[e]=n},t.user.keyMap.setKeyMap=function(e){t.user.keyMap.map_=e},t.user.keyMap.getKeyMap=function(){var e={};return t.utils.object.mixin(e,t.user.keyMap.map_),e},t.user.keyMap.getActionByKeyCode=function(e){return t.user.keyMap.map_[e]},t.user.keyMap.getKeyByAction=function(e){for(var n,o=Object.keys(t.user.keyMap.map_),i=0;n=o[i];i++)if(t.user.keyMap.map_[n].name===e.name)return n;return null},t.user.keyMap.serializeKeyEvent=function(e){for(var n,o=t.utils.object.values(t.user.keyMap.modifierKeys),i="",r=0;n=o[r];r++)e.getModifierState(n)&&(i+=n);return i+e.keyCode},t.user.keyMap.createSerializedKey=function(e,n){for(var o,i="",r=t.utils.object.values(t.user.keyMap.modifierKeys),s=0;o=n[s];s++){if(!(-1<r.indexOf(o)))throw Error(o+" is not a valid modifier key.");i+=o}return i+e},t.user.keyMap.createDefaultKeyMap=function(){var e={},n=t.user.keyMap.createSerializedKey(t.utils.KeyCodes.K,[t.user.keyMap.modifierKeys.CONTROL]);return e[t.utils.KeyCodes.W]=t.navigation.ACTION_PREVIOUS,e[t.utils.KeyCodes.A]=t.navigation.ACTION_OUT,e[t.utils.KeyCodes.S]=t.navigation.ACTION_NEXT,e[t.utils.KeyCodes.D]=t.navigation.ACTION_IN,e[t.utils.KeyCodes.I]=t.navigation.ACTION_INSERT,e[t.utils.KeyCodes.ENTER]=t.navigation.ACTION_MARK,e[t.utils.KeyCodes.X]=t.navigation.ACTION_DISCONNECT,e[t.utils.KeyCodes.T]=t.navigation.ACTION_TOOLBOX,e[t.utils.KeyCodes.E]=t.navigation.ACTION_EXIT,e[t.utils.KeyCodes.ESC]=t.navigation.ACTION_EXIT,e[n]=t.navigation.ACTION_TOGGLE_KEYBOARD_NAV,e},t.navigation={},t.navigation.loggingCallback=null,t.navigation.STATE_FLYOUT=1,t.navigation.STATE_WS=2,t.navigation.STATE_TOOLBOX=3,t.navigation.currentState_=t.navigation.STATE_WS,t.navigation.actionNames={PREVIOUS:"previous",NEXT:"next",IN:"in",OUT:"out",INSERT:"insert",MARK:"mark",DISCONNECT:"disconnect",TOOLBOX:"toolbox",EXIT:"exit",TOGGLE_KEYBOARD_NAV:"toggle_keyboard_nav"},t.navigation.focusToolbox_=function(){var e=t.getMainWorkspace(),n=e.getToolbox();n&&(t.navigation.currentState_=t.navigation.STATE_TOOLBOX,t.navigation.resetFlyout_(!1),e.getMarker().getCurNode()||t.navigation.markAtCursor_(),n.selectFirstCategory())},t.navigation.focusFlyout_=function(){t.navigation.currentState_=t.navigation.STATE_FLYOUT;var e=t.getMainWorkspace(),n=e.getToolbox();n=n?n.flyout_:e.getFlyout(),e.getMarker().getCurNode()||t.navigation.markAtCursor_(),n&&n.getWorkspace()&&0<(e=n.getWorkspace().getTopBlocks(!0)).length&&(e=e[0],e=t.ASTNode.createStackNode(e),t.navigation.getFlyoutCursor_().setCurNode(e))},t.navigation.focusWorkspace_=function(){t.hideChaff();var e=t.getMainWorkspace(),n=e.getCursor(),o=!!e.getToolbox(),i=e.getTopBlocks(!0);t.navigation.resetFlyout_(o),t.navigation.currentState_=t.navigation.STATE_WS,0<i.length?n.setCurNode(t.navigation.getTopNode(i[0])):(o=new t.utils.Coordinate(100,100),e=t.ASTNode.createWorkspaceNode(e,o),n.setCurNode(e))},t.navigation.getFlyoutCursor_=function(){var e=t.getMainWorkspace(),n=null;return e.rendered&&(n=(e=(n=e.getToolbox())?n.flyout_:e.getFlyout())?e.workspace_.getCursor():null),n},t.navigation.insertFromFlyout=function(){var e=t.getMainWorkspace(),n=e.getFlyout();if(n&&n.isVisible()){var o=t.navigation.getFlyoutCursor_().getCurNode().getLocation();o.isEnabled()?((n=n.createBlock(o)).render(),n.setConnectionsHidden(!1),e.getCursor().setCurNode(t.ASTNode.createBlockNode(n)),t.navigation.modify_()||t.navigation.warn_("Something went wrong while inserting a block from the flyout."),t.navigation.focusWorkspace_(),e.getCursor().setCurNode(t.navigation.getTopNode(n)),t.navigation.removeMark_()):t.navigation.warn_("Can't insert a disabled block.")}else t.navigation.warn_("Trying to insert from the flyout when the flyout does not  exist or is not visible")},t.navigation.resetFlyout_=function(e){t.navigation.getFlyoutCursor_()&&(t.navigation.getFlyoutCursor_().hide(),e&&t.getMainWorkspace().getFlyout().hide())},t.navigation.modifyWarn_=function(){var e=t.getMainWorkspace().getMarker().getCurNode(),n=t.getMainWorkspace().getCursor().getCurNode();return e?n?(e=e.getType(),n=n.getType(),e==t.ASTNode.types.FIELD?(t.navigation.warn_("Should not have been able to mark a field."),!1):e==t.ASTNode.types.BLOCK?(t.navigation.warn_("Should not have been able to mark a block."),!1):e==t.ASTNode.types.STACK?(t.navigation.warn_("Should not have been able to mark a stack."),!1):n==t.ASTNode.types.FIELD?(t.navigation.warn_("Cannot attach a field to anything else."),!1):n!=t.ASTNode.types.WORKSPACE||(t.navigation.warn_("Cannot attach a workspace to anything else."),!1)):(t.navigation.warn_("Cannot insert with no cursor node."),!1):(t.navigation.warn_("Cannot insert with no marked node."),!1)},t.navigation.moveBlockToWorkspace_=function(e,n){return e.isShadow()?(t.navigation.warn_("Cannot move a shadow block to the workspace."),!1):(e.getParent()&&e.unplug(!1),e.moveTo(n.getWsCoordinate()),!0)},t.navigation.modify_=function(){var e=t.getMainWorkspace().getMarker().getCurNode(),n=t.getMainWorkspace().getCursor().getCurNode();if(!t.navigation.modifyWarn_())return!1;var o=e.getType(),i=n.getType(),r=n.getLocation(),s=e.getLocation();return e.isConnection()&&n.isConnection()?t.navigation.connect_(r,s):!e.isConnection()||i!=t.ASTNode.types.BLOCK&&i!=t.ASTNode.types.STACK?o==t.ASTNode.types.WORKSPACE?(n=t.navigation.getSourceBlock_(n),t.navigation.moveBlockToWorkspace_(n,e)):(t.navigation.warn_("Unexpected state in Blockly.navigation.modify_."),!1):t.navigation.insertBlock(r,s)},t.navigation.disconnectChild_=function(e,n){var o=e.getSourceBlock(),i=n.getSourceBlock();o.getRootBlock()==i.getRootBlock()&&(-1<o.getDescendants(!1).indexOf(i)?t.navigation.getInferiorConnection_(n).disconnect():t.navigation.getInferiorConnection_(e).disconnect())},t.navigation.moveAndConnect_=function(e,n){if(!e||!n)return!1;var o=e.getSourceBlock();return n.canConnectWithReason_(e)==t.Connection.CAN_CONNECT&&(t.navigation.disconnectChild_(e,n),n.isSuperior()||o.getRootBlock().positionNearConnection(e,n),n.connect(e),!0)},t.navigation.getInferiorConnection_=function(t){var e=t.getSourceBlock();return t.isSuperior()?e.previousConnection?e.previousConnection:e.outputConnection?e.outputConnection:null:t},t.navigation.getSuperiorConnection_=function(t){return t.isSuperior()?t:t.targetConnection?t.targetConnection:null},t.navigation.connect_=function(e,n){if(!e||!n)return!1;var o=t.navigation.getInferiorConnection_(e),i=t.navigation.getSuperiorConnection_(n),r=t.navigation.getSuperiorConnection_(e),s=t.navigation.getInferiorConnection_(n);if(o&&i&&t.navigation.moveAndConnect_(o,i)||r&&s&&t.navigation.moveAndConnect_(r,s)||t.navigation.moveAndConnect_(e,n))return!0;try{n.checkConnection_(e)}catch(a){t.navigation.warn_("Connection failed with error: "+a)}return!1},t.navigation.insertBlock=function(e,n){switch(n.type){case t.PREVIOUS_STATEMENT:if(t.navigation.connect_(e.nextConnection,n))return!0;break;case t.NEXT_STATEMENT:if(t.navigation.connect_(e.previousConnection,n))return!0;break;case t.INPUT_VALUE:if(t.navigation.connect_(e.outputConnection,n))return!0;break;case t.OUTPUT_VALUE:for(var o=0;o<e.inputList.length;o++){var i=e.inputList[o].connection;if(i&&i.type===t.INPUT_VALUE&&t.navigation.connect_(i,n))return!0}if(e.outputConnection&&t.navigation.connect_(e.outputConnection,n))return!0}return t.navigation.warn_("This block can not be inserted at the marked location."),!1},t.navigation.disconnectBlocks_=function(){var e=t.getMainWorkspace(),n=e.getCursor().getCurNode();if(n.isConnection()){var o=n.getLocation();o.isConnected()?(n=o.isSuperior()?o:o.targetConnection,(o=o.isSuperior()?o.targetConnection:o).getSourceBlock().isShadow()?t.navigation.log_("Cannot disconnect a shadow block"):(n.disconnect(),o.bumpAwayFrom_(n),n.getSourceBlock().getRootBlock().bringToFront(),n=t.ASTNode.createConnectionNode(n),e.getCursor().setCurNode(n))):t.navigation.log_("Cannot disconnect unconnected connection")}else t.navigation.log_("Cannot disconnect blocks when the cursor is not on a connection")},t.navigation.markAtCursor_=function(){var e=t.getMainWorkspace();e.getMarker().setCurNode(e.getCursor().getCurNode())},t.navigation.removeMark_=function(){var e=t.getMainWorkspace();e.getMarker().setCurNode(null),e.getMarker().hide()},t.navigation.setState=function(e){t.navigation.currentState_=e},t.navigation.getSourceBlock_=function(e){return e?e.getType()===t.ASTNode.types.BLOCK?e.getLocation():e.getType()===t.ASTNode.types.STACK?e.getLocation():e.getType()===t.ASTNode.types.WORKSPACE?null:e.getLocation().getSourceBlock():null},t.navigation.getTopNode=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.navigation.moveCursorOnBlockDelete=function(e){var n=t.getMainWorkspace();if(n&&(n=n.getCursor())){var o=n.getCurNode();(o=t.navigation.getSourceBlock_(o))===e?o.getParent()?(e=o.previousConnection||o.outputConnection)&&n.setCurNode(t.ASTNode.createConnectionNode(e.targetConnection)):n.setCurNode(t.ASTNode.createWorkspaceNode(o.workspace,o.getRelativeToSurfaceXY())):-1<e.getChildren(!1).indexOf(o)&&n.setCurNode(t.ASTNode.createWorkspaceNode(o.workspace,o.getRelativeToSurfaceXY()))}},t.navigation.moveCursorOnBlockMutation=function(e){var n=t.getMainWorkspace().getCursor();if(n){var o=n.getCurNode();(o=t.navigation.getSourceBlock_(o))===e&&n.setCurNode(t.ASTNode.createBlockNode(o))}},t.navigation.enableKeyboardAccessibility=function(){t.keyboardAccessibilityMode||(t.keyboardAccessibilityMode=!0,t.navigation.focusWorkspace_())},t.navigation.disableKeyboardAccessibility=function(){if(t.keyboardAccessibilityMode){var e=t.getMainWorkspace();t.keyboardAccessibilityMode=!1,e.getCursor().hide(),e.getMarker().hide(),t.navigation.getFlyoutCursor_()&&t.navigation.getFlyoutCursor_().hide()}},t.navigation.log_=function(e){t.navigation.loggingCallback?t.navigation.loggingCallback("log",e):console.log(e)},t.navigation.warn_=function(e){t.navigation.loggingCallback?t.navigation.loggingCallback("warn",e):console.warn(e)},t.navigation.error_=function(e){t.navigation.loggingCallback?t.navigation.loggingCallback("error",e):console.error(e)},t.navigation.onKeyPress=function(e){return e=t.user.keyMap.serializeKeyEvent(e),!!(e=t.user.keyMap.getActionByKeyCode(e))&&t.navigation.onBlocklyAction(e)},t.navigation.onBlocklyAction=function(e){var n=t.getMainWorkspace().options.readOnly,o=!1;return t.keyboardAccessibilityMode?n?-1<t.navigation.READONLY_ACTION_LIST.indexOf(e)&&(o=t.navigation.handleActions_(e)):o=t.navigation.handleActions_(e):e.name===t.navigation.actionNames.TOGGLE_KEYBOARD_NAV&&(t.navigation.enableKeyboardAccessibility(),o=!0),o},t.navigation.handleActions_=function(e){var n=t.getMainWorkspace();if(e.name===t.navigation.actionNames.TOGGLE_KEYBOARD_NAV)return t.navigation.disableKeyboardAccessibility(),!0;if(e.name===t.navigation.actionNames.TOOLBOX)return n.getToolbox()?t.navigation.focusToolbox_():t.navigation.focusFlyout_(),!0;if(t.navigation.currentState_===t.navigation.STATE_WS){var o=!1;return(n=n.getCursor().getCurNode())&&n.getType()===t.ASTNode.types.FIELD&&(o=n.getLocation().onBlocklyAction(e)),o||(o=t.navigation.workspaceOnAction_(e)),o}return t.navigation.currentState_===t.navigation.STATE_FLYOUT?t.navigation.flyoutOnAction_(e):t.navigation.currentState_===t.navigation.STATE_TOOLBOX&&t.navigation.toolboxOnAction_(e)},t.navigation.workspaceOnAction_=function(e){var n=t.getMainWorkspace();switch(e.name){case t.navigation.actionNames.PREVIOUS:return n.getCursor().prev(),!0;case t.navigation.actionNames.OUT:return n.getCursor().out(),!0;case t.navigation.actionNames.NEXT:return n.getCursor().next(),!0;case t.navigation.actionNames.IN:return n.getCursor().in(),!0;case t.navigation.actionNames.INSERT:return t.navigation.modify_(),!0;case t.navigation.actionNames.MARK:return t.navigation.handleEnterForWS_(),!0;case t.navigation.actionNames.DISCONNECT:return t.navigation.disconnectBlocks_(),!0;default:return!1}},t.navigation.flyoutOnAction_=function(e){switch(e.name){case t.navigation.actionNames.PREVIOUS:return t.navigation.getFlyoutCursor_().prev(),!0;case t.navigation.actionNames.OUT:return t.navigation.focusToolbox_(),!0;case t.navigation.actionNames.NEXT:return t.navigation.getFlyoutCursor_().next(),!0;case t.navigation.actionNames.MARK:return t.navigation.insertFromFlyout(),!0;case t.navigation.actionNames.EXIT:return t.navigation.focusWorkspace_(),!0;default:return!1}},t.navigation.toolboxOnAction_=function(e){if(e.name===t.navigation.actionNames.EXIT)return t.navigation.focusWorkspace_(),!0;var n=t.getMainWorkspace().getToolbox().onBlocklyAction(e);return n||e.name!==t.navigation.actionNames.IN?n:(t.navigation.focusFlyout_(),!0)},t.navigation.handleEnterForWS_=function(){var e=t.getMainWorkspace().getCursor().getCurNode(),n=e.getType();n==t.ASTNode.types.FIELD?e.getLocation().showEditor_():e.isConnection()||n==t.ASTNode.types.WORKSPACE?t.navigation.markAtCursor_():n==t.ASTNode.types.BLOCK?t.navigation.warn_("Cannot mark a block."):n==t.ASTNode.types.STACK&&t.navigation.warn_("Cannot mark a stack.")},t.navigation.ACTION_PREVIOUS=new t.Action(t.navigation.actionNames.PREVIOUS,"Go to the previous location."),t.navigation.ACTION_OUT=new t.Action(t.navigation.actionNames.OUT,"Go to the parent of the current location."),t.navigation.ACTION_NEXT=new t.Action(t.navigation.actionNames.NEXT,"Go to the next location."),t.navigation.ACTION_IN=new t.Action(t.navigation.actionNames.IN,"Go to the first child of the current location."),t.navigation.ACTION_INSERT=new t.Action(t.navigation.actionNames.INSERT,"Connect the current location to the marked location."),t.navigation.ACTION_MARK=new t.Action(t.navigation.actionNames.MARK,"Mark the current location."),t.navigation.ACTION_DISCONNECT=new t.Action(t.navigation.actionNames.DISCONNECT,"Dicsonnect the block at thecurrent location from its parent."),t.navigation.ACTION_TOOLBOX=new t.Action(t.navigation.actionNames.TOOLBOX,"Open the toolbox."),t.navigation.ACTION_EXIT=new t.Action(t.navigation.actionNames.EXIT,"Close the current modal, such as a toolbox or field editor."),t.navigation.ACTION_TOGGLE_KEYBOARD_NAV=new t.Action(t.navigation.actionNames.TOGGLE_KEYBOARD_NAV,"Turns on and off keyboard navigation."),t.navigation.READONLY_ACTION_LIST=[t.navigation.ACTION_PREVIOUS,t.navigation.ACTION_OUT,t.navigation.ACTION_IN,t.navigation.ACTION_NEXT,t.navigation.ACTION_TOGGLE_KEYBOARD_NAV],t.Names=function(t,e){if(this.variablePrefix_=e||"",this.reservedDict_=Object.create(null),t)for(var n=t.split(","),o=0;o<n.length;o++)this.reservedDict_[n[o]]=!0;this.reset()},t.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",t.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},t.Names.prototype.setVariableMap=function(t){this.variableMap_=t},t.Names.prototype.getNameForUserVariable_=function(t){return this.variableMap_?(t=this.variableMap_.getVariableById(t))?t.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)},t.Names.prototype.getName=function(e,n){if(n==t.Variables.NAME_TYPE){var o=this.getNameForUserVariable_(e);o&&(e=o)}o=e.toLowerCase()+"_"+n;var i=n==t.Variables.NAME_TYPE||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";if(o in this.db_)return i+this.db_[o];var r=this.getDistinctName(e,n);return this.db_[o]=r.substr(i.length),r},t.Names.prototype.getDistinctName=function(e,n){for(var o=this.safeName_(e),i="";this.dbReverse_[o+i]||o+i in this.reservedDict_;)i=i?i+1:2;return o+=i,this.dbReverse_[o]=!0,(n==t.Variables.NAME_TYPE||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+o},t.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=t.Msg.UNNAMED_KEY||"unnamed",e},t.Names.equals=function(t,e){return t.toLowerCase()==e.toLowerCase()},t.Procedures={},t.Procedures.NAME_TYPE=t.PROCEDURE_CATEGORY_NAME,t.Procedures.allProcedures=function(e){e=e.getAllBlocks(!1);for(var n=[],o=[],i=0;i<e.length;i++)if(e[i].getProcedureDef){var r=e[i].getProcedureDef();r&&(r[2]?n.push(r):o.push(r))}return o.sort(t.Procedures.procTupleComparator_),n.sort(t.Procedures.procTupleComparator_),[o,n]},t.Procedures.procTupleComparator_=function(t,e){return t[0].toLowerCase().localeCompare(e[0].toLowerCase())},t.Procedures.findLegalName=function(e,n){if(n.isInFlyout)return e;for(e=e||t.Msg.UNNAMED_KEY||"unnamed";!t.Procedures.isLegalName_(e,n.workspace,n);){var o=e.match(/^(.*?)(\d+)$/);e=o?o[1]+(parseInt(o[2],10)+1):e+"2"}return e},t.Procedures.isLegalName_=function(e,n,o){return!t.Procedures.isNameUsed(e,n,o)},t.Procedures.isNameUsed=function(e,n,o){n=n.getAllBlocks(!1);for(var i=0;i<n.length;i++)if(n[i]!=o&&n[i].getProcedureDef){var r=n[i].getProcedureDef();if(t.Names.equals(r[0],e))return!0}return!1},t.Procedures.rename=function(e){e=e.trim();var n=t.Procedures.findLegalName(e,this.getSourceBlock()),o=this.getValue();if(o!=e&&o!=n){e=this.getSourceBlock().workspace.getAllBlocks(!1);for(var i=0;i<e.length;i++)e[i].renameProcedure&&e[i].renameProcedure(o,n)}return n},t.Procedures.flyoutCategory=function(e){function n(e,n){for(var i=0;i<e.length;i++){var r=e[i][0],s=e[i][1],a=t.utils.xml.createElement("block");a.setAttribute("type",n),a.setAttribute("gap",16);var l=t.utils.xml.createElement("mutation");for(l.setAttribute("name",r),a.appendChild(l),r=0;r<s.length;r++){var u=t.utils.xml.createElement("arg");u.setAttribute("name",s[r]),l.appendChild(u)}o.push(a)}}var o=[];if(t.Blocks.procedures_defnoreturn){var i=t.utils.xml.createElement("block");i.setAttribute("type","procedures_defnoreturn"),i.setAttribute("gap",16);var r=t.utils.xml.createElement("field");r.setAttribute("name","NAME"),r.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),i.appendChild(r),o.push(i)}return t.Blocks.procedures_defreturn&&((i=t.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),i.setAttribute("gap",16),(r=t.utils.xml.createElement("field")).setAttribute("name","NAME"),r.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),i.appendChild(r),o.push(i)),t.Blocks.procedures_ifreturn&&((i=t.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),i.setAttribute("gap",16),o.push(i)),o.length&&o[o.length-1].setAttribute("gap",24),n((e=t.Procedures.allProcedures(e))[0],"procedures_callnoreturn"),n(e[1],"procedures_callreturn"),o},t.Procedures.getCallers=function(e,n){for(var o=[],i=n.getAllBlocks(!1),r=0;r<i.length;r++)if(i[r].getProcedureCall){var s=i[r].getProcedureCall();s&&t.Names.equals(s,e)&&o.push(i[r])}return o},t.Procedures.mutateCallers=function(e){var n,o=t.Events.recordUndo,i=e.getProcedureDef()[0],r=e.mutationToDom(!0);for(e=t.Procedures.getCallers(i,e.workspace),i=0;n=e[i];i++){var s=n.mutationToDom();s=s&&t.Xml.domToText(s),n.domToMutation(r);var a=n.mutationToDom();s!=(a=a&&t.Xml.domToText(a))&&(t.Events.recordUndo=!1,t.Events.fire(new t.Events.BlockChange(n,"mutation",null,s,a)),t.Events.recordUndo=o)}},t.Procedures.getDefinition=function(e,n){for(var o=n.getTopBlocks(!1),i=0;i<o.length;i++)if(o[i].getProcedureDef){var r=o[i].getProcedureDef();if(r&&t.Names.equals(r[0],e))return o[i]}return null},t.VariableModel=function(e,n,o,i){this.workspace=e,this.name=n,this.type=o||"",this.id_=i||t.utils.genUid(),t.Events.fire(new t.Events.VarCreate(this))},t.VariableModel.prototype.getId=function(){return this.id_},t.VariableModel.compareByName=function(t,e){var n=t.name.toLowerCase(),o=e.name.toLowerCase();return n<o?-1:n==o?0:1},t.Variables={},t.Variables.NAME_TYPE=t.VARIABLE_CATEGORY_NAME,t.Variables.allUsedVarModels=function(t){var e=t.getAllBlocks(!1);t=Object.create(null);for(var n=0;n<e.length;n++){var o=e[n].getVarModels();if(o)for(var i=0;i<o.length;i++){var r=o[i],s=r.getId();s&&(t[s]=r)}}for(s in e=[],t)e.push(t[s]);return e},t.Variables.allUsedVariables=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")},t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},t.Variables.allDeveloperVariables=function(e){e=e.getAllBlocks(!1);for(var n,o=Object.create(null),i=0;n=e[i];i++){var r=n.getDeveloperVariables;if(!r&&n.getDeveloperVars&&(r=n.getDeveloperVars,t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+n.type+"')"),t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]=!0)),r)for(n=r(),r=0;r<n.length;r++)o[n[r]]=!0}return Object.keys(o)},t.Variables.flyoutCategory=function(e){var n=[],o=document.createElement("button");return o.setAttribute("text","%{BKY_NEW_VARIABLE}"),o.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",(function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace())})),n.push(o),e=t.Variables.flyoutCategoryBlocks(e),n.concat(e)},t.Variables.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getVariablesOfType("")).length){var o=e[e.length-1];if(t.Blocks.variables_set){var i=t.utils.xml.createElement("block");i.setAttribute("type","variables_set"),i.setAttribute("gap",t.Blocks.math_change?8:24),i.appendChild(t.Variables.generateVariableFieldDom(o)),n.push(i)}if(t.Blocks.math_change&&((i=t.utils.xml.createElement("block")).setAttribute("type","math_change"),i.setAttribute("gap",t.Blocks.variables_get?20:8),i.appendChild(t.Variables.generateVariableFieldDom(o)),o=t.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),i.appendChild(o),n.push(i)),t.Blocks.variables_get){e.sort(t.VariableModel.compareByName),o=0;for(var r;r=e[o];o++)(i=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),i.setAttribute("gap",8),i.appendChild(t.Variables.generateVariableFieldDom(r)),n.push(i)}}return n},t.Variables.generateUniqueName=function(t){var e="";if((t=t.getAllVariables()).length)for(var n=1,o=0,i="ijkmnopqrstuvwxyzabcdefgh".charAt(o);!e;){for(var r=!1,s=0;s<t.length;s++)if(t[s].name.toLowerCase()==i){r=!0;break}r?(25==++o&&(o=0,n++),i="ijkmnopqrstuvwxyzabcdefgh".charAt(o),1<n&&(i+=n)):e=i}else e="i";return e},t.Variables.createVariableButtonHandler=function(e,n,o){var i=o||"";!function o(r){t.Variables.promptName(t.Msg.NEW_VARIABLE_TITLE,r,(function(r){if(r){var s=t.Variables.nameUsedWithAnyType_(r,e);if(s){var a=r.toLowerCase();if(s.type==i)var l=t.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",a);else l=(l=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",a).replace("%2",s.type);t.alert(l,(function(){o(r)}))}else e.createVariable(r,i),n&&n(r)}else n&&n(null)}))}("")},t.Variables.createVariable=t.Variables.createVariableButtonHandler,t.Variables.renameVariable=function(e,n,o){!function i(r){var s=t.Msg.RENAME_VARIABLE_TITLE.replace("%1",n.name);t.Variables.promptName(s,r,(function(r){if(r){var s=t.Variables.nameUsedWithOtherType_(r,n.type,e);s?(s=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",r.toLowerCase()).replace("%2",s.type),t.alert(s,(function(){i(r)}))):(e.renameVariableById(n.getId(),r),o&&o(r))}else o&&o(null)}))}("")},t.Variables.promptName=function(e,n,o){t.prompt(e,n,(function(e){e&&((e=e.replace(/[\s\xa0]+/g," ").trim())==t.Msg.RENAME_VARIABLE||e==t.Msg.NEW_VARIABLE)&&(e=null),o(e)}))},t.Variables.nameUsedWithOtherType_=function(t,e,n){n=n.getVariableMap().getAllVariables(),t=t.toLowerCase();for(var o,i=0;o=n[i];i++)if(o.name.toLowerCase()==t&&o.type!=e)return o;return null},t.Variables.nameUsedWithAnyType_=function(t,e){var n=e.getVariableMap().getAllVariables();t=t.toLowerCase();for(var o,i=0;o=n[i];i++)if(o.name.toLowerCase()==t)return o;return null},t.Variables.generateVariableFieldDom=function(e){var n=t.utils.xml.createElement("field");return n.setAttribute("name","VAR"),n.setAttribute("id",e.getId()),n.setAttribute("variabletype",e.type),e=t.utils.xml.createTextNode(e.name),n.appendChild(e),n},t.Variables.getOrCreateVariablePackage=function(e,n,o,i){var r=t.Variables.getVariable(e,n,o,i);return r||(r=t.Variables.createVariable_(e,n,o,i)),r},t.Variables.getVariable=function(t,e,n,o){var i=t.getPotentialVariableMap();if(e){var r=t.getVariableById(e);if(!r&&i&&(r=i.getVariableById(e)),r)return r}if(n){if(void 0==o)throw Error("Tried to look up a variable by name without a type");!(r=t.getVariable(n,o))&&i&&(r=i.getVariable(n,o))}return r},t.Variables.createVariable_=function(e,n,o,i){var r=e.getPotentialVariableMap();return o||(o=t.Variables.generateUniqueName(e.isFlyout?e.targetWorkspace:e)),r?r.createVariable(o,i,n):e.createVariable(o,i,n)},t.Variables.getAddedVariables=function(t,e){var n=t.getAllVariables(),o=[];if(e.length!=n.length)for(var i=0;i<n.length;i++){var r=n[i];-1==e.indexOf(r)&&o.push(r)}return o},t.WidgetDiv={},t.WidgetDiv.DIV=null,t.WidgetDiv.owner_=null,t.WidgetDiv.dispose_=null,t.WidgetDiv.createDom=function(){t.WidgetDiv.DIV||(t.WidgetDiv.DIV=document.createElement("div"),t.WidgetDiv.DIV.className="blocklyWidgetDiv",document.body.appendChild(t.WidgetDiv.DIV))},t.WidgetDiv.show=function(e,n,o){t.WidgetDiv.hide(),t.WidgetDiv.owner_=e,t.WidgetDiv.dispose_=o,e=t.utils.style.getViewportPageOffset(),t.WidgetDiv.DIV.style.top=e.y+"px",t.WidgetDiv.DIV.style.direction=n?"rtl":"ltr",t.WidgetDiv.DIV.style.display="block"},t.WidgetDiv.hide=function(){t.WidgetDiv.owner_&&(t.WidgetDiv.owner_=null,t.WidgetDiv.DIV.style.display="none",t.WidgetDiv.DIV.style.left="",t.WidgetDiv.DIV.style.top="",t.WidgetDiv.dispose_&&t.WidgetDiv.dispose_(),t.WidgetDiv.dispose_=null,t.WidgetDiv.DIV.innerHTML="")},t.WidgetDiv.isVisible=function(){return!!t.WidgetDiv.owner_},t.WidgetDiv.hideIfOwner=function(e){t.WidgetDiv.owner_==e&&t.WidgetDiv.hide()},t.WidgetDiv.positionInternal_=function(e,n,o){t.WidgetDiv.DIV.style.left=e+"px",t.WidgetDiv.DIV.style.top=n+"px",t.WidgetDiv.DIV.style.height=o+"px"},t.WidgetDiv.positionWithAnchor=function(e,n,o,i){var r=t.WidgetDiv.calculateY_(e,n,o);e=t.WidgetDiv.calculateX_(e,n,o,i),0>r?t.WidgetDiv.positionInternal_(e,0,o.height+r):t.WidgetDiv.positionInternal_(e,r,o.height)},t.WidgetDiv.calculateX_=function(t,e,n,o){return o?(e=Math.max(e.right-n.width,t.left),Math.min(e,t.right-n.width)):(e=Math.min(e.left,t.right-n.width),Math.max(e,t.left))},t.WidgetDiv.calculateY_=function(t,e,n){return e.bottom+n.height>=t.bottom?e.top-n.height:e.bottom},t.VERSION="3.20191014.4",t.mainWorkspace=null,t.selected=null,t.cursor=null,t.keyboardAccessibilityMode=!1,t.draggingConnections_=[],t.clipboardXml_=null,t.clipboardSource_=null,t.clipboardTypeCounts_=null,t.cache3dSupported_=null,t.svgSize=function(t){return{width:t.cachedWidth_,height:t.cachedHeight_}},t.resizeSvgContents=function(t){t.resizeContents()},t.svgResize=function(t){for(;t.options.parentWorkspace;)t=t.options.parentWorkspace;var e=t.getParentSvg(),n=e.parentNode;if(n){var o=n.offsetWidth;n=n.offsetHeight,e.cachedWidth_!=o&&(e.setAttribute("width",o+"px"),e.cachedWidth_=o),e.cachedHeight_!=n&&(e.setAttribute("height",n+"px"),e.cachedHeight_=n),t.resize()}},t.onKeyDown_=function(e){var n=t.mainWorkspace;if(!(t.utils.isTargetInput(e)||n.rendered&&!n.isVisible()))if(n.options.readOnly)t.navigation.onKeyPress(e);else{var o=!1;if(e.keyCode==t.utils.KeyCodes.ESC)t.hideChaff(),t.navigation.onBlocklyAction(t.navigation.ACTION_EXIT);else{if(t.navigation.onKeyPress(e))return;if(e.keyCode==t.utils.KeyCodes.BACKSPACE||e.keyCode==t.utils.KeyCodes.DELETE){if(e.preventDefault(),t.Gesture.inProgress())return;t.selected&&t.selected.isDeletable()&&(o=!0)}else if(e.altKey||e.ctrlKey||e.metaKey){if(t.Gesture.inProgress())return;t.selected&&t.selected.isDeletable()&&t.selected.isMovable()&&(e.keyCode==t.utils.KeyCodes.C?(t.hideChaff(),t.copy_(t.selected)):e.keyCode!=t.utils.KeyCodes.X||t.selected.workspace.isFlyout||(t.copy_(t.selected),o=!0)),e.keyCode==t.utils.KeyCodes.V?t.clipboardXml_&&((e=t.clipboardSource_).isFlyout&&(e=e.targetWorkspace),t.clipboardTypeCounts_&&e.isCapacityAvailable(t.clipboardTypeCounts_)&&(t.Events.setGroup(!0),e.paste(t.clipboardXml_),t.Events.setGroup(!1))):e.keyCode==t.utils.KeyCodes.Z&&(t.hideChaff(),n.undo(e.shiftKey))}}o&&!t.selected.workspace.isFlyout&&(t.Events.setGroup(!0),t.hideChaff(),t.selected.dispose(!0,!0),t.Events.setGroup(!1))}},t.copy_=function(e){if(e.isComment)var n=e.toXmlWithXY();else{n=t.Xml.blockToDom(e,!0),t.Xml.deleteNext(n);var o=e.getRelativeToSurfaceXY();n.setAttribute("x",e.RTL?-o.x:o.x),n.setAttribute("y",o.y)}t.clipboardXml_=n,t.clipboardSource_=e.workspace,t.clipboardTypeCounts_=e.isComment?null:t.utils.getBlockTypeCounts(e,!0)},t.duplicate_=function(e){var n=t.clipboardXml_,o=t.clipboardSource_;t.copy_(e),e.workspace.paste(t.clipboardXml_),t.clipboardXml_=n,t.clipboardSource_=o},t.onContextMenu_=function(e){t.utils.isTargetInput(e)||e.preventDefault()},t.hideChaff=function(e){t.Tooltip.hide(),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),e||((e=t.getMainWorkspace()).trashcan&&e.trashcan.flyout_&&e.trashcan.flyout_.hide(),e.toolbox_&&e.toolbox_.flyout_&&e.toolbox_.flyout_.autoClose&&e.toolbox_.clearSelection())},t.getMainWorkspace=function(){return t.mainWorkspace},t.alert=function(t,e){alert(t),e&&e()},t.confirm=function(t,e){e(confirm(t))},t.prompt=function(t,e,n){n(prompt(t,e))},t.jsonInitFactory_=function(t){return function(){this.jsonInit(t)}},t.defineBlocksWithJsonArray=function(e){for(var n=0;n<e.length;n++){var o=e[n];if(o){var i=o.type;null==i||""===i?console.warn("Block definition #"+n+" in JSON array is missing a type attribute. Skipping."):(t.Blocks[i]&&console.warn("Block definition #"+n+' in JSON array overwrites prior definition of "'+i+'".'),t.Blocks[i]={init:t.jsonInitFactory_(o)})}else console.warn("Block definition #"+n+" in JSON array is "+o+". Skipping.")}},t.bindEventWithChecks_=function(e,n,o,i,r,s){var a=!1,l=function(e){var n=!r;e=t.Touch.splitEventByTouches(e);for(var s,l=0;s=e[l];l++)n&&!t.Touch.shouldHandleEvent(s)||(t.Touch.setClientFromTouch(s),o?i.call(o,s):i(s),a=!0)},u=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var c,h=0;c=t.Touch.TOUCH_MAP[n][h];h++)e.addEventListener(c,l,!1),u.push([e,c,l]);else if(e.addEventListener(n,l,!1),u.push([e,n,l]),n in t.Touch.TOUCH_MAP){var p=function(t){l(t),a&&!s&&t.preventDefault()};for(h=0;c=t.Touch.TOUCH_MAP[n][h];h++)e.addEventListener(c,p,!1),u.push([e,c,p])}return u},t.bindEvent_=function(e,n,o,i){var r=function(t){o?i.call(o,t):i(t)},s=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var a,l=0;a=t.Touch.TOUCH_MAP[n][l];l++)e.addEventListener(a,r,!1),s.push([e,a,r]);else if(e.addEventListener(n,r,!1),s.push([e,n,r]),n in t.Touch.TOUCH_MAP){var u=function(t){if(t.changedTouches&&1==t.changedTouches.length){var e=t.changedTouches[0];t.clientX=e.clientX,t.clientY=e.clientY}r(t),t.preventDefault()};for(l=0;a=t.Touch.TOUCH_MAP[n][l];l++)e.addEventListener(a,u,!1),s.push([e,a,u])}return s},t.unbindEvent_=function(t){for(;t.length;){var e=t.pop(),n=e[2];e[0].removeEventListener(e[1],n,!1)}return n},t.isNumber=function(t){return/^\s*-?\d+(\.\d+)?\s*$/.test(t)},t.hueToHex=function(e){return t.utils.colour.hsvToHex(e,t.HSV_SATURATION,255*t.HSV_VALUE)},t.checkBlockColourConstants=function(){t.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),t.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),t.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),t.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),t.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),t.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),t.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),t.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),t.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),t.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),t.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),t.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),t.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),t.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),t.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),t.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},t.checkBlockColourConstant_=function(e,n,o){for(var i="Blockly",r=t,s=0;s<n.length;++s)i+="."+n[s],r&&(r=r[n[s]]);r&&r!==o&&(e=(void 0===o?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",i).replace("%2",e),console.warn(e))},t.Comment=function(e){t.Comment.superClass_.constructor.call(this,e),this.model_=e.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.createIcon()},t.utils.object.inherits(t.Comment,t.Icon),t.Comment.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),t.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),t.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},t.Comment.prototype.createEditor_=function(){this.foreignObject_=t.utils.dom.createSvgElement("foreignObject",{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(t.utils.dom.HTML_NS,"body");e.setAttribute("xmlns",t.utils.dom.HTML_NS),e.className="blocklyMinimalBody";var n=this.textarea_=document.createElementNS(t.utils.dom.HTML_NS,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),n.value=this.model_.text,this.resizeTextarea_(),e.appendChild(n),this.foreignObject_.appendChild(e),t.bindEventWithChecks_(n,"mouseup",this,this.startEdit_,!0,!0),t.bindEventWithChecks_(n,"wheel",this,(function(t){t.stopPropagation()})),t.bindEventWithChecks_(n,"change",this,(function(e){this.cachedText_!=this.model_.text&&t.Events.fire(new t.Events.BlockChange(this.block_,"comment",null,this.cachedText_,this.model_.text))})),t.bindEventWithChecks_(n,"input",this,(function(t){this.model_.text=n.value})),setTimeout(n.focus.bind(n),0),this.foreignObject_},t.Comment.prototype.updateEditable=function(){t.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},t.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},t.Comment.prototype.resizeTextarea_=function(){var e=this.model_.size,n=2*t.Bubble.BORDER_WIDTH,o=e.width-n;e=e.height-n,this.foreignObject_.setAttribute("width",o),this.foreignObject_.setAttribute("height",e),this.textarea_.style.width=o-4+"px",this.textarea_.style.height=e-4+"px"},t.Comment.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new t.Events.Ui(this.block_,"commentOpen",!e,e)),(this.model_.pinned=e)?this.createBubble_():this.disposeBubble_())},t.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||t.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},t.Comment.prototype.createEditableBubble_=function(){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.updateColour()},t.Comment.prototype.createNonEditableBubble_=function(){t.Warning.prototype.createBubble.call(this)},t.Comment.prototype.disposeBubble_=function(){this.paragraphElement_?t.Warning.prototype.disposeBubble.call(this):(this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null)},t.Comment.prototype.startEdit_=function(t){this.bubble_.promote_()&&this.textarea_.focus(),this.cachedText_=this.model_.text},t.Comment.prototype.getBubbleSize=function(){return this.model_.size},t.Comment.prototype.setBubbleSize=function(t,e){this.bubble_?this.bubble_.setBubbleSize(t,e):(this.model_.size.width=t,this.model_.size.height=e)},t.Comment.prototype.getText=function(){return this.model_.text||""},t.Comment.prototype.setText=function(t){this.model_.text!=t&&(this.model_.text=t,this.updateText())},t.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},t.Comment.prototype.dispose=function(){this.block_.comment=null,t.Icon.prototype.dispose.call(this)},t.tree={},t.tree.BaseNode=function(e,n){t.Component.call(this),this.config_=n,this.content_=e,this.expanded_=this.selected_=!1,this.toolTip_=null,this.isUserCollapsible_=!0,this.depth_=-1},t.utils.object.inherits(t.tree.BaseNode,t.Component),t.tree.BaseNode.allNodes={},t.tree.BaseNode.prototype.disposeInternal=function(){t.tree.BaseNode.superClass_.disposeInternal.call(this),this.tree&&(this.tree=null),this.setElementInternal(null)},t.tree.BaseNode.prototype.initAccessibility=function(){var e=this.getElement();if(e){var n=this.getLabelElement();if(n&&!n.id&&(n.id=this.getId()+".label"),t.utils.aria.setRole(e,t.utils.aria.Role.TREEITEM),t.utils.aria.setState(e,t.utils.aria.State.SELECTED,!1),t.utils.aria.setState(e,t.utils.aria.State.LEVEL,this.getDepth()),n&&t.utils.aria.setState(e,t.utils.aria.State.LABELLEDBY,n.id),(n=this.getIconElement())&&t.utils.aria.setRole(n,t.utils.aria.Role.PRESENTATION),(n=this.getChildrenElement())&&(t.utils.aria.setRole(n,t.utils.aria.Role.GROUP),n.hasChildNodes()))for(t.utils.aria.setState(e,t.utils.aria.State.EXPANDED,!1),e=this.getChildCount(),n=1;n<=e;n++){var o=this.getChildAt(n-1).getElement();t.utils.aria.setState(o,t.utils.aria.State.SETSIZE,e),t.utils.aria.setState(o,t.utils.aria.State.POSINSET,n)}}},t.tree.BaseNode.prototype.createDom=function(){var t=document.createElement("div");t.appendChild(this.toDom()),this.setElementInternal(t)},t.tree.BaseNode.prototype.enterDocument=function(){t.tree.BaseNode.superClass_.enterDocument.call(this),t.tree.BaseNode.allNodes[this.getId()]=this,this.initAccessibility()},t.tree.BaseNode.prototype.exitDocument=function(){t.tree.BaseNode.superClass_.exitDocument.call(this),delete t.tree.BaseNode.allNodes[this.getId()]},t.tree.BaseNode.prototype.addChildAt=function(e,n){var o=this.getChildAt(n-1),i=this.getChildAt(n);t.tree.BaseNode.superClass_.addChildAt.call(this,e,n),e.previousSibling_=o,e.nextSibling_=i,o?o.nextSibling_=e:this.firstChild_=e,i?i.previousSibling_=e:this.lastChild_=e;var r=this.getTree();if(r&&e.setTreeInternal(r),e.setDepth_(this.getDepth()+1),(r=this.getElement())&&(this.updateExpandIcon(),t.utils.aria.setState(r,t.utils.aria.State.EXPANDED,this.getExpanded()),this.getExpanded())){r=this.getChildrenElement(),e.getElement()||e.createDom();var s=e.getElement(),a=i&&i.getElement();r.insertBefore(s,a),this.isInDocument()&&e.enterDocument(),i||(o?o.updateExpandIcon():(t.utils.style.setElementShown(r,!0),this.setExpanded(this.getExpanded())))}},t.tree.BaseNode.prototype.add=function(e){if(e.getParent())throw Error(t.Component.Error.PARENT_UNABLE_TO_BE_SET);this.addChildAt(e,this.getChildCount())},t.tree.BaseNode.prototype.getTree=function(){return null},t.tree.BaseNode.prototype.getDepth=function(){var t=this.depth_;return 0>t&&(t=this.computeDepth_(),this.setDepth_(t)),t},t.tree.BaseNode.prototype.computeDepth_=function(){var t=this.getParent();return t?t.getDepth()+1:0},t.tree.BaseNode.prototype.setDepth_=function(t){if(t!=this.depth_){this.depth_=t;var e=this.getRowElement();if(e){var n=this.getPixelIndent_()+"px";this.isRightToLeft()?e.style.paddingRight=n:e.style.paddingLeft=n}this.forEachChild((function(e){e.setDepth_(t+1)}))}},t.tree.BaseNode.prototype.contains=function(t){for(;t;){if(t==this)return!0;t=t.getParent()}return!1},t.tree.BaseNode.prototype.getChildren=function(){var t=[];return this.forEachChild((function(e){t.push(e)})),t},t.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)},t.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)},t.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_},t.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_},t.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_},t.tree.BaseNode.prototype.isSelected=function(){return this.selected_},t.tree.BaseNode.prototype.select=function(){var t=this.getTree();t&&t.setSelectedItem(this)},t.tree.BaseNode.prototype.selectFirst=function(){var t=this.getTree();t&&this.firstChild_&&t.setSelectedItem(this.firstChild_)},t.tree.BaseNode.prototype.setSelectedInternal=function(e){if(this.selected_!=e){this.selected_=e,this.updateRow();var n=this.getElement();n&&(t.utils.aria.setState(n,t.utils.aria.State.SELECTED,e),e&&(e=this.getTree().getElement(),t.utils.aria.setState(e,t.utils.aria.State.ACTIVEDESCENDANT,this.getId())))}},t.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_},t.tree.BaseNode.prototype.setExpandedInternal=function(t){this.expanded_=t},t.tree.BaseNode.prototype.setExpanded=function(e){var n,o=e!=this.expanded_;this.expanded_=e;var i=this.getTree(),r=this.getElement();this.hasChildren()?(!e&&i&&this.contains(i.getSelectedItem())&&this.select(),r&&((n=this.getChildrenElement())&&(t.utils.style.setElementShown(n,e),t.utils.aria.setState(r,t.utils.aria.State.EXPANDED,e),e&&this.isInDocument()&&!n.hasChildNodes()&&(this.forEachChild((function(t){n.appendChild(t.toDom())})),this.forEachChild((function(t){t.enterDocument()})))),this.updateExpandIcon())):(n=this.getChildrenElement())&&t.utils.style.setElementShown(n,!1),r&&this.updateIcon_(),o&&(e?this.doNodeExpanded():this.doNodeCollapsed())},t.tree.BaseNode.prototype.doNodeExpanded=function(){},t.tree.BaseNode.prototype.doNodeCollapsed=function(){},t.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())},t.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_},t.tree.BaseNode.prototype.toDom=function(){var t=this.getExpanded()&&this.hasChildren(),e=document.createElement("div");return e.style.backgroundPosition=this.getBackgroundPosition(),t||(e.style.display="none"),t&&this.forEachChild((function(t){e.appendChild(t.toDom())})),(t=document.createElement("div")).id=this.getId(),t.appendChild(this.getRowDom()),t.appendChild(e),t},t.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)},t.tree.BaseNode.prototype.getRowDom=function(){var t=document.createElement("div");return t.className=this.getRowClassName(),t.style["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px",t.appendChild(this.getIconDom()),t.appendChild(this.getLabelDom()),t},t.tree.BaseNode.prototype.getRowClassName=function(){var t="";return this.isSelected()&&(t=" "+(this.config_.cssSelectedRow||"")),this.config_.cssTreeRow+t},t.tree.BaseNode.prototype.getLabelDom=function(){var t=document.createElement("span");return t.className=this.config_.cssItemLabel||"",t.textContent=this.getText(),t},t.tree.BaseNode.prototype.getIconDom=function(){var t=document.createElement("span");return t.style.display="inline-block",t.className=this.getCalculatedIconClass(),t},t.tree.BaseNode.prototype.getCalculatedIconClass=function(){throw Error("unimplemented abstract method")},t.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"},t.tree.BaseNode.prototype.getElement=function(){var e=t.tree.BaseNode.superClass_.getElement.call(this);return e||(e=document.getElementById(this.getId()),this.setElementInternal(e)),e},t.tree.BaseNode.prototype.getRowElement=function(){var t=this.getElement();return t?t.firstChild:null},t.tree.BaseNode.prototype.getIconElement=function(){var t=this.getRowElement();return t?t.firstChild:null},t.tree.BaseNode.prototype.getLabelElement=function(){var t=this.getRowElement();return t&&t.lastChild?t.lastChild.previousSibling:null},t.tree.BaseNode.prototype.getChildrenElement=function(){var t=this.getElement();return t?t.lastChild:null},t.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_},t.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_},t.tree.BaseNode.prototype.setText=function(t){this.content_=t},t.tree.BaseNode.prototype.getText=function(){return this.content_},t.tree.BaseNode.prototype.updateRow=function(){var t=this.getRowElement();t&&(t.className=this.getRowClassName())},t.tree.BaseNode.prototype.updateExpandIcon=function(){var t=this.getChildrenElement();t&&(t.style.backgroundPosition=this.getBackgroundPosition())},t.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()},t.tree.BaseNode.prototype.onMouseDown=function(t){"expand"==t.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())},t.tree.BaseNode.prototype.onClick_=function(t){t.preventDefault()},t.tree.BaseNode.prototype.onKeyDown=function(e){var n=!0;switch(e.keyCode){case t.utils.KeyCodes.RIGHT:if(e.altKey)break;n=this.selectChild();break;case t.utils.KeyCodes.LEFT:if(e.altKey)break;n=this.selectParent();break;case t.utils.KeyCodes.DOWN:n=this.selectNext();break;case t.utils.KeyCodes.UP:n=this.selectPrevious();break;default:n=!1}return n&&e.preventDefault(),n},t.tree.BaseNode.prototype.selectNext=function(){var t=this.getNextShownNode();return t&&t.select(),!0},t.tree.BaseNode.prototype.selectPrevious=function(){var t=this.getPreviousShownNode();return t&&t.select(),!0},t.tree.BaseNode.prototype.selectParent=function(){if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var t=this.getParent(),e=this.getTree();t&&t!=e&&t.select()}return!0},t.tree.BaseNode.prototype.selectChild=function(){return!!this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0),!0)},t.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this},t.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var t,e=this;e!=this.getTree();){if(null!=(t=e.getNextSibling()))return t;e=e.getParent()}return null},t.tree.BaseNode.prototype.getPreviousShownNode=function(){var t=this.getPreviousSibling();if(null!=t)return t.getLastShownDescendant();t=this.getParent();var e=this.getTree();return t==e||this==e?null:t},t.tree.BaseNode.prototype.getConfig=function(){return this.config_},t.tree.BaseNode.prototype.setTreeInternal=function(t){this.tree!=t&&(this.tree=t,this.forEachChild((function(e){e.setTreeInternal(t)})))},t.tree.TreeNode=function(e,n,o){this.toolbox_=e,t.tree.BaseNode.call(this,n,o)},t.utils.object.inherits(t.tree.TreeNode,t.tree.BaseNode),t.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var t=this.getParent();return t&&(t=t.getTree())?(this.setTreeInternal(t),t):null},t.tree.TreeNode.prototype.getCalculatedIconClass=function(){var t=this.getExpanded(),e=this.getExpandedIconClass();if(t&&e)return e;if(e=this.getIconClass(),!t&&e)return e;if(e=this.getConfig(),this.hasChildren()){if(t&&e.cssExpandedFolderIcon)return e.cssTreeIcon+" "+e.cssExpandedFolderIcon;if(!t&&e.cssCollapsedFolderIcon)return e.cssTreeIcon+" "+e.cssCollapsedFolderIcon}else if(e.cssFileIcon)return e.cssTreeIcon+" "+e.cssFileIcon;return""},t.tree.TreeNode.prototype.onClick_=function(t){this.hasChildren()&&this.isUserCollapsible()?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select(),this.updateRow()},t.tree.TreeNode.prototype.onMouseDown=function(t){},t.tree.TreeNode.prototype.onKeyDown=function(e){if(this.tree.toolbox_.horizontalLayout_){var n={},o=t.utils.KeyCodes.DOWN,i=t.utils.KeyCodes.UP;n[t.utils.KeyCodes.RIGHT]=this.isRightToLeft()?i:o,n[t.utils.KeyCodes.LEFT]=this.isRightToLeft()?o:i,n[t.utils.KeyCodes.UP]=t.utils.KeyCodes.LEFT,n[t.utils.KeyCodes.DOWN]=t.utils.KeyCodes.RIGHT,Object.defineProperties(e,{keyCode:{value:n[e.keyCode]||e.keyCode}})}return t.tree.TreeNode.superClass_.onKeyDown.call(this,e)},t.tree.TreeNode.prototype.onSizeChanged=function(t){this.onSizeChanged_=t},t.tree.TreeNode.prototype.resizeToolbox_=function(){this.onSizeChanged_&&this.onSizeChanged_.call(this.toolbox_)},t.tree.TreeNode.prototype.doNodeExpanded=t.tree.TreeNode.prototype.resizeToolbox_,t.tree.TreeNode.prototype.doNodeCollapsed=t.tree.TreeNode.prototype.resizeToolbox_,t.tree.TreeControl=function(e,n){this.toolbox_=e,t.tree.BaseNode.call(this,"",n),this.setExpandedInternal(!0),this.setSelectedInternal(!0),this.selectedItem_=this},t.utils.object.inherits(t.tree.TreeControl,t.tree.BaseNode),t.tree.TreeControl.prototype.getTree=function(){return this},t.tree.TreeControl.prototype.getToolbox=function(){return this.toolbox_},t.tree.TreeControl.prototype.getDepth=function(){return 0},t.tree.TreeControl.prototype.handleFocus_=function(e){this.focused_=!0,e=this.getElement(),t.utils.dom.addClass(e,"focused"),this.selectedItem_&&this.selectedItem_.select()},t.tree.TreeControl.prototype.handleBlur_=function(e){this.focused_=!1,e=this.getElement(),t.utils.dom.removeClass(e,"focused")},t.tree.TreeControl.prototype.hasFocus=function(){return this.focused_},t.tree.TreeControl.prototype.getExpanded=function(){return!0},t.tree.TreeControl.prototype.setExpanded=function(t){this.setExpandedInternal(t)},t.tree.TreeControl.prototype.getIconElement=function(){var t=this.getRowElement();return t?t.firstChild:null},t.tree.TreeControl.prototype.updateExpandIcon=function(){},t.tree.TreeControl.prototype.getRowClassName=function(){return t.tree.TreeControl.superClass_.getRowClassName.call(this)+" "+this.getConfig().cssHideRoot},t.tree.TreeControl.prototype.getCalculatedIconClass=function(){var t=this.getExpanded(),e=this.getExpandedIconClass();return t&&e?e:(e=this.getIconClass(),!t&&e?e:(e=this.getConfig(),t&&e.cssExpandedRootIcon?e.cssTreeIcon+" "+e.cssExpandedRootIcon:""))},t.tree.TreeControl.prototype.setSelectedItem=function(t){if(t!=this.selectedItem_&&(!this.onBeforeSelected_||this.onBeforeSelected_.call(this.toolbox_,t))){var e=this.getSelectedItem();this.selectedItem_&&this.selectedItem_.setSelectedInternal(!1),(this.selectedItem_=t)&&t.setSelectedInternal(!0),this.onAfterSelected_&&this.onAfterSelected_.call(this.toolbox_,e,t)}},t.tree.TreeControl.prototype.onBeforeSelected=function(t){this.onBeforeSelected_=t},t.tree.TreeControl.prototype.onAfterSelected=function(t){this.onAfterSelected_=t},t.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_},t.tree.TreeControl.prototype.initAccessibility=function(){t.tree.TreeControl.superClass_.initAccessibility.call(this);var e=this.getElement();t.utils.aria.setRole(e,t.utils.aria.Role.TREE),t.utils.aria.setState(e,t.utils.aria.State.LABELLEDBY,this.getLabelElement().id)},t.tree.TreeControl.prototype.enterDocument=function(){t.tree.TreeControl.superClass_.enterDocument.call(this);var e=this.getElement();e.className=this.getConfig().cssRoot,e.setAttribute("hideFocus","true"),this.attachEvents_(),this.initAccessibility()},t.tree.TreeControl.prototype.exitDocument=function(){t.tree.TreeControl.superClass_.exitDocument.call(this),this.detachEvents_()},t.tree.TreeControl.prototype.attachEvents_=function(){var e=this.getElement();e.tabIndex=0,this.onFocusWrapper_=t.bindEvent_(e,"focus",this,this.handleFocus_),this.onBlurWrapper_=t.bindEvent_(e,"blur",this,this.handleBlur_),this.onClickWrapper_=t.bindEventWithChecks_(e,"click",this,this.handleMouseEvent_),this.onKeydownWrapper_=t.bindEvent_(e,"keydown",this,this.handleKeyEvent_)},t.tree.TreeControl.prototype.detachEvents_=function(){t.unbindEvent_(this.onFocusWrapper_),t.unbindEvent_(this.onBlurWrapper_),t.unbindEvent_(this.onClickWrapper_),t.unbindEvent_(this.onKeydownWrapper_)},t.tree.TreeControl.prototype.handleMouseEvent_=function(t){var e=this.getNodeFromEvent_(t);if(e)switch(t.type){case"mousedown":e.onMouseDown(t);break;case"click":e.onClick_(t)}},t.tree.TreeControl.prototype.handleKeyEvent_=function(e){var n=!1;return(n=this.selectedItem_&&this.selectedItem_.onKeyDown(e)||n)&&(t.utils.style.scrollIntoContainerView(this.selectedItem_.getElement(),this.getElement().parentNode),e.preventDefault()),n},t.tree.TreeControl.prototype.getNodeFromEvent_=function(e){for(var n=e.target;null!=n;){if(e=t.tree.BaseNode.allNodes[n.id])return e;if(n==this.getElement())break;n=n.parentNode}return null},t.tree.TreeControl.prototype.createNode=function(e){return new t.tree.TreeNode(this.toolbox_,e||"",this.getConfig())},t.FieldTextInput=function(e,n,o){this.spellcheck_=!0,null==e&&(e=""),t.FieldTextInput.superClass_.constructor.call(this,e,n,o)},t.utils.object.inherits(t.FieldTextInput,t.Field),t.FieldTextInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldTextInput(n,void 0,e)},t.FieldTextInput.prototype.SERIALIZABLE=!0,t.FieldTextInput.FONTSIZE=11,t.FieldTextInput.BORDERRADIUS=4,t.FieldTextInput.prototype.CURSOR="text",t.FieldTextInput.prototype.configure_=function(e){t.FieldTextInput.superClass_.configure_.call(this,e),"boolean"==typeof e.spellcheck&&(this.spellcheck_=e.spellcheck)},t.FieldTextInput.prototype.doClassValidation_=function(t){return null===t||void 0===t?null:String(t)},t.FieldTextInput.prototype.doValueInvalid_=function(e){this.isBeingEdited_&&(this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&t.Events.isEnabled()&&t.Events.fire(new t.Events.BlockChange(this.sourceBlock_,"field",this.name||null,e,this.value_)))},t.FieldTextInput.prototype.doValueUpdate_=function(t){this.isTextValid_=!0,this.value_=t,this.isBeingEdited_||(this.isDirty_=!0)},t.FieldTextInput.prototype.render_=function(){t.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.isTextValid_?(t.utils.dom.removeClass(this.htmlInput_,"blocklyInvalidInput"),t.utils.aria.setState(this.htmlInput_,"invalid",!1)):(t.utils.dom.addClass(this.htmlInput_,"blocklyInvalidInput"),t.utils.aria.setState(this.htmlInput_,"invalid",!0)))},t.FieldTextInput.prototype.setSpellcheck=function(t){t!=this.spellcheck_&&(this.spellcheck_=t,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},t.FieldTextInput.prototype.showEditor_=function(e){this.workspace_=this.sourceBlock_.workspace,!(e=e||!1)&&(t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},t.FieldTextInput.prototype.showPromptEditor_=function(){var e=this;t.prompt(t.Msg.CHANGE_VALUE_TITLE,this.getText(),(function(t){e.setValue(t)}))},t.FieldTextInput.prototype.showInlineEditor_=function(e){t.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus(),this.htmlInput_.select())},t.FieldTextInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV,n=document.createElement("input");n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);var o=t.FieldTextInput.FONTSIZE*this.workspace_.scale+"pt";return e.style.fontSize=o,n.style.fontSize=o,n.style.borderRadius=t.FieldTextInput.BORDERRADIUS*this.workspace_.scale+"px",e.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,t.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(n),n},t.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var e=t.WidgetDiv.DIV.style;e.width="auto",e.height="auto",e.fontSize=""},t.FieldTextInput.prototype.bindInputEvents_=function(e){this.onKeyDownWrapper_=t.bindEventWithChecks_(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=t.bindEventWithChecks_(e,"input",this,this.onHtmlInputChange_)},t.FieldTextInput.prototype.unbindInputEvents_=function(){t.unbindEvent_(this.onKeyDownWrapper_),t.unbindEvent_(this.onKeyInputWrapper_)},t.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode==t.utils.KeyCodes.ENTER?(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.ESC?(this.htmlInput_.value=this.htmlInput_.defaultValue,t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.TAB&&(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},t.FieldTextInput.prototype.onHtmlInputChange_=function(e){(e=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=e,t.Events.setGroup(!0),e=this.getValueFromEditorText_(e),this.setValue(e),this.forceRerender(),t.Events.setGroup(!1))},t.FieldTextInput.prototype.setEditorValue_=function(t){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(t)),this.setValue(t)},t.FieldTextInput.prototype.resizeEditor_=function(){var e=t.WidgetDiv.DIV,n=this.getScaledBBox_();e.style.width=n.right-n.left+"px",e.style.height=n.bottom-n.top+"px",(n=new t.utils.Coordinate(this.sourceBlock_.RTL?n.right-e.offsetWidth:n.left,n.top)).y+=1,t.utils.userAgent.GECKO&&t.WidgetDiv.DIV.style.top&&(--n.x,--n.y),t.utils.userAgent.WEBKIT&&(n.y-=3),e.style.left=n.x+"px",e.style.top=n.y+"px"},t.FieldTextInput.numberValidator=function(t){return console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead."),null===t?null:(t=(t=(t=String(t)).replace(/O/gi,"0")).replace(/,/g,""),t=Number(t||0),isNaN(t)?null:String(t))},t.FieldTextInput.nonnegativeIntegerValidator=function(e){return(e=t.FieldTextInput.numberValidator(e))&&(e=String(Math.max(0,Math.floor(e)))),e},t.FieldTextInput.prototype.isTabNavigable=function(){return!0},t.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},t.FieldTextInput.prototype.getEditorText_=function(t){return String(t)},t.FieldTextInput.prototype.getValueFromEditorText_=function(t){return t},t.fieldRegistry.register("field_input",t.FieldTextInput),t.FieldAngle=function(e,n,o){this.clockwise_=t.FieldAngle.CLOCKWISE,this.offset_=t.FieldAngle.OFFSET,this.wrap_=t.FieldAngle.WRAP,this.round_=t.FieldAngle.ROUND,t.FieldAngle.superClass_.constructor.call(this,e||0,n,o)},t.utils.object.inherits(t.FieldAngle,t.FieldTextInput),t.FieldAngle.fromJson=function(e){return new t.FieldAngle(e.angle,void 0,e)},t.FieldAngle.prototype.SERIALIZABLE=!0,t.FieldAngle.ROUND=15,t.FieldAngle.HALF=50,t.FieldAngle.CLOCKWISE=!1,t.FieldAngle.OFFSET=0,t.FieldAngle.WRAP=360,t.FieldAngle.RADIUS=t.FieldAngle.HALF-1,t.FieldAngle.prototype.configure_=function(e){switch(t.FieldAngle.superClass_.configure_.call(this,e),e.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var n=e.clockwise;"boolean"==typeof n&&(this.clockwise_=n),null!=(n=e.offset)&&(n=Number(n),isNaN(n)||(this.offset_=n)),null!=(n=e.wrap)&&(n=Number(n),isNaN(n)||(this.wrap_=n)),null!=(e=e.round)&&(e=Number(e),isNaN(e)||(this.round_=e))},t.FieldAngle.prototype.initView=function(){t.FieldAngle.superClass_.initView.call(this),this.symbol_=t.utils.dom.createSvgElement("tspan",{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},t.FieldAngle.prototype.render_=function(){t.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},t.FieldAngle.prototype.showEditor_=function(){t.FieldAngle.superClass_.showEditor_.call(this,t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD);var e=this.dropdownCreate_();t.DropDownDiv.getContentDiv().appendChild(e),e=(e=this.sourceBlock_.getColourBorder()).colourBorder||e.colourLight,t.DropDownDiv.setColour(this.sourceBlock_.getColour(),e),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},t.FieldAngle.prototype.dropdownCreate_=function(){var e=t.utils.dom.createSvgElement("svg",{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",height:2*t.FieldAngle.HALF+"px",width:2*t.FieldAngle.HALF+"px",style:"touch-action: none"},null),n=t.utils.dom.createSvgElement("circle",{cx:t.FieldAngle.HALF,cy:t.FieldAngle.HALF,r:t.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=t.utils.dom.createSvgElement("path",{class:"blocklyAngleGauge"},e),this.line_=t.utils.dom.createSvgElement("line",{x1:t.FieldAngle.HALF,y1:t.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var o=0;360>o;o+=15)t.utils.dom.createSvgElement("line",{x1:t.FieldAngle.HALF+t.FieldAngle.RADIUS,y1:t.FieldAngle.HALF,x2:t.FieldAngle.HALF+t.FieldAngle.RADIUS-(0==o%45?10:5),y2:t.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+o+","+t.FieldAngle.HALF+","+t.FieldAngle.HALF+")"},e);return this.clickWrapper_=t.bindEventWithChecks_(e,"click",this,this.hide_),this.clickSurfaceWrapper_=t.bindEventWithChecks_(n,"click",this,this.onMouseMove,!0,!0),this.moveSurfaceWrapper_=t.bindEventWithChecks_(n,"mousemove",this,this.onMouseMove,!0,!0),e},t.FieldAngle.prototype.dropdownDispose_=function(){t.unbindEvent_(this.clickWrapper_),t.unbindEvent_(this.clickSurfaceWrapper_),t.unbindEvent_(this.moveSurfaceWrapper_)},t.FieldAngle.prototype.hide_=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hide()},t.FieldAngle.prototype.onMouseMove=function(e){var n=this.gauge_.ownerSVGElement.getBoundingClientRect(),o=e.clientX-n.left-t.FieldAngle.HALF;e=e.clientY-n.top-t.FieldAngle.HALF,n=Math.atan(-e/o),isNaN(n)||(n=t.utils.math.toDegrees(n),0>o?n+=180:0<e&&(n+=360),n=this.clockwise_?this.offset_+360-n:360-(this.offset_-n),this.displayMouseOrKeyboardValue_(n))},t.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(t){this.round_&&(t=Math.round(t/this.round_)*this.round_),(t=this.wrapValue_(t))!=this.value_&&this.setEditorValue_(t)},t.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+this.offset_,n=t.utils.math.toRadians(e%360);e=["M ",t.FieldAngle.HALF,",",t.FieldAngle.HALF];var o=t.FieldAngle.HALF,i=t.FieldAngle.HALF;if(!isNaN(n)){var r=Number(this.clockwise_),s=t.utils.math.toRadians(this.offset_),a=Math.cos(s)*t.FieldAngle.RADIUS,l=Math.sin(s)*-t.FieldAngle.RADIUS;r&&(n=2*s-n),o+=Math.cos(n)*t.FieldAngle.RADIUS,i-=Math.sin(n)*t.FieldAngle.RADIUS,n=Math.abs(Math.floor((n-s)/Math.PI)%2),r&&(n=1-n),e.push(" l ",a,",",l," A ",t.FieldAngle.RADIUS,",",t.FieldAngle.RADIUS," 0 ",n," ",r," ",o,",",i," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",o),this.line_.setAttribute("y2",i)}},t.FieldAngle.prototype.onHtmlInputKeyDown_=function(e){var n;if(t.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,e),e.keyCode===t.utils.KeyCodes.LEFT?n=this.sourceBlock_.RTL?1:-1:e.keyCode===t.utils.KeyCodes.RIGHT?n=this.sourceBlock_.RTL?-1:1:e.keyCode===t.utils.KeyCodes.DOWN?n=-1:e.keyCode===t.utils.KeyCodes.UP&&(n=1),n){var o=this.getValue();this.displayMouseOrKeyboardValue_(o+n*this.round_),e.preventDefault(),e.stopPropagation()}},t.FieldAngle.prototype.doClassValidation_=function(t){return t=Number(t),isNaN(t)||!isFinite(t)?null:this.wrapValue_(t)},t.FieldAngle.prototype.wrapValue_=function(t){return 0>(t%=360)&&(t+=360),t>this.wrap_&&(t-=360),t},t.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),t.fieldRegistry.register("field_angle",t.FieldAngle),t.FieldCheckbox=function(e,n,o){this.checkChar_=null,null==e&&(e="FALSE"),t.FieldCheckbox.superClass_.constructor.call(this,e,n,o),this.size_.width=t.FieldCheckbox.WIDTH},t.utils.object.inherits(t.FieldCheckbox,t.Field),t.FieldCheckbox.fromJson=function(e){return new t.FieldCheckbox(e.checked,void 0,e)},t.FieldCheckbox.WIDTH=15,t.FieldCheckbox.CHECK_CHAR="\u2713",t.FieldCheckbox.CHECK_X_OFFSET=t.Field.DEFAULT_TEXT_OFFSET-3,t.FieldCheckbox.CHECK_Y_OFFSET=14,t.FieldCheckbox.prototype.SERIALIZABLE=!0,t.FieldCheckbox.prototype.CURSOR="default",t.FieldCheckbox.prototype.isDirty_=!1,t.FieldCheckbox.prototype.configure_=function(e){t.FieldCheckbox.superClass_.configure_.call(this,e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)},t.FieldCheckbox.prototype.initView=function(){t.FieldCheckbox.superClass_.initView.call(this),this.textElement_.setAttribute("x",t.FieldCheckbox.CHECK_X_OFFSET),this.textElement_.setAttribute("y",t.FieldCheckbox.CHECK_Y_OFFSET),t.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textContent_.nodeValue=this.checkChar_||t.FieldCheckbox.CHECK_CHAR,this.textElement_.style.display=this.value_?"block":"none"},t.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.textContent_&&(this.textContent_.nodeValue=e||t.FieldCheckbox.CHECK_CHAR)},t.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},t.FieldCheckbox.prototype.doClassValidation_=function(t){return!0===t||"TRUE"===t?"TRUE":!1===t||"FALSE"===t?"FALSE":null},t.FieldCheckbox.prototype.doValueUpdate_=function(t){this.value_=this.convertValueToBool_(t),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},t.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},t.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},t.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},t.FieldCheckbox.prototype.convertValueToBool_=function(t){return"string"==typeof t?"TRUE"==t:!!t},t.fieldRegistry.register("field_checkbox",t.FieldCheckbox),t.FieldColour=function(e,n,o){t.FieldColour.superClass_.constructor.call(this,e||t.FieldColour.COLOURS[0],n,o),this.size_=new t.utils.Size(t.FieldColour.DEFAULT_WIDTH,t.FieldColour.DEFAULT_HEIGHT)},t.utils.object.inherits(t.FieldColour,t.Field),t.FieldColour.fromJson=function(e){return new t.FieldColour(e.colour,void 0,e)},t.FieldColour.DEFAULT_WIDTH=26,t.FieldColour.DEFAULT_HEIGHT=t.Field.BORDER_RECT_DEFAULT_HEIGHT,t.FieldColour.prototype.SERIALIZABLE=!0,t.FieldColour.prototype.CURSOR="default",t.FieldColour.prototype.isDirty_=!1,t.FieldColour.prototype.colours_=null,t.FieldColour.prototype.titles_=null,t.FieldColour.prototype.columns_=0,t.FieldColour.prototype.configure_=function(e){t.FieldColour.superClass_.configure_.call(this,e),e.colourOptions&&(this.colours_=e.colourOptions,this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)},t.FieldColour.prototype.initView=function(){this.createBorderRect_(),this.borderRect_.style.fillOpacity=1,this.borderRect_.style.fill=this.value_},t.FieldColour.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:t.utils.colour.parse(e)},t.FieldColour.prototype.doValueUpdate_=function(t){this.value_=t,this.borderRect_&&(this.borderRect_.style.fill=t)},t.FieldColour.prototype.getText=function(){var t=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(t)&&(t="#"+t[1]+t[3]+t[5]),t},t.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),t.FieldColour.TITLES=[],t.FieldColour.COLUMNS=7,t.FieldColour.prototype.setColours=function(t,e){return this.colours_=t,e&&(this.titles_=e),this},t.FieldColour.prototype.setColumns=function(t){return this.columns_=t,this},t.FieldColour.prototype.showEditor_=function(){this.picker_=this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.picker_),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus()},t.FieldColour.prototype.onClick_=function(e){null!==(e=(e=e.target)&&e.label)&&(this.setValue(e),t.DropDownDiv.hideIfOwner(this))},t.FieldColour.prototype.onKeyDown_=function(e){var n=!1;e.keyCode===t.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),n=!0):e.keyCode===t.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),n=!0):e.keyCode===t.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),n=!0):e.keyCode===t.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),n=!0):e.keyCode===t.utils.KeyCodes.ENTER&&((n=this.getHighlighted_())&&null!==(n=n&&n.label)&&this.setValue(n),t.DropDownDiv.hideWithoutAnimation(),n=!0),n&&e.stopPropagation()},t.FieldColour.prototype.onBlocklyAction=function(e){if(this.picker_){if(e===t.navigation.ACTION_PREVIOUS)return this.moveHighlightBy_(0,-1),!0;if(e===t.navigation.ACTION_NEXT)return this.moveHighlightBy_(0,1),!0;if(e===t.navigation.ACTION_OUT)return this.moveHighlightBy_(-1,0),!0;if(e===t.navigation.ACTION_IN)return this.moveHighlightBy_(1,0),!0}return t.FieldColour.superClass_.onBlocklyAction.call(this,e)},t.FieldColour.prototype.moveHighlightBy_=function(e,n){var o=this.colours_||t.FieldColour.COLOURS,i=this.columns_||t.FieldColour.COLUMNS,r=this.highlightedIndex_%i,s=Math.floor(this.highlightedIndex_/i);r+=e,s+=n,0>e?0>r&&0<s?(r=i-1,s--):0>r&&(r=0):0<e?r>i-1&&s<Math.floor(o.length/i)-1?(r=0,s++):r>i-1&&r--:0>n?0>s&&(s=0):0<n&&s>Math.floor(o.length/i)-1&&(s=Math.floor(o.length/i)-1),this.setHighlightedCell_(this.picker_.childNodes[s].childNodes[r],s*i+r)},t.FieldColour.prototype.onMouseMove_=function(t){var e=(t=t.target)&&t.getAttribute("data-index");null!==e&&e!==this.highlightedIndex_&&this.setHighlightedCell_(t,Number(e))},t.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus()},t.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var e=this.getHighlighted_();e&&t.utils.dom.removeClass(e,"blocklyColourHighlighted")},t.FieldColour.prototype.getHighlighted_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return n?n.childNodes[this.highlightedIndex_%e]:null},t.FieldColour.prototype.setHighlightedCell_=function(e,n){var o=this.getHighlighted_();o&&t.utils.dom.removeClass(o,"blocklyColourHighlighted"),t.utils.dom.addClass(e,"blocklyColourHighlighted"),this.highlightedIndex_=n,t.utils.aria.setState(this.picker_,t.utils.aria.State.ACTIVEDESCENDANT,e.getAttribute("id"))},t.FieldColour.prototype.dropdownCreate_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.colours_||t.FieldColour.COLOURS,o=this.titles_||t.FieldColour.TITLES,i=this.getValue(),r=document.createElement("table");r.className="blocklyColourTable",r.tabIndex=0,r.dir="ltr",t.utils.aria.setRole(r,t.utils.aria.Role.GRID),t.utils.aria.setState(r,t.utils.aria.State.EXPANDED,!0),t.utils.aria.setState(r,"rowcount",Math.floor(n.length/e)),t.utils.aria.setState(r,"colcount",e);for(var s,a=0;a<n.length;a++){0==a%e&&(s=document.createElement("tr"),t.utils.aria.setRole(s,t.utils.aria.Role.ROW),r.appendChild(s));var l=document.createElement("td");s.appendChild(l),l.label=n[a],l.title=o[a]||n[a],l.id=t.utils.IdGenerator.getNextUniqueId(),l.setAttribute("data-index",a),t.utils.aria.setRole(l,t.utils.aria.Role.GRIDCELL),t.utils.aria.setState(l,t.utils.aria.State.LABEL,n[a]),t.utils.aria.setState(l,t.utils.aria.State.SELECTED,n[a]==i),l.style.backgroundColor=n[a],n[a]==i&&(l.className="blocklyColourSelected",this.highlightedIndex_=a)}return this.onClickWrapper_=t.bindEventWithChecks_(r,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=t.bindEventWithChecks_(r,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=t.bindEventWithChecks_(r,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=t.bindEventWithChecks_(r,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=t.bindEventWithChecks_(r,"keydown",this,this.onKeyDown_),r},t.FieldColour.prototype.dropdownDispose_=function(){t.unbindEvent_(this.onClickWrapper_),t.unbindEvent_(this.onMouseMoveWrapper_),t.unbindEvent_(this.onMouseEnterWrapper_),t.unbindEvent_(this.onMouseLeaveWrapper_),t.unbindEvent_(this.onKeyDownWrapper_),this.picker_=null},t.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),t.fieldRegistry.register("field_colour",t.FieldColour),t.FieldDropdown=function(e,n,o){"function"!=typeof e&&t.FieldDropdown.validateOptions_(e),this.menuGenerator_=e,this.generatedOptions_=null,this.selectedIndex_=0,this.trimOptions_(),e=this.getOptions(!1)[0],t.FieldDropdown.superClass_.constructor.call(this,e[1],n,o),this.selectedMenuItem_=this.imageElement_=null},t.utils.object.inherits(t.FieldDropdown,t.Field),t.FieldDropdown.fromJson=function(e){return new t.FieldDropdown(e.options,void 0,e)},t.FieldDropdown.prototype.SERIALIZABLE=!0,t.FieldDropdown.CHECKMARK_OVERHANG=25,t.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,t.FieldDropdown.IMAGE_Y_OFFSET=5,t.FieldDropdown.IMAGE_Y_PADDING=2*t.FieldDropdown.IMAGE_Y_OFFSET,t.FieldDropdown.ARROW_CHAR=t.utils.userAgent.ANDROID?"\u25bc":"\u25be",t.FieldDropdown.prototype.CURSOR="default",t.FieldDropdown.prototype.initView=function(){t.FieldDropdown.superClass_.initView.call(this),this.imageElement_=t.utils.dom.createSvgElement("image",{y:t.FieldDropdown.IMAGE_Y_OFFSET},this.fieldGroup_),this.arrow_=t.utils.dom.createSvgElement("tspan",{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?t.FieldDropdown.ARROW_CHAR+" ":" "+t.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},t.FieldDropdown.prototype.showEditor_=function(){this.menu_=this.dropdownCreate_(),this.menu_.render(t.DropDownDiv.getContentDiv()),t.utils.dom.addClass(this.menu_.getElement(),"blocklyDropdownMenu"),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&t.utils.style.scrollIntoContainerView(this.selectedMenuItem_.getElement(),this.menu_.getElement())},t.FieldDropdown.prototype.dropdownCreate_=function(){var e=new t.Menu;e.setRightToLeft(this.sourceBlock_.RTL),e.setRole("listbox");var n=this.getOptions(!1);this.selectedMenuItem_=null;for(var o=0;o<n.length;o++){var i=n[o][0],r=n[o][1];if("object"==typeof i){var s=new Image(i.width,i.height);s.src=i.src,s.alt=i.alt||"",i=s}(i=new t.MenuItem(i)).setRole("option"),i.setRightToLeft(this.sourceBlock_.RTL),i.setValue(r),i.setCheckable(!0),e.addChild(i,!0),i.setChecked(r==this.value_),r==this.value_&&(this.selectedMenuItem_=i),i.onAction(this.handleMenuActionEvent_,this)}return t.utils.aria.setState(e.getElement(),t.utils.aria.State.ACTIVEDESCENDANT,this.selectedMenuItem_?this.selectedMenuItem_.getId():""),e},t.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_.dispose(),this.menu_=null},t.FieldDropdown.prototype.handleMenuActionEvent_=function(e){t.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected(this.menu_,e)},t.FieldDropdown.prototype.onItemSelected=function(t,e){this.setValue(e.getValue())},t.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var e=this.menuGenerator_;if(Array.isArray(e)){for(var n=!1,o=0;o<e.length;o++){var i=e[o][0];"string"==typeof i?e[o][0]=t.utils.replaceMessageReferences(i):(null!=i.alt&&(e[o][0].alt=t.utils.replaceMessageReferences(i.alt)),n=!0)}if(!(n||2>e.length)){for(n=[],o=0;o<e.length;o++)n.push(e[o][0]);o=t.utils.string.shortestStringLength(n),i=t.utils.string.commonWordPrefix(n,o);var r=t.utils.string.commonWordSuffix(n,o);!i&&!r||o<=i+r||(i&&(this.prefixField=n[0].substring(0,i-1)),r&&(this.suffixField=n[0].substr(1-r)),this.menuGenerator_=t.FieldDropdown.applyTrim_(e,i,r))}}},t.FieldDropdown.applyTrim_=function(t,e,n){for(var o=[],i=0;i<t.length;i++){var r=t[i][0],s=t[i][1];r=r.substring(e,r.length-n),o[i]=[r,s]}return o},t.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},t.FieldDropdown.prototype.getOptions=function(e){return this.isOptionListDynamic()?(this.generatedOptions_&&e||(this.generatedOptions_=this.menuGenerator_.call(this),t.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},t.FieldDropdown.prototype.doClassValidation_=function(t){for(var e,n=!1,o=this.getOptions(!0),i=0;e=o[i];i++)if(e[1]==t){n=!0;break}return n?t:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+t),null)},t.FieldDropdown.prototype.doValueUpdate_=function(e){t.FieldDropdown.superClass_.doValueUpdate_.call(this,e),e=this.getOptions(!0);for(var n,o=0;n=e[o];o++)n[1]==this.value_&&(this.selectedIndex_=o)},t.FieldDropdown.prototype.updateColour=function(){this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.getColourShadow():this.arrow_.style.fill=this.sourceBlock_.getColour())},t.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var t=this.getOptions(!0);(t=0<=this.selectedIndex_&&t[this.selectedIndex_][0])&&"object"==typeof t?this.renderSelectedImage_(t):this.renderSelectedText_(),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("width",this.size_.width)},t.FieldDropdown.prototype.renderSelectedImage_=function(e){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",e.src),this.imageElement_.setAttribute("height",e.height),this.imageElement_.setAttribute("width",e.width);var n=t.utils.dom.getTextWidth(this.arrow_),o=Number(e.width);this.size_.height=Number(e.height)+t.FieldDropdown.IMAGE_Y_PADDING,this.size_.width=o+n+t.Field.X_PADDING,this.sourceBlock_.RTL?(e=t.Field.DEFAULT_TEXT_OFFSET-1,this.imageElement_.setAttribute("x",t.Field.DEFAULT_TEXT_OFFSET+n),this.textElement_.setAttribute("x",e)):(e=o+n+t.Field.DEFAULT_TEXT_OFFSET+1,this.textElement_.setAttribute("text-anchor","end"),this.textElement_.setAttribute("x",e),this.imageElement_.setAttribute("x",t.Field.DEFAULT_TEXT_OFFSET))},t.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),this.textElement_.setAttribute("text-anchor","start"),this.textElement_.setAttribute("x",t.Field.DEFAULT_TEXT_OFFSET),this.size_.height=t.Field.BORDER_RECT_DEFAULT_HEIGHT,this.size_.width=t.utils.dom.getTextWidth(this.textElement_)+t.Field.X_PADDING},t.FieldDropdown.prototype.getText_=function(){if(0>this.selectedIndex_)return null;var t=this.getOptions(!0)[this.selectedIndex_][0];return"object"==typeof t?t.alt:t},t.FieldDropdown.validateOptions_=function(t){if(!Array.isArray(t))throw TypeError("FieldDropdown options must be an array.");if(!t.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var e=!1,n=0;n<t.length;++n){var o=t[n];Array.isArray(o)?"string"!=typeof o[1]?(e=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+o[1]+" in: ",o)):o[0]&&"string"!=typeof o[0]&&"string"!=typeof o[0].src&&(e=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+o[0]+" in: ",o)):(e=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",o))}if(e)throw TypeError("Found invalid FieldDropdown options.")},t.FieldDropdown.prototype.onBlocklyAction=function(e){if(this.menu_){if(e===t.navigation.ACTION_PREVIOUS)return this.menu_.highlightPrevious(),!0;if(e===t.navigation.ACTION_NEXT)return this.menu_.highlightNext(),!0}return t.FieldDropdown.superClass_.onBlocklyAction.call(this,e)},t.fieldRegistry.register("field_dropdown",t.FieldDropdown),t.FieldImage=function(e,n,o,i,r,s,a){if(!e)throw Error("Src value of an image field is required");if(e=t.utils.replaceMessageReferences(e),o=Number(t.utils.replaceMessageReferences(o)),n=Number(t.utils.replaceMessageReferences(n)),isNaN(o)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=o||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",t.FieldImage.superClass_.constructor.call(this,e||"",null,a),a||(this.flipRtl_=!!s,this.altText_=t.utils.replaceMessageReferences(i)||""),this.size_=new t.utils.Size(n,o+t.FieldImage.Y_PADDING),this.imageHeight_=o,this.clickHandler_=null,"function"==typeof r&&(this.clickHandler_=r)},t.utils.object.inherits(t.FieldImage,t.Field),t.FieldImage.fromJson=function(e){return new t.FieldImage(e.src,e.width,e.height,void 0,void 0,void 0,e)},t.FieldImage.Y_PADDING=1,t.FieldImage.prototype.EDITABLE=!1,t.FieldImage.prototype.isDirty_=!1,t.FieldImage.prototype.configure_=function(e){t.FieldImage.superClass_.configure_.call(this,e),this.flipRtl_=!!e.flipRtl,this.altText_=t.utils.replaceMessageReferences(e.alt)||""},t.FieldImage.prototype.initView=function(){this.imageElement_=t.utils.dom.createSvgElement("image",{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.value_)},t.FieldImage.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:t},t.FieldImage.prototype.doValueUpdate_=function(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.value_||"")},t.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},t.FieldImage.prototype.setAlt=function(t){t!=this.altText_&&(this.altText_=t||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},t.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},t.FieldImage.prototype.setOnClickHandler=function(t){this.clickHandler_=t},t.FieldImage.prototype.getText_=function(){return this.altText_},t.fieldRegistry.register("field_image",t.FieldImage),t.FieldLabelSerializable=function(e,n,o){t.FieldLabelSerializable.superClass_.constructor.call(this,e,n,o)},t.utils.object.inherits(t.FieldLabelSerializable,t.FieldLabel),t.FieldLabelSerializable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabelSerializable(n,void 0,e)},t.FieldLabelSerializable.prototype.EDITABLE=!1,t.FieldLabelSerializable.prototype.SERIALIZABLE=!0,t.fieldRegistry.register("field_label_serializable",t.FieldLabelSerializable),t.FieldMultilineInput=function(e,n,o){null==e&&(e=""),t.FieldMultilineInput.superClass_.constructor.call(this,e,n,o)},t.utils.object.inherits(t.FieldMultilineInput,t.FieldTextInput),t.FieldMultilineInput.LINE_HEIGHT=20,t.FieldMultilineInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldMultilineInput(n,void 0,e)},t.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyEditableText"},this.fieldGroup_)},t.FieldMultilineInput.prototype.getDisplayText_=function(){var e=this.value_;if(!e)return t.Field.NBSP;var n=e.split("\n");e="";for(var o=0;o<n.length;o++){var i=n[o];i.length>this.maxDisplayLength&&(i=i.substring(0,this.maxDisplayLength-4)+"..."),e+=i=i.replace(/\s/g,t.Field.NBSP),o!==n.length-1&&(e+="\n")}return this.sourceBlock_.RTL&&(e+="\u200f"),e},t.FieldMultilineInput.prototype.render_=function(){for(var e;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");for(var n=t.Field.Y_PADDING/2,o=0,i=0;i<e.length;i++)t.utils.dom.createSvgElement("text",{class:"blocklyText blocklyMultilineText",x:t.Field.DEFAULT_TEXT_OFFSET,y:o+n,dy:t.FieldMultilineInput.LINE_HEIGHT/2},this.textGroup_).appendChild(document.createTextNode(e[i])),o+=t.FieldMultilineInput.LINE_HEIGHT;this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.isTextValid_?(t.utils.dom.removeClass(this.htmlInput_,"blocklyInvalidInput"),t.utils.aria.setState(this.htmlInput_,"invalid",!1)):(t.utils.dom.addClass(this.htmlInput_,"blocklyInvalidInput"),t.utils.aria.setState(this.htmlInput_,"invalid",!0)))},t.FieldMultilineInput.prototype.updateSize_=function(){for(var e=this.textGroup_.childNodes,n=0,o=0,i=0;i<e.length;i++){var r=t.utils.dom.getTextWidth(e[i]);r>n&&(n=r),o+=t.FieldMultilineInput.LINE_HEIGHT}this.borderRect_&&(n+=t.Field.X_PADDING,this.borderRect_.setAttribute("width",n),this.borderRect_.setAttribute("height",o)),this.size_.width=n,this.size_.height=o},t.FieldMultilineInput.prototype.resizeEditor_=function(){var e=t.WidgetDiv.DIV,n=this.getScaledBBox_();e.style.width=n.right-n.left+"px",e.style.height=n.bottom-n.top+"px",n=new t.utils.Coordinate(this.sourceBlock_.RTL?n.right-e.offsetWidth:n.left,n.top),e.style.left=n.x+"px",e.style.top=n.y+"px"},t.FieldMultilineInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV,n=this.workspace_.scale,o=document.createElement("textarea");o.className="blocklyHtmlInput blocklyHtmlTextAreaInput",o.setAttribute("spellcheck",this.spellcheck_);var i=t.FieldTextInput.FONTSIZE*n+"pt";return e.style.fontSize=i,o.style.fontSize=i,o.style.borderRadius=t.FieldTextInput.BORDERRADIUS*n+"px",i=t.Field.DEFAULT_TEXT_OFFSET*n,o.style.paddingLeft=i+"px",o.style.width="calc(100% - "+i+"px)",o.style.lineHeight=t.FieldMultilineInput.LINE_HEIGHT*n+"px",e.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.untypedDefaultValue_=this.value_,o.oldValue_=null,t.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(o),o},t.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode!==t.utils.KeyCodes.ENTER&&t.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,e)},t.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,}".split(",")),t.fieldRegistry.register("field_multilinetext",t.FieldMultilineInput),t.FieldNumber=function(e,n,o,i,r,s){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,t.FieldNumber.superClass_.constructor.call(this,e||0,r,s),s||this.setConstraints(n,o,i)},t.utils.object.inherits(t.FieldNumber,t.FieldTextInput),t.FieldNumber.fromJson=function(e){return new t.FieldNumber(e.value,void 0,void 0,void 0,void 0,e)},t.FieldNumber.prototype.SERIALIZABLE=!0,t.FieldNumber.prototype.configure_=function(e){t.FieldNumber.superClass_.configure_.call(this,e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)},t.FieldNumber.prototype.setConstraints=function(t,e,n){this.setMinInternal_(t),this.setMaxInternal_(e),this.setPrecisionInternal_(n),this.setValue(this.getValue())},t.FieldNumber.prototype.setMin=function(t){this.setMinInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setMinInternal_=function(t){null==t?this.min_=-1/0:(t=Number(t),isNaN(t)||(this.min_=t))},t.FieldNumber.prototype.getMin=function(){return this.min_},t.FieldNumber.prototype.setMax=function(t){this.setMaxInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setMaxInternal_=function(t){null==t?this.max_=1/0:(t=Number(t),isNaN(t)||(this.max_=t))},t.FieldNumber.prototype.getMax=function(){return this.max_},t.FieldNumber.prototype.setPrecision=function(t){this.setPrecisionInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setPrecisionInternal_=function(t){null==t?this.precision_=0:(t=Number(t),isNaN(t)||(this.precision_=t));var e=this.precision_.toString(),n=e.indexOf(".");this.decimalPlaces_=-1==n?t?0:null:e.length-n-1},t.FieldNumber.prototype.getPrecision=function(){return this.precision_},t.FieldNumber.prototype.doClassValidation_=function(t){return null===t?null:(t=(t=(t=String(t)).replace(/O/gi,"0")).replace(/,/g,""),t=Number(t||0),isNaN(t)?null:(t=Math.min(Math.max(t,this.min_),this.max_),this.precision_&&isFinite(t)&&(t=Math.round(t/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(t=Number(t.toFixed(this.decimalPlaces_))),t))},t.FieldNumber.prototype.widgetCreate_=function(){var e=t.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMAX,this.max_),e},t.fieldRegistry.register("field_number",t.FieldNumber),t.FieldVariable=function(e,n,o,i,r){this.menuGenerator_=t.FieldVariable.dropdownCreate,this.defaultVariableName=e||"",this.size_=new t.utils.Size(0,t.BlockSvg.MIN_BLOCK_Y),r&&this.configure_(r),n&&this.setValidator(n),r||this.setTypes_(o,i)},t.utils.object.inherits(t.FieldVariable,t.FieldDropdown),t.FieldVariable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.variable);return new t.FieldVariable(n,void 0,void 0,void 0,e)},t.FieldVariable.prototype.workspace_=null,t.FieldVariable.prototype.SERIALIZABLE=!0,t.FieldVariable.prototype.configure_=function(e){t.FieldVariable.superClass_.configure_.call(this,e),this.setTypes_(e.variableTypes,e.defaultType)},t.FieldVariable.prototype.initModel=function(){if(!this.variable_){var e=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);t.Events.disable(),this.setValue(e.getId()),t.Events.enable()}},t.FieldVariable.prototype.fromXml=function(e){var n=e.getAttribute("id"),o=e.textContent,i=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(n=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,n,o,i),null!=i&&i!==n.type)throw Error("Serialized variable type with id '"+n.getId()+"' had type "+n.type+", and does not match variable field that references it: "+t.Xml.domToText(e)+".");this.setValue(n.getId())},t.FieldVariable.prototype.toXml=function(t){return this.initModel(),t.id=this.variable_.getId(),t.textContent=this.variable_.name,this.variable_.type&&t.setAttribute("variabletype",this.variable_.type),t},t.FieldVariable.prototype.setSourceBlock=function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");t.FieldVariable.superClass_.setSourceBlock.call(this,e)},t.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},t.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},t.FieldVariable.prototype.getVariable=function(){return this.variable_},t.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},t.FieldVariable.prototype.doClassValidation_=function(e){if(null===e)return null;var n=t.Variables.getVariable(this.sourceBlock_.workspace,e);return n?(n=n.type,this.typeIsAllowed_(n)?e:(console.warn("Variable type doesn't match this field!  Type was "+n),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)},t.FieldVariable.prototype.doValueUpdate_=function(e){this.variable_=t.Variables.getVariable(this.sourceBlock_.workspace,e),t.FieldVariable.superClass_.doValueUpdate_.call(this,e)},t.FieldVariable.prototype.typeIsAllowed_=function(t){var e=this.getVariableTypes_();if(!e)return!0;for(var n=0;n<e.length;n++)if(t==e[n])return!0;return!1},t.FieldVariable.prototype.getVariableTypes_=function(){var t=this.variableTypes;if(null===t&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0==(t=t||[""]).length)throw t=this.getText(),Error("'variableTypes' of field variable "+t+" was an empty list");return t},t.FieldVariable.prototype.setTypes_=function(t,e){var n=e||"";if(null==t||void 0==t)var o=null;else{if(!Array.isArray(t))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");o=t;for(var i=!1,r=0;r<o.length;r++)o[r]==n&&(i=!0);if(!i)throw Error("Invalid default type '"+n+"' in the definition of a FieldVariable")}this.defaultType_=n,this.variableTypes=o},t.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},t.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var e=this.getText(),n=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var o=this.getVariableTypes_(),i=0;i<o.length;i++){var r=this.sourceBlock_.workspace.getVariablesOfType(o[i]);n=n.concat(r)}for(n.sort(t.VariableModel.compareByName),o=[],i=0;i<n.length;i++)o[i]=[n[i].name,n[i].getId()];return o.push([t.Msg.RENAME_VARIABLE,t.RENAME_VARIABLE_ID]),t.Msg.DELETE_VARIABLE&&o.push([t.Msg.DELETE_VARIABLE.replace("%1",e),t.DELETE_VARIABLE_ID]),o},t.FieldVariable.prototype.onItemSelected=function(e,n){var o=n.getValue();if(this.sourceBlock_&&this.sourceBlock_.workspace){if(o==t.RENAME_VARIABLE_ID)return void t.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(o==t.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(o)},t.FieldVariable.prototype.referencesVariables=function(){return!0},t.fieldRegistry.register("field_variable",t.FieldVariable),t.FlyoutCursor=function(){t.FlyoutCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.FlyoutCursor,t.Cursor),t.FlyoutCursor.prototype.next=function(){var t=this.getCurNode();return t?((t=t.next())&&this.setCurNode(t),t):null},t.FlyoutCursor.prototype.in=function(){return null},t.FlyoutCursor.prototype.prev=function(){var t=this.getCurNode();return t?((t=t.prev())&&this.setCurNode(t),t):null},t.FlyoutCursor.prototype.out=function(){return null},t.Flyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new t.WorkspaceSvg(e),this.workspace_.isFlyout=!0,this.workspace_.setCursor(new t.FlyoutCursor),this.workspace_.setMarker(new t.MarkerCursor),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH},t.Flyout.prototype.autoClose=!0,t.Flyout.prototype.isVisible_=!1,t.Flyout.prototype.containerVisible_=!0,t.Flyout.prototype.CORNER_RADIUS=8,t.Flyout.prototype.MARGIN=t.Flyout.prototype.CORNER_RADIUS,t.Flyout.prototype.GAP_X=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.GAP_Y=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.SCROLLBAR_PADDING=2,t.Flyout.prototype.width_=0,t.Flyout.prototype.height_=0,t.Flyout.prototype.dragAngleRange_=70,t.Flyout.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=t.utils.dom.createSvgElement("path",{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyout","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},t.Flyout.prototype.init=function(e){this.targetWorkspace_=e,this.workspace_.targetWorkspace=e,this.scrollbar_=new t.Scrollbar(this.workspace_,this.horizontalLayout_,!1,"blocklyFlyoutScrollbar"),this.hide(),Array.prototype.push.apply(this.eventWrappers_,t.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,t.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace_.getGesture.bind(this.targetWorkspace_),this.workspace_.variableMap_=this.targetWorkspace_.getVariableMap(),this.workspace_.createPotentialVariableMap()},t.Flyout.prototype.dispose=function(){this.hide(),t.unbindEvent_(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace_=this.svgBackground_=null},t.Flyout.prototype.getWidth=function(){return this.width_},t.Flyout.prototype.getHeight=function(){return this.height_},t.Flyout.prototype.getWorkspace=function(){return this.workspace_},t.Flyout.prototype.isVisible=function(){return this.isVisible_},t.Flyout.prototype.setVisible=function(t){var e=t!=this.isVisible();this.isVisible_=t,e&&this.updateDisplay_()},t.Flyout.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},t.Flyout.prototype.updateDisplay_=function(){var t=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=t?"block":"none",this.scrollbar_.setContainerVisible(t)},t.Flyout.prototype.positionAt_=function(e,n,o,i){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",n),"svg"==this.svgGroup_.tagName?t.utils.dom.setCssTransform(this.svgGroup_,"translate("+o+"px,"+i+"px)"):this.svgGroup_.setAttribute("transform","translate("+o+","+i+")"),this.scrollbar_&&(this.scrollbar_.setOrigin(o,i),this.scrollbar_.resize(),this.scrollbar_.setPosition_(this.scrollbar_.position_.x,this.scrollbar_.position_.y))},t.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var e,n=0;e=this.listeners_[n];n++)t.unbindEvent_(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},t.Flyout.prototype.show=function(e){if(this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(e=e(this.workspace_.targetWorkspace),!Array.isArray(e))throw TypeError("Result of toolbox category callback must be an array.")}this.setVisible(!0);var n=[],o=[];this.permanentlyDisabled_.length=0;for(var i,r=this.horizontalLayout_?this.GAP_X:this.GAP_Y,s=0;i=e[s];s++)if(i.tagName)switch(i.tagName.toUpperCase()){case"BLOCK":var a=t.Xml.domToBlock(i,this.workspace_);a.isEnabled()||this.permanentlyDisabled_.push(a),n.push({type:"block",block:a}),i=parseInt(i.getAttribute("gap"),10),o.push(isNaN(i)?r:i);break;case"SEP":i=parseInt(i.getAttribute("gap"),10),!isNaN(i)&&0<o.length?o[o.length-1]=i:o.push(r);break;case"LABEL":case"BUTTON":if(a="LABEL"==i.tagName.toUpperCase(),!t.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");i=new t.FlyoutButton(this.workspace_,this.targetWorkspace_,i,a),n.push({type:"button",button:i}),o.push(r)}this.layout_(n,o),this.listeners_.push(t.bindEventWithChecks_(this.svgBackground_,"mouseover",this,(function(){for(var t,e=this.workspace_.getTopBlocks(!1),n=0;t=e[n];n++)t.removeSelect()}))),this.horizontalLayout_?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.clearOldBlocks_=function(){for(var e,n=this.workspace_.getTopBlocks(!1),o=0;e=n[o];o++)e.workspace==this.workspace_&&e.dispose(!1,!1);for(o=0;o<this.mats_.length;o++)(n=this.mats_[o])&&t.utils.dom.removeNode(n);for(o=this.mats_.length=0;n=this.buttons_[o];o++)n.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},t.Flyout.prototype.addBlockListeners_=function(e,n,o){this.listeners_.push(t.bindEventWithChecks_(e,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.bindEventWithChecks_(o,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.bindEvent_(e,"mouseover",n,n.addSelect)),this.listeners_.push(t.bindEvent_(e,"mouseout",n,n.removeSelect)),this.listeners_.push(t.bindEvent_(o,"mouseover",n,n.addSelect)),this.listeners_.push(t.bindEvent_(o,"mouseout",n,n.removeSelect))},t.Flyout.prototype.blockMouseDown_=function(t){var e=this;return function(n){var o=e.targetWorkspace_.getGesture(n);o&&(o.setStartBlock(t),o.handleFlyoutStart(n,e))}},t.Flyout.prototype.onMouseDown_=function(t){var e=this.targetWorkspace_.getGesture(t);e&&e.handleFlyoutStart(t,this)},t.Flyout.prototype.isBlockCreatable_=function(t){return t.isEnabled()},t.Flyout.prototype.createBlock=function(e){var n=null;t.Events.disable();var o=this.targetWorkspace_.getAllVariables();this.targetWorkspace_.setResizesEnabled(!1);try{n=this.placeNewBlock_(e),t.hideChaff()}finally{t.Events.enable()}if(e=t.Variables.getAddedVariables(this.targetWorkspace_,o),t.Events.isEnabled())for(t.Events.setGroup(!0),t.Events.fire(new t.Events.Create(n)),o=0;o<e.length;o++)t.Events.fire(new t.Events.VarCreate(e[o]));return this.autoClose?this.hide():this.filterForCapacity_(),n},t.Flyout.prototype.initFlyoutButton_=function(e,n,o){var i=e.createDom();e.moveTo(n,o),e.show(),this.listeners_.push(t.bindEventWithChecks_(i,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},t.Flyout.prototype.createRect_=function(e,n,o,i,r){return(n=t.utils.dom.createSvgElement("rect",{"fill-opacity":0,x:n,y:o,height:i.height,width:i.width},null)).tooltip=e,t.Tooltip.bindMouseEvents(n),this.workspace_.getCanvas().insertBefore(n,e.getSvgRoot()),e.flyoutRect_=n,this.mats_[r]=n},t.Flyout.prototype.moveRectToBlock_=function(t,e){var n=e.getHeightWidth();t.setAttribute("width",n.width),t.setAttribute("height",n.height);var o=e.getRelativeToSurfaceXY();t.setAttribute("y",o.y),t.setAttribute("x",this.RTL?o.x-n.width:o.x)},t.Flyout.prototype.filterForCapacity_=function(){for(var e,n=this.workspace_.getTopBlocks(!1),o=0;e=n[o];o++)if(-1==this.permanentlyDisabled_.indexOf(e))for(var i=this.targetWorkspace_.isCapacityAvailable(t.utils.getBlockTypeCounts(e));e;)e.setEnabled(i),e=e.getNextBlock()},t.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.isScrollable=function(){return!!this.scrollbar_&&this.scrollbar_.isVisible()},t.Flyout.prototype.placeNewBlock_=function(e){var n=this.targetWorkspace_;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");var o=t.Xml.blockToDom(e,!0);if(n.setResizesEnabled(!1),!(o=t.Xml.domToBlock(o,n)).getSvgRoot())throw Error("block is not rendered.");var i=n.getOriginOffsetInPixels(),r=this.workspace_.getOriginOffsetInPixels();return(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),e=t.utils.Coordinate.sum(r,e),(i=t.utils.Coordinate.difference(e,i)).scale(1/n.scale),o.moveBy(i.x,i.y),o},t.FlyoutButton=function(e,n,o,i){this.workspace_=e,this.targetWorkspace_=n,this.text_=o.getAttribute("text"),this.position_=new t.utils.Coordinate(0,0),this.isLabel_=i,this.callbackKey_=o.getAttribute("callbackKey")||o.getAttribute("callbackkey"),this.cssClass_=o.getAttribute("web-class")||null},t.FlyoutButton.MARGIN=5,t.FlyoutButton.prototype.width=0,t.FlyoutButton.prototype.height=0,t.FlyoutButton.prototype.onMouseUpWrapper_=null,t.FlyoutButton.prototype.createDom=function(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=t.utils.dom.createSvgElement("g",{class:e},this.workspace_.getCanvas()),!this.isLabel_)var n=t.utils.dom.createSvgElement("rect",{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);e=t.utils.dom.createSvgElement("rect",{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var o=t.utils.dom.createSvgElement("text",{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);return o.textContent=t.utils.replaceMessageReferences(this.text_),this.isLabel_&&(this.svgText_=o,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutText","fill")),this.width=t.utils.dom.getTextWidth(o),this.height=20,this.isLabel_||(this.width+=2*t.FlyoutButton.MARGIN,n.setAttribute("width",this.width),n.setAttribute("height",this.height)),e.setAttribute("width",this.width),e.setAttribute("height",this.height),o.setAttribute("x",this.width/2),o.setAttribute("y",this.height-t.FlyoutButton.MARGIN),this.updateTransform_(),this.onMouseUpWrapper_=t.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},t.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},t.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},t.FlyoutButton.prototype.moveTo=function(t,e){this.position_.x=t,this.position_.y=e,this.updateTransform_()},t.FlyoutButton.prototype.getPosition=function(){return this.position_},t.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},t.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&t.unbindEvent_(this.onMouseUpWrapper_),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},t.FlyoutButton.prototype.onMouseUp_=function(t){(t=this.targetWorkspace_.getGesture(t))&&t.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},t.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,},.blocklyFlyoutLabelText {,fill: #000;,}".split(",")),t.HorizontalFlyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),t.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout_=!0},t.utils.object.inherits(t.HorizontalFlyout,t.Flyout),t.HorizontalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var e=this.workspace_.getCanvas().getBBox()}catch(r){e={height:0,y:0,width:0,x:0}}var n=this.SCROLLBAR_PADDING,o=this.SCROLLBAR_PADDING;this.toolboxPosition_==t.TOOLBOX_AT_BOTTOM&&(n=0);var i=this.height_;return this.toolboxPosition_==t.TOOLBOX_AT_TOP&&(i-=this.SCROLLBAR_PADDING),{viewHeight:i,viewWidth:this.width_-2*this.SCROLLBAR_PADDING,contentHeight:(e.height+2*this.MARGIN)*this.workspace_.scale,contentWidth:(e.width+2*this.MARGIN)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,contentTop:0,contentLeft:0,absoluteTop:n,absoluteLeft:o}},t.HorizontalFlyout.prototype.setMetrics_=function(t){var e=this.getMetrics_();e&&("number"==typeof t.x&&(this.workspace_.scrollX=-e.contentWidth*t.x),this.workspace_.translate(this.workspace_.scrollX+e.absoluteLeft,this.workspace_.scrollY+e.absoluteTop))},t.HorizontalFlyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace_.getMetrics();e&&(this.width_=e.viewWidth,this.setBackgroundPath_(e.viewWidth-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,0,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?e.toolboxHeight?this.toolboxPosition_==t.TOOLBOX_AT_TOP?e.toolboxHeight:e.viewHeight-this.height_:this.toolboxPosition_==t.TOOLBOX_AT_TOP?0:e.viewHeight:this.toolboxPosition_==t.TOOLBOX_AT_TOP?0:e.viewHeight+e.absoluteTop-this.height_))}},t.HorizontalFlyout.prototype.setBackgroundPath_=function(e,n){var o=this.toolboxPosition_==t.TOOLBOX_AT_TOP,i=["M 0,"+(o?0:this.CORNER_RADIUS)];o?(i.push("h",e+2*this.CORNER_RADIUS),i.push("v",n),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",-1*e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),i.push("h",e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",n),i.push("h",-e-2*this.CORNER_RADIUS)),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},t.HorizontalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(this.RTL?1/0:0)},t.HorizontalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e),o=n.x||n.y;o&&(o=(n=this.getMetrics_()).viewLeft+o,o=Math.min(o,n.contentWidth-n.viewWidth),o=Math.max(o,0),this.scrollbar_.set(o),t.WidgetDiv.hide()),e.preventDefault(),e.stopPropagation()},t.HorizontalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace_.scale;var n=this.MARGIN,o=n+this.tabWidth_;this.RTL&&(t=t.reverse());for(var i,r=0;i=t[r];r++)if("block"==i.type){for(var s,a=(i=i.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;i.render(),a=i.getSvgRoot(),l=i.getHeightWidth(),s=i.outputConnection?this.tabWidth_:0,s=this.RTL?o+l.width:o-s,i.moveBy(s,n),s=this.createRect_(i,s,n,l,r),o+=l.width+e[r],this.addBlockListeners_(a,i,s)}else"button"==i.type&&(this.initFlyoutButton_(i.button,o,n),o+=i.button.width+e[r])},t.HorizontalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<90+e&&t>90-e||t>-90-e&&t<-90+e},t.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top;return this.toolboxPosition_==t.TOOLBOX_AT_TOP?new t.utils.Rect(-1e9,n+e.height,-1e9,1e9):new t.utils.Rect(n,-1e9,-1e9,1e9)},t.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var e,n=0,o=this.workspace_.getTopBlocks(!1),i=0;e=o[i];i++)n=Math.max(n,e.getHeightWidth().height);if(n+=1.5*this.MARGIN,n*=this.workspace_.scale,n+=t.Scrollbar.scrollbarThickness,this.height_!=n){for(i=0;e=o[i];i++)e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e);this.height_=n,this.position()}},t.VerticalFlyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),t.VerticalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout_=!1},t.utils.object.inherits(t.VerticalFlyout,t.Flyout),t.VerticalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var t=this.workspace_.getCanvas().getBBox()}catch(i){t={height:0,y:0,width:0,x:0}}var e=this.SCROLLBAR_PADDING,n=this.height_-2*this.SCROLLBAR_PADDING,o=this.width_;return this.RTL||(o-=this.SCROLLBAR_PADDING),{viewHeight:n,viewWidth:o,contentHeight:t.height*this.workspace_.scale+2*this.MARGIN,contentWidth:t.width*this.workspace_.scale+2*this.MARGIN,viewTop:-this.workspace_.scrollY+t.y,viewLeft:-this.workspace_.scrollX,contentTop:t.y,contentLeft:t.x,absoluteTop:e,absoluteLeft:0}},t.VerticalFlyout.prototype.setMetrics_=function(t){var e=this.getMetrics_();e&&("number"==typeof t.y&&(this.workspace_.scrollY=-e.contentHeight*t.y),this.workspace_.translate(this.workspace_.scrollX+e.absoluteLeft,this.workspace_.scrollY+e.absoluteTop))},t.VerticalFlyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace_.getMetrics();e&&(this.height_=e.viewHeight,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.viewHeight-2*this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?e.toolboxWidth?this.toolboxPosition_==t.TOOLBOX_AT_LEFT?e.toolboxWidth:e.viewWidth-this.width_:this.toolboxPosition_==t.TOOLBOX_AT_LEFT?0:e.viewWidth:this.toolboxPosition_==t.TOOLBOX_AT_LEFT?0:e.viewWidth+e.absoluteLeft-this.width_,0))}},t.VerticalFlyout.prototype.setBackgroundPath_=function(e,n){var o=this.toolboxPosition_==t.TOOLBOX_AT_RIGHT,i=e+this.CORNER_RADIUS;(i=["M "+(o?i:0)+",0"]).push("h",o?-e:e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",Math.max(0,n)),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",o?e:-e),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},t.VerticalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(0)},t.VerticalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e);if(n.y){var o=this.getMetrics_();n=o.viewTop-o.contentTop+n.y,n=Math.min(n,o.contentHeight-o.viewHeight),n=Math.max(n,0),this.scrollbar_.set(n),t.WidgetDiv.hide()}e.preventDefault(),e.stopPropagation()},t.VerticalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace_.scale;for(var n,o=this.MARGIN,i=this.RTL?o:o+this.tabWidth_,r=0;n=t[r];r++)if("block"==n.type){for(var s,a=(n=n.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;n.render(),a=n.getSvgRoot(),l=n.getHeightWidth(),s=n.outputConnection?i-this.tabWidth_:i,n.moveBy(s,o),s=this.createRect_(n,this.RTL?s-l.width:s,o,l,r),this.addBlockListeners_(a,n,s),o+=l.height+e[r]}else"button"==n.type&&(this.initFlyoutButton_(n.button,i,o),o+=n.button.height+e[r])},t.VerticalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<e&&t>-e||t<-180+e||t>180-e},t.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.left;return this.toolboxPosition_==t.TOOLBOX_AT_LEFT?new t.utils.Rect(-1e9,1e9,-1e9,n+e.width):(t.utils.userAgent.GECKO&&this.targetWorkspace_&&this.targetWorkspace_.isMutator&&(e=this.targetWorkspace_.svgGroup_.getBoundingClientRect().x,10>Math.abs(e-n)&&(n+=this.leftEdge_*this.targetWorkspace_.options.parentWorkspace.scale)),new t.utils.Rect(-1e9,1e9,n,1e9))},t.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var e,n=0,o=this.workspace_.getTopBlocks(!1),i=0;e=o[i];i++){var r=e.getHeightWidth().width;e.outputConnection&&(r-=this.tabWidth_),n=Math.max(n,r)}for(i=0;e=this.buttons_[i];i++)n=Math.max(n,e.width);if(n+=1.5*this.MARGIN+this.tabWidth_,n*=this.workspace_.scale,n+=t.Scrollbar.scrollbarThickness,this.width_!=n){for(i=0;e=o[i];i++){if(this.RTL){r=e.getRelativeToSurfaceXY().x;var s=n/this.workspace_.scale-this.MARGIN;e.outputConnection||(s-=this.tabWidth_),e.moveBy(s-r,0)}e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e)}if(this.RTL)for(i=0;e=this.buttons_[i];i++)o=e.getPosition().y,e.moveTo(n/this.workspace_.scale-e.width-this.MARGIN-this.tabWidth_,o);this.width_=n,this.position()}},t.Generator=function(t){this.name_=t,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},t.Generator.NAME_TYPE="generated_function",t.Generator.prototype.INFINITE_LOOP_TRAP=null,t.Generator.prototype.STATEMENT_PREFIX=null,t.Generator.prototype.STATEMENT_SUFFIX=null,t.Generator.prototype.INDENT="  ",t.Generator.prototype.COMMENT_WRAP=60,t.Generator.prototype.ORDER_OVERRIDES=[],t.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=t.getMainWorkspace());var n=[];this.init(e),e=e.getTopBlocks(!0);for(var o,i=0;o=e[i];i++){var r=this.blockToCode(o);Array.isArray(r)&&(r=r[0]),r&&(o.outputConnection&&(r=this.scrubNakedValue(r),this.STATEMENT_PREFIX&&!o.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,o)+r),this.STATEMENT_SUFFIX&&!o.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,o))),n.push(r))}return n=n.join("\n"),(n=(n=(n=this.finish(n)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},t.Generator.prototype.prefixLines=function(t,e){return e+t.replace(/(?!\n$)\n/g,"\n"+e)},t.Generator.prototype.allNestedComments=function(t){var e=[];t=t.getDescendants(!0);for(var n=0;n<t.length;n++){var o=t[n].getCommentText();o&&e.push(o)}return e.length&&e.push(""),e.join("\n")},t.Generator.prototype.blockToCode=function(t,e){if(!t)return"";if(!t.isEnabled())return e?"":this.blockToCode(t.getNextBlock());var n=this[t.type];if("function"!=typeof n)throw Error('Language "'+this.name_+'" does not know how to generate  code for block type "'+t.type+'".');if(n=n.call(t,t),Array.isArray(n)){if(!t.outputConnection)throw TypeError("Expecting string from statement block: "+t.type);return[this.scrub_(t,n[0],e),n[1]]}if("string"==typeof n)return this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,t)+n),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,t)),this.scrub_(t,n,e);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)},t.Generator.prototype.valueToCode=function(t,e,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+t.type);var o=t.getInputTargetBlock(e);if(!o)return"";if(""===(e=this.blockToCode(o)))return"";if(!Array.isArray(e))throw TypeError("Expecting tuple from value block: "+o.type);if(t=e[0],e=e[1],isNaN(e))throw TypeError("Expecting valid order from value block: "+o.type);if(!t)return"";o=!1;var i=Math.floor(n),r=Math.floor(e);if(i<=r&&(i!=r||0!=i&&99!=i))for(o=!0,i=0;i<this.ORDER_OVERRIDES.length;i++)if(this.ORDER_OVERRIDES[i][0]==n&&this.ORDER_OVERRIDES[i][1]==e){o=!1;break}return o&&(t="("+t+")"),t},t.Generator.prototype.statementToCode=function(t,e){var n=t.getInputTargetBlock(e),o=this.blockToCode(n);if("string"!=typeof o)throw TypeError("Expecting code from statement block: "+(n&&n.type));return o&&(o=this.prefixLines(o,this.INDENT)),o},t.Generator.prototype.addLoopTrap=function(t,e){return this.INFINITE_LOOP_TRAP&&(t=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,e),this.INDENT)+t),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(t=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,e),this.INDENT)+t),this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(t+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,e),this.INDENT)),t},t.Generator.prototype.injectId=function(t,e){var n=e.id.replace(/\$/g,"$$$$");return t.replace(/%1/g,"'"+n+"'")},t.Generator.prototype.RESERVED_WORDS_="",t.Generator.prototype.addReservedWords=function(t){this.RESERVED_WORDS_+=t+","},t.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",t.Generator.prototype.provideFunction_=function(e,n){if(!this.definitions_[e]){var o,i=this.variableDB_.getDistinctName(e,t.Procedures.NAME_TYPE);for(this.functionNames_[e]=i,i=n.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,i);o!=i;)o=i,i=i.replace(/^(( {2})*) {2}/gm,"$1\0");i=i.replace(/\0/g,this.INDENT),this.definitions_[e]=i}return this.functionNames_[e]},t.Generator.prototype.init=function(t){},t.Generator.prototype.scrub_=function(t,e){return e},t.Generator.prototype.finish=function(t){return t},t.Generator.prototype.scrubNakedValue=function(t){return t},t.CursorSvg=function(t,e){this.workspace_=t,this.isMarker_=e,this.parent_=null,this.constants_=t.getRenderer().getConstants()},t.CursorSvg.CURSOR_HEIGHT=5,t.CursorSvg.CURSOR_WIDTH=100,t.CursorSvg.NOTCH_START_LENGTH=24,t.CursorSvg.VERTICAL_PADDING=5,t.CursorSvg.STACK_PADDING=10,t.CursorSvg.BLOCK_PADDING=2,t.CursorSvg.HEIGHT_MULTIPLIER=.75,t.CursorSvg.CURSOR_COLOR="#cc0a0a",t.CursorSvg.MARKER_COLOR="#4286f4",t.CursorSvg.CURSOR_CLASS="blocklyCursor",t.CursorSvg.MARKER_CLASS="blocklyMarker",t.CursorSvg.prototype.currentCursorSvg=null,t.CursorSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.CursorSvg.prototype.createDom=function(){return this.svgGroup_=t.utils.dom.createSvgElement("g",{class:this.isMarker_?t.CursorSvg.MARKER_CLASS:t.CursorSvg.CURSOR_CLASS},null),this.createCursorSvg_(),this.svgGroup_},t.CursorSvg.prototype.setParent_=function(t){this.isMarker_?(this.parent_&&this.parent_.setMarkerSvg(null),t.setMarkerSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setCursorSvg(null),t.setCursorSvg(this.getSvgRoot())),this.parent_=t},t.CursorSvg.prototype.showWithBlockPrevOutput_=function(e){if(e){var n=e.width,o=e.height,i=o*t.CursorSvg.HEIGHT_MULTIPLIER,r=t.CursorSvg.BLOCK_PADDING;e.previousConnection?this.positionPrevious_(n,r,i):e.outputConnection?this.positionOutput_(n,o):this.positionBlock_(n,r,i),this.setParent_(e),this.showCurrent_()}},t.CursorSvg.prototype.showWithCoordinates_=function(e){var n=e.getWsCoordinate();e=n.x,n=n.y,this.workspace_.RTL&&(e-=t.CursorSvg.CURSOR_WIDTH),this.positionLine_(e,n,t.CursorSvg.CURSOR_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},t.CursorSvg.prototype.showWithField_=function(t){var e=(t=t.getLocation()).getSize().width,n=t.getSize().height;this.positionRect_(0,0,e,n),this.setParent_(t),this.showCurrent_()},t.CursorSvg.prototype.showWithInput_=function(t){var e=(t=t.getLocation()).getSourceBlock();this.positionInput_(t),this.setParent_(e),this.showCurrent_()},t.CursorSvg.prototype.showWithNext_=function(t){var e=t.getLocation();t=e.getSourceBlock();var n=0;e=e.getOffsetInBlock().y;var o=t.getHeightWidth().width;this.workspace_.RTL&&(n=-o),this.positionLine_(n,e,o),this.setParent_(t),this.showCurrent_()},t.CursorSvg.prototype.showWithStack_=function(e){var n=(e=e.getLocation()).getHeightWidth(),o=n.width+t.CursorSvg.STACK_PADDING;n=n.height+t.CursorSvg.STACK_PADDING;var i=-1*t.CursorSvg.STACK_PADDING/2,r=-1*t.CursorSvg.STACK_PADDING/2,s=i;this.workspace_.RTL&&(s=-(o+i)),this.positionRect_(s,r,o,n),this.setParent_(e),this.showCurrent_()},t.CursorSvg.prototype.showCurrent_=function(){this.hide(),this.currentCursorSvg.style.display=""},t.CursorSvg.prototype.positionBlock_=function(e,n,o){e=t.utils.svgPaths.moveBy(-1*n,o)+t.utils.svgPaths.lineOnAxis("V",-1*n)+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",o),this.cursorBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.cursorBlock_),this.currentCursorSvg=this.cursorBlock_},t.CursorSvg.prototype.positionInput_=function(e){var n=e.getOffsetInBlock().x;e=e.getOffsetInBlock().y;var o=t.utils.svgPaths.moveTo(0,0)+this.constants_.PUZZLE_TAB.pathDown;this.cursorInput_.setAttribute("d",o),this.cursorInput_.setAttribute("transform","translate("+n+","+e+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentCursorSvg=this.cursorInput_},t.CursorSvg.prototype.positionLine_=function(t,e,n){this.cursorSvgLine_.setAttribute("x",t),this.cursorSvgLine_.setAttribute("y",e),this.cursorSvgLine_.setAttribute("width",n),this.currentCursorSvg=this.cursorSvgLine_},t.CursorSvg.prototype.positionOutput_=function(e,n){var o=t.utils.svgPaths.moveBy(e,0)+t.utils.svgPaths.lineOnAxis("h",-1*(e-this.constants_.PUZZLE_TAB.width))+t.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+this.constants_.PUZZLE_TAB.pathDown+t.utils.svgPaths.lineOnAxis("V",n)+t.utils.svgPaths.lineOnAxis("H",e);this.cursorBlock_.setAttribute("d",o),this.workspace_.RTL&&this.flipRtl_(this.cursorBlock_),this.currentCursorSvg=this.cursorBlock_},t.CursorSvg.prototype.positionPrevious_=function(e,n,o){e=t.utils.svgPaths.moveBy(-1*n,o)+t.utils.svgPaths.lineOnAxis("V",-1*n)+t.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+this.constants_.NOTCH.pathLeft+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",o),this.cursorBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.cursorBlock_),this.currentCursorSvg=this.cursorBlock_},t.CursorSvg.prototype.positionRect_=function(t,e,n,o){this.cursorSvgRect_.setAttribute("x",t),this.cursorSvgRect_.setAttribute("y",e),this.cursorSvgRect_.setAttribute("width",n),this.cursorSvgRect_.setAttribute("height",o),this.currentCursorSvg=this.cursorSvgRect_},t.CursorSvg.prototype.flipRtl_=function(t){t.setAttribute("transform","scale(-1 1)")},t.CursorSvg.prototype.hide=function(){this.cursorSvgLine_.style.display="none",this.cursorSvgRect_.style.display="none",this.cursorInput_.style.display="none",this.cursorBlock_.style.display="none"},t.CursorSvg.prototype.draw=function(e){e?e.getType()===t.ASTNode.types.BLOCK?(e=e.getLocation(),this.showWithBlockPrevOutput_(e)):e.getType()===t.ASTNode.types.OUTPUT?(e=e.getLocation().getSourceBlock(),this.showWithBlockPrevOutput_(e)):e.getLocation().type===t.INPUT_VALUE?this.showWithInput_(e):e.getLocation().type===t.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===t.ASTNode.types.PREVIOUS?(e=e.getLocation().getSourceBlock(),this.showWithBlockPrevOutput_(e)):e.getType()===t.ASTNode.types.FIELD?this.showWithField_(e):e.getType()===t.ASTNode.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===t.ASTNode.types.STACK&&this.showWithStack_(e):this.hide()},t.CursorSvg.prototype.createCursorSvg_=function(){var e=this.isMarker_?t.CursorSvg.MARKER_COLOR:t.CursorSvg.CURSOR_COLOR;return this.cursorSvg_=t.utils.dom.createSvgElement("g",{width:t.CursorSvg.CURSOR_WIDTH,height:t.CursorSvg.CURSOR_HEIGHT},this.svgGroup_),this.cursorSvgLine_=t.utils.dom.createSvgElement("rect",{x:"0",y:"0",fill:e,width:t.CursorSvg.CURSOR_WIDTH,height:t.CursorSvg.CURSOR_HEIGHT,style:"display: none;"},this.cursorSvg_),this.cursorSvgRect_=t.utils.dom.createSvgElement("rect",{class:"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:e},this.cursorSvg_),this.cursorInput_=t.utils.dom.createSvgElement("path",{width:t.CursorSvg.CURSOR_WIDTH,height:t.CursorSvg.CURSOR_HEIGHT,transform:"",style:"display: none;",fill:e},this.cursorSvg_),this.cursorBlock_=t.utils.dom.createSvgElement("path",{width:t.CursorSvg.CURSOR_WIDTH,height:t.CursorSvg.CURSOR_HEIGHT,transform:"",style:"display: none;",fill:"none",stroke:e,"stroke-width":"4"},this.cursorSvg_),this.isMarker_||(t.utils.dom.createSvgElement("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:t.CursorSvg.CURSOR_COLOR+";transparent;transparent;",repeatCount:"indefinite"},this.cursorSvgLine_),t.utils.dom.createSvgElement("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:t.CursorSvg.CURSOR_COLOR+";transparent;transparent;",repeatCount:"indefinite"},this.cursorInput_),t.utils.dom.createSvgElement("animate",{attributeType:"XML",attributeName:"stroke",dur:"1s",values:t.CursorSvg.CURSOR_COLOR+";transparent;transparent;",repeatCount:"indefinite"},this.cursorBlock_)),this.cursorSvg_},t.CursorSvg.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_)},t.Mutator=function(e){t.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},t.utils.object.inherits(t.Mutator,t.Icon),t.Mutator.prototype.workspaceWidth_=0,t.Mutator.prototype.workspaceHeight_=0,t.Mutator.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement("rect",{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),t.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),t.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},t.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&t.Icon.prototype.iconClick_.call(this,e)},t.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=t.utils.dom.createSvgElement("svg",{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var e,n=t.utils.xml.createElement("xml"),o=0;e=this.quarkNames_[o];o++){var i=t.utils.xml.createElement("block");i.setAttribute("type",e),n.appendChild(i)}else n=null;return n={disable:!1,disabledPatternId:this.block_.workspace.options.disabledPatternId,languageTree:n,parentWorkspace:this.block_.workspace,pathToMedia:this.block_.workspace.options.pathToMedia,RTL:this.block_.RTL,toolboxPosition:this.block_.RTL?t.TOOLBOX_AT_RIGHT:t.TOOLBOX_AT_LEFT,horizontalLayout:!1,getMetrics:this.getFlyoutMetrics_.bind(this),setMetrics:null,renderer:this.block_.workspace.options.renderer},this.workspace_=new t.WorkspaceSvg(n),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(t.Events.disableOrphans),n=this.workspace_.addFlyout_("g"),(o=this.workspace_.createDom("blocklyMutatorBackground")).insertBefore(n,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(o),this.svgDialog_},t.Mutator.prototype.updateEditable=function(){t.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&t.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},t.Mutator.prototype.resizeBubble_=function(){var e=2*t.Bubble.BORDER_WIDTH,n=this.workspace_.getCanvas().getBBox(),o=this.block_.RTL?-n.x:n.width+n.x;if(n=n.height+3*e,this.workspace_.flyout_){var i=this.workspace_.flyout_.getMetrics_();n=Math.max(n,i.contentHeight+20)}o+=3*e,(Math.abs(this.workspaceWidth_-o)>e||Math.abs(this.workspaceHeight_-n)>e)&&(this.workspaceWidth_=o,this.workspaceHeight_=n,this.bubble_.setBubbleSize(o+e,n+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},t.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(t.Events.fire(new t.Events.Ui(this.block_,"mutatorOpen",!e,e)),e){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),(e=this.workspace_.options.languageTree)&&(this.workspace_.flyout_.init(this.workspace_),this.workspace_.flyout_.show(e.childNodes)),this.rootBlock_=this.block_.decompose(this.workspace_),e=this.rootBlock_.getDescendants(!1);for(var n,o=0;n=e[o];o++)n.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),this.workspace_.flyout_?(e=2*this.workspace_.flyout_.CORNER_RADIUS,o=this.workspace_.getFlyout().getWidth()+e):o=e=16,this.block_.RTL&&(o=-o),this.rootBlock_.moveBy(o,e),this.block_.saveConnections){var i=this;this.block_.saveConnections(this.rootBlock_),this.sourceListener_=function(){i.block_.saveConnections(i.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},t.Mutator.prototype.workspaceChanged_=function(e){if(e.type!=t.Events.UI&&(e.type!=t.Events.CHANGE||"disabled"!=e.element)){if(!this.workspace_.isDragging()){e=this.workspace_.getTopBlocks(!1);for(var n,o=0;n=e[o];o++){var i=n.getRelativeToSurfaceXY(),r=n.getHeightWidth();20>i.y+r.height&&n.moveBy(0,20-r.height-i.y)}}if(this.rootBlock_.workspace==this.workspace_){if(t.Events.setGroup(!0),e=(e=(n=this.block_).mutationToDom())&&t.Xml.domToText(e),o=n.rendered,n.rendered=!1,n.compose(this.rootBlock_),n.rendered=o,n.initSvg(),e!=(o=(o=n.mutationToDom())&&t.Xml.domToText(o))){t.Events.fire(new t.Events.BlockChange(n,"mutation",null,e,o));var s=t.Events.getGroup();setTimeout((function(){t.Events.setGroup(s),n.bumpNeighbours(),t.Events.setGroup(!1)}),t.BUMP_DELAY)}n.rendered&&n.render(),e!=o&&t.keyboardAccessibilityMode&&t.navigation.moveCursorOnBlockMutation(n),this.workspace_.isDragging()||this.resizeBubble_(),t.Events.setGroup(!1)}}},t.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_-this.workspace_.getFlyout().getWidth(),absoluteTop:0,absoluteLeft:this.workspace_.RTL?0:this.workspace_.getFlyout().getWidth()}},t.Mutator.prototype.dispose=function(){this.block_.mutator=null,t.Icon.prototype.dispose.call(this)},t.Mutator.prototype.updateBlockStyle=function(){var t=this.workspace_;if(t&&t.getAllBlocks()){for(var e=t.getAllBlocks(),n=0;n<e.length;n++){var o=e[n];o.setStyle(o.getStyleName())}for(t=t.flyout_.workspace_.getAllBlocks(),n=0;n<t.length;n++)(o=t[n]).setStyle(o.getStyleName())}},t.Mutator.reconnect=function(t,e,n){if(!t||!t.getSourceBlock().workspace)return!1;n=e.getInput(n).connection;var o=t.targetBlock();return!(o&&o!=e||n.targetConnection==t)&&(n.isConnected()&&n.disconnect(),n.connect(t),!0)},t.Mutator.findParentWs=function(t){var e=null;if(t&&t.options){var n=t.options.parentWorkspace;t.isFlyout?n&&n.options&&(e=n.options.parentWorkspace):n&&(e=n)}return e},t.utils.svgPaths={},t.utils.svgPaths.point=function(t,e){return" "+t+","+e+" "},t.utils.svgPaths.curve=function(t,e){return" "+t+e.join("")},t.utils.svgPaths.moveTo=function(t,e){return" M "+t+","+e+" "},t.utils.svgPaths.moveBy=function(t,e){return" m "+t+","+e+" "},t.utils.svgPaths.lineTo=function(t,e){return" l "+t+","+e+" "},t.utils.svgPaths.line=function(t){return" l"+t.join("")},t.utils.svgPaths.lineOnAxis=function(t,e){return" "+t+" "+e+" "},t.utils.svgPaths.arc=function(t,e,n,o){return t+" "+n+" "+n+" "+e+o},t.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.MAX_BOTTOM_WIDTH=66.5,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=t.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6},t.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},t.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){return{height:this.JAGGED_TEETH_HEIGHT,width:this.JAGGED_TEETH_WIDTH,path:t.utils.svgPaths.line([t.utils.svgPaths.point(6,3),t.utils.svgPaths.point(-12,6),t.utils.svgPaths.point(6,3)])}},t.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(30,-e),t.utils.svgPaths.point(70,-e),t.utils.svgPaths.point(n,0)])}},t.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function e(e){var i=-(e=e?-1:1),r=o/2,s=r+2.5,a=r+.5,l=t.utils.svgPaths.point(-n,e*r);return r=t.utils.svgPaths.point(n,e*r),t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(0,e*s),t.utils.svgPaths.point(-n,i*a),l])+t.utils.svgPaths.curve("s",[t.utils.svgPaths.point(n,2.5*i),r])}var n=this.TAB_WIDTH,o=this.TAB_HEIGHT,i=e(!0),r=e(!1);return{width:n,height:o,pathDown:r,pathUp:i}},t.blockRendering.ConstantProvider.prototype.makeNotch=function(){function e(e){return t.utils.svgPaths.line([t.utils.svgPaths.point(e*i,o),t.utils.svgPaths.point(3*e,0),t.utils.svgPaths.point(e*i,-o)])}var n=this.NOTCH_WIDTH,o=this.NOTCH_HEIGHT,i=(n-3)/2,r=e(1),s=e(-1);return{width:n,height:o,pathLeft:r,pathRight:s}},t.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e))}},t.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var e=this.CORNER_RADIUS;return{topLeft:t.utils.svgPaths.moveBy(0,e)+t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,-e)),bottomLeft:e=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,-e))}},t.blockRendering.ConstantProvider.prototype.shapeFor=function(e){switch(e.type){case t.INPUT_VALUE:case t.OUTPUT_VALUE:return this.PUZZLE_TAB;case t.PREVIOUS_STATEMENT:case t.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},t.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},t.blockRendering.Types.LEFT_CORNER=t.blockRendering.Types.LEFT_SQUARE_CORNER|t.blockRendering.Types.LEFT_ROUND_CORNER,t.blockRendering.Types.RIGHT_CORNER=t.blockRendering.Types.RIGHT_SQUARE_CORNER|t.blockRendering.Types.RIGHT_ROUND_CORNER,t.blockRendering.Types.nextTypeValue_=16777216,t.blockRendering.Types.getType=function(e){return t.blockRendering.Types.hasOwnProperty(e)||(t.blockRendering.Types[e]=t.blockRendering.Types.nextTypeValue_,t.blockRendering.Types.nextTypeValue_<<=1),t.blockRendering.Types[e]},t.blockRendering.Types.isField=function(e){return e.type&t.blockRendering.Types.FIELD},t.blockRendering.Types.isHat=function(e){return e.type&t.blockRendering.Types.HAT},t.blockRendering.Types.isIcon=function(e){return e.type&t.blockRendering.Types.ICON},t.blockRendering.Types.isSpacer=function(e){return e.type&t.blockRendering.Types.SPACER},t.blockRendering.Types.isInRowSpacer=function(e){return e.type&t.blockRendering.Types.IN_ROW_SPACER},t.blockRendering.Types.isInput=function(e){return e.type&t.blockRendering.Types.INPUT},t.blockRendering.Types.isExternalInput=function(e){return e.type&t.blockRendering.Types.EXTERNAL_VALUE_INPUT},t.blockRendering.Types.isInlineInput=function(e){return e.type&t.blockRendering.Types.INLINE_INPUT},t.blockRendering.Types.isStatementInput=function(e){return e.type&t.blockRendering.Types.STATEMENT_INPUT},t.blockRendering.Types.isPreviousConnection=function(e){return e.type&t.blockRendering.Types.PREVIOUS_CONNECTION},t.blockRendering.Types.isNextConnection=function(e){return e.type&t.blockRendering.Types.NEXT_CONNECTION},t.blockRendering.Types.isPreviousOrNextConnection=function(e){return e.type&(t.blockRendering.Types.PREVIOUS_CONNECTION|t.blockRendering.Types.NEXT_CONNECTION)},t.blockRendering.Types.isLeftRoundedCorner=function(e){return e.type&t.blockRendering.Types.LEFT_ROUND_CORNER},t.blockRendering.Types.isRightRoundedCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_ROUND_CORNER},t.blockRendering.Types.isLeftSquareCorner=function(e){return e.type&t.blockRendering.Types.LEFT_SQUARE_CORNER},t.blockRendering.Types.isRightSquareCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_SQUARE_CORNER},t.blockRendering.Types.isCorner=function(e){return e.type&t.blockRendering.Types.CORNER},t.blockRendering.Types.isJaggedEdge=function(e){return e.type&t.blockRendering.Types.JAGGED_EDGE},t.blockRendering.Types.isRow=function(e){return e.type&t.blockRendering.Types.ROW},t.blockRendering.Types.isBetweenRowSpacer=function(e){return e.type&t.blockRendering.Types.BETWEEN_ROW_SPACER},t.blockRendering.Types.isTopRow=function(e){return e.type&t.blockRendering.Types.TOP_ROW},t.blockRendering.Types.isBottomRow=function(e){return e.type&t.blockRendering.Types.BOTTOM_ROW},t.blockRendering.Types.isTopOrBottomRow=function(e){return e.type&(t.blockRendering.Types.TOP_ROW|t.blockRendering.Types.BOTTOM_ROW)},t.blockRendering.Types.isInputRow=function(e){return e.type&t.blockRendering.Types.INPUT_ROW},t.blockRendering.Measurable=function(e){this.height=this.width=0,this.type=t.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},t.blockRendering.Connection=function(e,n){t.blockRendering.Connection.superClass_.constructor.call(this,e),this.connectionModel=n,this.shape=this.constants_.shapeFor(n),this.type|=t.blockRendering.Types.CONNECTION},t.utils.object.inherits(t.blockRendering.Connection,t.blockRendering.Measurable),t.blockRendering.OutputConnection=function(e,n){t.blockRendering.OutputConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.startX=this.width},t.utils.object.inherits(t.blockRendering.OutputConnection,t.blockRendering.Connection),t.blockRendering.OutputConnection.prototype.isDynamic=function(){return this.shape.isDynamic},t.blockRendering.PreviousConnection=function(e,n){t.blockRendering.PreviousConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.PreviousConnection,t.blockRendering.Connection),t.blockRendering.NextConnection=function(e,n){t.blockRendering.NextConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.NextConnection,t.blockRendering.Connection),t.blockRendering.InputConnection=function(e,n){if(t.blockRendering.InputConnection.superClass_.constructor.call(this,e,n.connection),this.type|=t.blockRendering.Types.INPUT,this.input=n,this.align=n.align,this.connectedBlock=n.connection&&n.connection.targetBlock()?n.connection.targetBlock():null){var o=this.connectedBlock.getHeightWidth();this.connectedBlockWidth=o.width,this.connectedBlockHeight=o.height}else this.connectedBlockHeight=this.connectedBlockWidth=0;this.connection=n.connection,this.connectionOffsetY=this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.InputConnection,t.blockRendering.Connection),t.blockRendering.InlineInput=function(e,n){t.blockRendering.InlineInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.shape.width+this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},t.utils.object.inherits(t.blockRendering.InlineInput,t.blockRendering.InputConnection),t.blockRendering.StatementInput=function(e,n){t.blockRendering.StatementInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.NOTCH_OFFSET_LEFT+this.shape.width},t.utils.object.inherits(t.blockRendering.StatementInput,t.blockRendering.InputConnection),t.blockRendering.ExternalValueInput=function(e,n){t.blockRendering.ExternalValueInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-2*this.constants_.TAB_OFFSET_FROM_TOP:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},t.utils.object.inherits(t.blockRendering.ExternalValueInput,t.blockRendering.InputConnection),t.blockRendering.Icon=function(e,n){t.blockRendering.Icon.superClass_.constructor.call(this,e),this.icon=n,this.isVisible=n.isVisible(),this.type|=t.blockRendering.Types.ICON;var o=n.getCorrectedSize();this.height=o.height,this.width=o.width},t.utils.object.inherits(t.blockRendering.Icon,t.blockRendering.Measurable),t.blockRendering.JaggedEdge=function(e){t.blockRendering.JaggedEdge.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},t.utils.object.inherits(t.blockRendering.JaggedEdge,t.blockRendering.Measurable),t.blockRendering.Field=function(e,n,o){t.blockRendering.Field.superClass_.constructor.call(this,e),this.field=n,this.isEditable=n.isCurrentlyEditable(),this.flipRtl=n.getFlipRtl(),this.type|=t.blockRendering.Types.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width,this.parentInput=o},t.utils.object.inherits(t.blockRendering.Field,t.blockRendering.Measurable),t.blockRendering.Hat=function(e){t.blockRendering.Hat.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},t.utils.object.inherits(t.blockRendering.Hat,t.blockRendering.Measurable),t.blockRendering.SquareCorner=function(e,n){t.blockRendering.SquareCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_SQUARE_CORNER:t.blockRendering.Types.LEFT_SQUARE_CORNER)|t.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},t.utils.object.inherits(t.blockRendering.SquareCorner,t.blockRendering.Measurable),t.blockRendering.RoundCorner=function(e,n){t.blockRendering.RoundCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_ROUND_CORNER:t.blockRendering.Types.LEFT_ROUND_CORNER)|t.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},t.utils.object.inherits(t.blockRendering.RoundCorner,t.blockRendering.Measurable),t.blockRendering.InRowSpacer=function(e,n){t.blockRendering.InRowSpacer.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.IN_ROW_SPACER,this.width=n,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},t.utils.object.inherits(t.blockRendering.InRowSpacer,t.blockRendering.Measurable),t.blockRendering.Row=function(e){this.type=t.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},t.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},t.blockRendering.Row.prototype.getLastInput=function(){for(var e,n=this.elements.length-1;e=this.elements[n];n--)if(t.blockRendering.Types.isInput(e))return e;return null},t.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.getFirstSpacer=function(){for(var e,n=0;e=this.elements[n];n++)if(t.blockRendering.Types.isSpacer(e))return e;return null},t.blockRendering.Row.prototype.getLastSpacer=function(){for(var e,n=this.elements.length-1;e=this.elements[n];n--)if(t.blockRendering.Types.isSpacer(e))return e;return null},t.blockRendering.TopRow=function(e){t.blockRendering.TopRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},t.utils.object.inherits(t.blockRendering.TopRow,t.blockRendering.Row),t.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(e){var n=(e.hat?"cap"===e.hat:t.BlockSvg.START_HAT)&&!e.outputConnection&&!e.previousConnection,o=e.getPreviousBlock();return!!e.outputConnection||n||!!o&&o.getNextBlock()==e},t.blockRendering.TopRow.prototype.measure=function(){for(var e,n=0,o=0,i=0,r=0;e=this.elements[r];r++)o+=e.width,t.blockRendering.Types.isSpacer(e)||(t.blockRendering.Types.isHat(e)?i=Math.max(i,e.ascenderHeight):n=Math.max(n,e.height));this.width=Math.max(this.minWidth,o),this.height=Math.max(this.minHeight,n)+i,this.capline=this.ascenderHeight=i,this.widthWithConnectedBlocks=this.width},t.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow=function(e){t.blockRendering.BottomRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},t.utils.object.inherits(t.blockRendering.BottomRow,t.blockRendering.Row),t.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(t){return!!t.outputConnection||!!t.getNextBlock()},t.blockRendering.BottomRow.prototype.measure=function(){for(var e,n=0,o=0,i=0,r=0;e=this.elements[r];r++)o+=e.width,t.blockRendering.Types.isSpacer(e)||(t.blockRendering.Types.isNextConnection(e)?i=Math.max(i,e.height):n=Math.max(n,e.height));this.width=Math.max(this.minWidth,o),this.height=Math.max(this.minHeight,n)+i,this.descenderHeight=i,this.widthWithConnectedBlocks=this.width},t.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.SpacerRow=function(e,n,o){t.blockRendering.SpacerRow.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=o,this.height=n,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new t.blockRendering.InRowSpacer(this.constants_,o)]},t.utils.object.inherits(t.blockRendering.SpacerRow,t.blockRendering.Row),t.blockRendering.SpacerRow.prototype.measure=function(){},t.blockRendering.InputRow=function(e){t.blockRendering.InputRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},t.utils.object.inherits(t.blockRendering.InputRow,t.blockRendering.Row),t.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var e,n=0,o=0;e=this.elements[o];o++)this.width+=e.width,t.blockRendering.Types.isInput(e)&&(t.blockRendering.Types.isStatementInput(e)?n+=e.connectedBlockWidth:t.blockRendering.Types.isExternalInput(e)&&0!=e.connectedBlockWidth&&(n+=e.connectedBlockWidth-e.connectionWidth)),t.blockRendering.Types.isSpacer(e)||(this.height=Math.max(this.height,e.height));this.connectedBlockWidths=n,this.widthWithConnectedBlocks=this.width+n},t.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},t.blockRendering.RenderInfo=function(e,n){this.block_=n,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.outputConnection=n.outputConnection?new t.blockRendering.OutputConnection(this.constants_,n.outputConnection):null,this.isInline=n.getInputsInline()&&!n.isCollapsed(),this.isCollapsed=n.isCollapsed(),this.isInsertionMarker=n.isInsertionMarker(),this.RTL=n.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.hiddenIcons=[],this.topRow=new t.blockRendering.TopRow(this.constants_),this.bottomRow=new t.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},t.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.addRowSpacing_(),this.finalize_()},t.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var e=new t.blockRendering.InputRow(this.constants_),n=this.block_.getIcons();if(n.length)for(var o,i=0;o=n[i];i++){var r=new t.blockRendering.Icon(this.constants_,o);this.isCollapsed&&o.collapseHidden?this.hiddenIcons.push(r):e.elements.push(r)}for(o=null,i=0;n=this.block_.inputList[i];i++)if(n.isVisible()){for(this.shouldStartNewRow_(n,o)&&(this.rows.push(e),e=new t.blockRendering.InputRow(this.constants_)),o=0;r=n.fieldRow[o];o++)e.elements.push(new t.blockRendering.Field(this.constants_,r,n));this.addInput_(n,e),o=n}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new t.blockRendering.JaggedEdge(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)},t.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var e=!!this.block_.previousConnection,n=(this.block_.hat?"cap"===this.block_.hat:t.BlockSvg.START_HAT)&&!this.outputConnection&&!e;this.topRow.hasLeftSquareCorner(this.block_)?this.topRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.topRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),n?(e=new t.blockRendering.Hat(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new t.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type==t.NEXT_STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.LARGE_PADDING:this.topRow.minHeight=this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.NEXT_STATEMENT?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING-1,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new t.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection))},t.blockRendering.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.INPUT_VALUE?(n.elements.push(new t.blockRendering.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.NEXT_STATEMENT?(n.elements.push(new t.blockRendering.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.INPUT_VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.DUMMY_INPUT&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),n.align=e.align},t.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(e,n){return!!n&&(e.type==t.NEXT_STATEMENT||n.type==t.NEXT_STATEMENT||(e.type==t.INPUT_VALUE||e.type==t.DUMMY_INPUT)&&!this.isInline)},t.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var e,n=0;e=this.rows[n];n++){var o=e.elements;e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,o[0])));for(var i=0;i<o.length-1;i++){e.elements.push(o[i]);var r=this.getInRowSpacing_(o[i],o[i+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,r))}e.elements.push(o[o.length-1]),e.endsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(o[o.length-1],null)))}},t.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(e&&t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}return e&&t.blockRendering.Types.isLeftSquareCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var t,e=0,n=0,o=0,i=0;t=this.rows[i];i++){if(t.measure(),n=Math.max(n,t.width),t.hasStatement){var r=t.getLastInput();e=Math.max(e,t.width-r.width)}o=Math.max(o,t.widthWithConnectedBlocks)}for(this.statementEdge=e,this.width=n,i=0;t=this.rows[i];i++)t.hasStatement&&(t.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,o),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},t.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var t,e=0;t=this.rows[e];e++)if(t.hasStatement)this.alignStatementRow_(t);else{var n=this.width-this.startX-t.width;n&&this.addAlignmentPadding_(t,n)}},t.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(t,e){var n=t.getLastSpacer();n&&(n.width+=e,t.width+=e)},t.blockRendering.RenderInfo.prototype.alignStatementRow_=function(t){var e=t.getLastInput(),n=t.width-e.width,o=this.statementEdge;(n=o-n)&&this.addAlignmentPadding_(t,n),n=t.width,o=this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0),e.width+=o-n,t.width+=o-n,t.widthWithConnectedBlocks=Math.max(t.width,this.statementEdge+t.connectedBlockWidths)},t.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var t=this.rows;this.rows=[];for(var e=0;e<t.length;e++)this.rows.push(t[e]),e!=t.length-1&&this.rows.push(this.makeSpacerRow_(t[e],t[e+1]))},t.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(e,n){var o=this.getSpacerRowHeight_(e,n),i=this.getSpacerRowWidth_(e,n);return o=new t.blockRendering.SpacerRow(this.constants_,o,i),e.hasStatement&&(o.followsStatement=!0),o},t.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(t,e){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(t,e){return this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e)){var o=e.yPos+e.height-e.descenderHeight;return t.blockRendering.Types.isNextConnection(n)?o+n.height/2:o-n.height/2}return t.blockRendering.Types.isTopRow(e)?t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2:e.yPos+e.height/2},t.blockRendering.RenderInfo.prototype.recordElemPositions_=function(e){for(var n,o=e.xPos,i=0;n=e.elements[i];i++)t.blockRendering.Types.isSpacer(n)&&(n.height=e.height),n.xPos=o,n.centerline=this.getElemCenterline_(e,n),o+=n.width},t.blockRendering.RenderInfo.prototype.finalize_=function(){for(var t,e=0,n=0,o=0;t=this.rows[o];o++)t.yPos=n,t.xPos=this.startX,n+=t.height,e=Math.max(e,t.widthWithConnectedBlocks),this.recordElemPositions_(t);this.widthWithChildren=e+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight},t.blockRendering.Drawer=function(t,e){this.block_=t,this.info_=e,this.topLeft_=t.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=e.getRenderer().getConstants()},t.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPaths(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},t.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var t,e=0;t=this.info_.hiddenIcons[e];e++)t.icon.iconGroup_.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var t=1;t<this.info_.rows.length-1;t++){var e=this.info_.rows[t];e.hasJaggedEdge?this.drawJaggedEdge_(e):e.hasStatement?this.drawStatementInput_(e):e.hasExternalInput?this.drawValueInput_(e):this.drawRightSideRow_(e)}this.drawBottom_(),this.drawLeft_()},t.blockRendering.Drawer.prototype.drawTop_=function(){var e=this.info_.topRow,n=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var o,i=0;o=n[i];i++)t.blockRendering.Types.isLeftRoundedCorner(o)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:t.blockRendering.Types.isPreviousConnection(o)?this.outlinePath_+=o.shape.pathLeft:t.blockRendering.Types.isHat(o)?this.outlinePath_+=this.constants_.START_HAT.path:t.blockRendering.Types.isSpacer(o)&&(this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",o.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("v",e.height)},t.blockRendering.Drawer.prototype.drawJaggedEdge_=function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+t.utils.svgPaths.lineOnAxis("v",e.height-this.constants_.JAGGED_TEETH.height)},t.blockRendering.Drawer.prototype.drawValueInput_=function(e){var n=e.getLastInput();this.positionExternalValueConnection_(e);var o="function"==typeof n.shape.pathDown?n.shape.pathDown(n.height):n.shape.pathDown;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",n.xPos+n.width)+o+t.utils.svgPaths.lineOnAxis("v",e.height-n.connectionHeight)},t.blockRendering.Drawer.prototype.drawStatementInput_=function(e){var n=e.getLastInput(),o=n.xPos+n.notchOffset+n.shape.width;n=n.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var i=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",o)+n+t.utils.svgPaths.lineOnAxis("v",i)+this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.blockRendering.Drawer.prototype.drawRightSideRow_=function(e){this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.blockRendering.Drawer.prototype.drawBottom_=function(){var e=this.info_.bottomRow,n=e.elements;this.positionNextConnection_(),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline);for(var o,i=n.length-1;o=n[i];i--)t.blockRendering.Types.isNextConnection(o)?this.outlinePath_+=o.shape.pathRight:t.blockRendering.Types.isLeftSquareCorner(o)?this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",e.xPos):t.blockRendering.Types.isLeftRoundedCorner(o)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.bottomLeft:t.blockRendering.Types.isSpacer(o)&&(this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",-1*o.width))},t.blockRendering.Drawer.prototype.drawLeft_=function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var n=e.connectionOffsetY+e.height;e="function"==typeof e.shape.pathUp?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",n)+e}this.outlinePath_+="z"},t.blockRendering.Drawer.prototype.drawInternals_=function(){for(var e,n=0;e=this.info_.rows[n];n++)for(var o,i=0;o=e.elements[i];i++)t.blockRendering.Types.isInlineInput(o)?this.drawInlineInput_(o):(t.blockRendering.Types.isIcon(o)||t.blockRendering.Types.isField(o))&&this.layoutField_(o)},t.blockRendering.Drawer.prototype.layoutField_=function(e){if(t.blockRendering.Types.isField(e))var n=e.field.getSvgRoot();else t.blockRendering.Types.isIcon(e)&&(n=e.icon.iconGroup_);var o=e.centerline-e.height/2,i=e.xPos,r="";this.info_.RTL&&(i=-(i+e.width),e.flipRtl&&(i+=e.width,r="scale(-1 1)")),t.blockRendering.Types.isIcon(e)?(n.setAttribute("display","block"),n.setAttribute("transform","translate("+i+","+o+")"),e.icon.computeIconLocation()):n.setAttribute("transform","translate("+i+","+o+")"+r),this.info_.isInsertionMarker&&n.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawInlineInput_=function(e){var n=e.width,o=e.height,i=e.connectionOffsetY,r=e.connectionHeight+i;this.inlinePath_+=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-o/2)+t.utils.svgPaths.lineOnAxis("v",i)+e.shape.pathDown+t.utils.svgPaths.lineOnAxis("v",o-r)+t.utils.svgPaths.lineOnAxis("h",n-e.connectionWidth)+t.utils.svgPaths.lineOnAxis("v",-o)+"z",this.positionInlineInputConnection_(e)},t.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(t){var e=t.centerline-t.height/2;if(t.connection){var n=t.xPos+t.connectionWidth;this.info_.RTL&&(n*=-1),t.connection.setOffsetInBlock(n,e+t.connectionOffsetY)}},t.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(t){var e=t.getLastInput();if(e.connection){var n=t.xPos+t.statementEdge+e.notchOffset;this.info_.RTL&&(n*=-1),e.connection.setOffsetInBlock(n,t.yPos)}},t.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(t){var e=t.getLastInput();if(e.connection){var n=t.xPos+t.width;this.info_.RTL&&(n*=-1),e.connection.setOffsetInBlock(n,t.yPos)}},t.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var t=this.info_.topRow;if(t.connection){var e=t.xPos+t.notchOffset;t.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-e:e,0)}},t.blockRendering.Drawer.prototype.positionNextConnection_=function(){var t=this.info_.bottomRow;if(t.connection){var e=(t=t.connection).xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-e:e,t.centerline-t.height/2)}},t.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var t=this.info_.startX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-t:t,this.info_.outputConnection.connectionOffsetY)}},t.blockRendering.Renderer=function(){this.constants_=null},t.blockRendering.Renderer.prototype.init=function(){this.constants_=this.makeConstants_(),this.constants_.init()},t.blockRendering.Renderer.prototype.makeConstants_=function(){return new t.blockRendering.ConstantProvider},t.blockRendering.Renderer.prototype.makeRenderInfo_=function(e){return new t.blockRendering.RenderInfo(this,e)},t.blockRendering.Renderer.prototype.makeDrawer_=function(e,n){return new t.blockRendering.Drawer(e,n)},t.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!t.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new t.blockRendering.Debug},t.blockRendering.Renderer.prototype.makeCursorDrawer=function(e,n){return new t.CursorSvg(e,n)},t.blockRendering.Renderer.prototype.makePathObject=function(e){return new t.blockRendering.PathObject(e)},t.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},t.blockRendering.Renderer.prototype.render=function(e){t.blockRendering.useDebugger&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());var n=this.makeRenderInfo_(e);n.measure(),this.makeDrawer_(e,n).draw()},t.geras={},t.geras.ConstantProvider=function(){t.geras.ConstantProvider.superClass_.constructor.call(this),this.DARK_PATH_OFFSET=1},t.utils.object.inherits(t.geras.ConstantProvider,t.blockRendering.ConstantProvider),t.geras.Highlighter=function(t){this.info_=t,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,t=t.getRenderer(),this.constants_=t.getConstants(),this.highlightConstants_=t.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},t.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},t.geras.Highlighter.prototype.drawTopCorner=function(e){this.steps_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var n,o=0;n=e.elements[o];o++)t.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=this.highlightConstants_.START_POINT:t.blockRendering.Types.isLeftRoundedCorner(n)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):t.blockRendering.Types.isPreviousConnection(n)?this.steps_+=this.notchPaths_.pathLeft:t.blockRendering.Types.isHat(n)?this.steps_+=this.startPaths_.path(this.RTL_):t.blockRendering.Types.isSpacer(n)&&0!=n.width&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n.xPos+n.width-this.highlightOffset_));this.steps_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width-this.highlightOffset_)},t.geras.Highlighter.prototype.drawJaggedEdge_=function(e){this.info_.RTL&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",e.width-this.highlightOffset_),this.steps_+=this.jaggedTeethPaths_.pathLeft,this.steps_+=t.utils.svgPaths.lineOnAxis("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},t.geras.Highlighter.prototype.drawValueInput=function(e){var n=e.getLastInput();if(this.RTL_){var o=e.height-n.connectionHeight;this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",o)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.Highlighter.prototype.drawStatementInput=function(e){var n=e.getLastInput();if(this.RTL_){var o=e.height-2*this.insideCornerPaths_.height;this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",o)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)},t.geras.Highlighter.prototype.drawRightSideRow=function(e){var n=e.xPos+e.width-this.highlightOffset_;e.followsStatement&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n)),this.RTL_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n),e.height>this.highlightOffset_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height-this.highlightOffset_)))},t.geras.Highlighter.prototype.drawBottomRow=function(e){if(this.RTL_)this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-this.highlightOffset_);else{var n=this.info_.bottomRow.elements[0];t.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=t.utils.svgPaths.moveTo(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):t.blockRendering.Types.isLeftRoundedCorner(n)&&(this.steps_+=t.utils.svgPaths.moveTo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},t.geras.Highlighter.prototype.drawLeft=function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX,e):(this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=t.utils.svgPaths.lineOnAxis("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,t.blockRendering.Types.isLeftRoundedCorner(e.elements[0])?this.steps_+=t.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.capline+this.highlightOffset_))},t.geras.Highlighter.prototype.drawInlineInput=function(e){var n=this.highlightOffset_,o=e.xPos+e.connectionWidth,i=e.centerline-e.height/2,r=e.width-e.connectionWidth,s=i+n;this.RTL_?(i=e.connectionOffsetY-n,e=e.height-(e.connectionOffsetY+e.connectionHeight)+n,this.inlineSteps_+=t.utils.svgPaths.moveTo(o-n,s)+t.utils.svgPaths.lineOnAxis("v",i)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",e)+t.utils.svgPaths.lineOnAxis("h",r)):this.inlineSteps_+=t.utils.svgPaths.moveTo(e.xPos+e.width+n,s)+t.utils.svgPaths.lineOnAxis("v",e.height)+t.utils.svgPaths.lineOnAxis("h",-r)+t.utils.svgPaths.moveTo(o,i+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.PathObject=function(e){this.svgRoot=e,this.svgPathDark=t.utils.dom.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=t.utils.dom.createSvgElement("path",{class:"blocklyPath"},this.svgRoot),this.svgPathLight=t.utils.dom.createSvgElement("path",{class:"blocklyPathLight"},this.svgRoot)},t.geras.PathObject.prototype.setPaths=function(t,e){this.svgPath.setAttribute("d",t),this.svgPathDark.setAttribute("d",t),this.svgPathLight.setAttribute("d",e)},t.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},t.geras.InlineInput=function(e,n){t.geras.InlineInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.InlineInput,t.blockRendering.InlineInput),t.geras.StatementInput=function(e,n){t.geras.StatementInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.StatementInput,t.blockRendering.StatementInput),t.geras.RenderInfo=function(e,n){t.geras.RenderInfo.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.geras.RenderInfo,t.blockRendering.RenderInfo),t.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.geras.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.INPUT_VALUE?(n.elements.push(new t.geras.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.NEXT_STATEMENT?(n.elements.push(new t.geras.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.INPUT_VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.DUMMY_INPUT&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),n.align=e.align},t.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var e,n=!1,o=0;e=this.rows[o];o++)e.hasExternalInput&&(n=!0);for(o=0;e=this.rows[o];o++){var i=e.elements;e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,i[0])));for(var r=0;r<i.length-1;r++){e.elements.push(i[r]);var s=this.getInRowSpacing_(i[r],i[r+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s))}e.elements.push(i[i.length-1]),e.endsWithElemSpacer()&&(s=this.getInRowSpacing_(i[i.length-1],null),n&&e.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s)))}},t.geras.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e)return n&&t.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&t.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&!n)return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&n&&t.blockRendering.Types.isInput(n)){if(e.isEditable){if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&n&&!t.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&n&&!t.blockRendering.Types.isInput(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&n){if(t.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset;if(t.blockRendering.Types.isNextConnection(n)){var o=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2;return n.notchOffset+o}}if(t.blockRendering.Types.isLeftRoundedCorner(e)&&n){if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS;if(t.blockRendering.Types.isNextConnection(n))return o=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,n.notchOffset-this.constants_.CORNER_RADIUS+o}return!t.blockRendering.Types.isInput(e)&&n&&!t.blockRendering.Types.isInput(n)&&e.isEditable==n.isEditable||n&&t.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.addAlignmentPadding_=function(e,n){var o=e.getFirstSpacer(),i=e.getLastSpacer();(e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=n),e.align==t.ALIGN_LEFT?i.width+=n:e.align==t.ALIGN_CENTRE?(o.width+=n/2,i.width+=n/2):e.align==t.ALIGN_RIGHT?o.width+=n:i.width+=n,e.width+=n},t.geras.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:e.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&n.hasStatement||!e.hasStatement&&n.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e)){var o=e.yPos+e.height-e.descenderHeight;return t.blockRendering.Types.isNextConnection(n)?o+n.height/2:o-n.height/2}return t.blockRendering.Types.isTopRow(e)?t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2:(o=e.yPos,t.blockRendering.Types.isField(n)||t.blockRendering.Types.isIcon(n)?(o+=n.height/2,(e.hasInlineInput||e.hasStatement)&&n.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(o+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):o=t.blockRendering.Types.isInlineInput(n)?o+n.height/2:o+e.height/2,o)},t.geras.RenderInfo.prototype.finalize_=function(){for(var t,e=0,n=0,o=0;t=this.rows[o];o++){t.yPos=n,t.xPos=this.startX,n+=t.height,e=Math.max(e,t.widthWithConnectedBlocks);var i=n-this.topRow.ascenderHeight;t==this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,n+=i),this.recordElemPositions_(t)}this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},t.geras.Drawer=function(e,n){t.geras.Drawer.superClass_.constructor.call(this,e,n),this.highlighter_=new t.geras.Highlighter(n)},t.utils.object.inherits(t.geras.Drawer,t.blockRendering.Drawer),t.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPaths(this.outlinePath_+"\n"+this.inlinePath_,this.highlighter_.getPath()),this.info_.RTL&&this.block_.pathObject.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),t.geras.Drawer.superClass_.drawTop_.call(this)},t.geras.Drawer.prototype.drawJaggedEdge_=function(e){this.highlighter_.drawJaggedEdge_(e),t.geras.Drawer.superClass_.drawJaggedEdge_.call(this,e)},t.geras.Drawer.prototype.drawValueInput_=function(e){this.highlighter_.drawValueInput(e),t.geras.Drawer.superClass_.drawValueInput_.call(this,e)},t.geras.Drawer.prototype.drawStatementInput_=function(e){this.highlighter_.drawStatementInput(e),t.geras.Drawer.superClass_.drawStatementInput_.call(this,e)},t.geras.Drawer.prototype.drawRightSideRow_=function(e){this.highlighter_.drawRightSideRow(e),t.geras.Drawer.superClass_.drawRightSideRow_.call(this,e)},t.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),t.geras.Drawer.superClass_.drawBottom_.call(this)},t.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),t.geras.Drawer.superClass_.drawLeft_.call(this)},t.geras.Drawer.prototype.drawInlineInput_=function(e){this.highlighter_.drawInlineInput(e),t.geras.Drawer.superClass_.drawInlineInput_.call(this,e)},t.geras.Drawer.prototype.positionInlineInputConnection_=function(t){var e=t.centerline-t.height/2;if(t.connection){var n=t.xPos+t.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connection.setOffsetInBlock(n,e+t.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionStatementInputConnection_=function(t){var e=t.getLastInput();if(e.connection){var n=t.xPos+t.statementEdge+e.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,e.connection.setOffsetInBlock(n,t.yPos+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionExternalValueConnection_=function(t){var e=t.getLastInput();if(e.connection){var n=t.xPos+t.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connection.setOffsetInBlock(n,t.yPos)}},t.geras.Drawer.prototype.positionNextConnection_=function(){var t=this.info_.bottomRow;if(t.connection){var e=(t=t.connection).xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-e:e)+this.constants_.DARK_PATH_OFFSET/2,t.centerline-t.height/2+this.constants_.DARK_PATH_OFFSET)}},t.geras.HighlightConstantProvider=function(e){this.constantProvider=e,this.OFFSET=.5,this.START_POINT=t.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET),this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},t.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,o=(1-Math.SQRT1_2)*(e+n)-n,i=t.utils.svgPaths.moveBy(o,o)+t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-o-n,e-o)),r=t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e+n,e+n)),s=t.utils.svgPaths.moveBy(o,-o)+t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e-o,o+n));return{width:e+n,height:e,pathTop:function(t){return t?i:""},pathBottom:function(t){return t?r:s}}},t.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,o=(1-Math.SQRT1_2)*(e-n)+n,i=t.utils.svgPaths.moveBy(o,o)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e-o,-o+n)),r=t.utils.svgPaths.moveBy(n,e)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e,-e+n)),s=-o,a=t.utils.svgPaths.moveBy(o,s)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(-o+n,-s-e));return{height:e,topLeft:function(t){return t?i:r},bottomLeft:function(){return a}}},t.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var e=this.constantProvider.TAB_WIDTH,n=this.constantProvider.TAB_HEIGHT,o=t.utils.svgPaths.moveBy(-2,3.4-n)+t.utils.svgPaths.lineTo(-.45*e,-2.1),i=t.utils.svgPaths.lineOnAxis("v",2.5)+t.utils.svgPaths.moveBy(.97*-e,2.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(.05*-e,10),t.utils.svgPaths.point(.3*e,9.5)])+t.utils.svgPaths.moveBy(.67*e,-1.9)+t.utils.svgPaths.lineOnAxis("v",2.5),r=t.utils.svgPaths.lineOnAxis("v",-1.5)+t.utils.svgPaths.moveBy(-.92*e,-.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(-.19*e,-5.5),t.utils.svgPaths.point(0,-11)])+t.utils.svgPaths.moveBy(.92*e,1),s=t.utils.svgPaths.moveBy(-5,n-.7)+t.utils.svgPaths.lineTo(.46*e,-2.1);return{width:e,height:n,pathUp:function(t){return t?o:r},pathDown:function(t){return t?i:s}}},t.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:t.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},t.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:t.utils.svgPaths.lineTo(5.1,2.6)+t.utils.svgPaths.moveBy(-10.2,6.8)+t.utils.svgPaths.lineTo(5.1,2.6)}},t.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var e=this.constantProvider.START_HAT.height,n=t.utils.svgPaths.moveBy(25,-8.7)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(29.7,-6.2),t.utils.svgPaths.point(57.2,-.5),t.utils.svgPaths.point(75,8.7)]),o=t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(17.8,-9.2),t.utils.svgPaths.point(45.3,-14.9),t.utils.svgPaths.point(75,-8.7)])+t.utils.svgPaths.moveTo(100.5,e+.5);return{path:function(t){return t?n:o}}},t.geras.Renderer=function(){t.geras.Renderer.superClass_.constructor.call(this),this.highlightConstants_=null},t.utils.object.inherits(t.geras.Renderer,t.blockRendering.Renderer),t.geras.Renderer.prototype.init=function(){t.geras.Renderer.superClass_.init.call(this),this.highlightConstants_=this.makeHighlightConstants_()},t.geras.Renderer.prototype.makeConstants_=function(){return new t.geras.ConstantProvider},t.geras.Renderer.prototype.makeRenderInfo_=function(e){return new t.geras.RenderInfo(this,e)},t.geras.Renderer.prototype.makeDrawer_=function(e,n){return new t.geras.Drawer(e,n)},t.geras.Renderer.prototype.makePathObject=function(e){return new t.geras.PathObject(e)},t.blockRendering.Renderer.prototype.makeHighlightConstants_=function(){return new t.geras.HighlightConstantProvider(this.getConstants())},t.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},t.blockRendering.register("geras",t.geras.Renderer),t.Toolbox=function(t){this.workspace_=t,this.RTL=t.options.RTL,this.horizontalLayout_=t.options.horizontalLayout,this.toolboxPosition=t.options.toolboxPosition,this.config_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"},this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"},this.horizontalLayout_&&(this.config_.cssTreeRow+=t.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(t.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon="")},t.Toolbox.prototype.width=0,t.Toolbox.prototype.height=0,t.Toolbox.prototype.selectedOption_=null,t.Toolbox.prototype.lastCategory_=null,t.Toolbox.prototype.init=function(){var e=this.workspace_,n=this.workspace_.getParentSvg();if(this.HtmlDiv=document.createElement("div"),this.HtmlDiv.className="blocklyToolboxDiv blocklyNonSelectable",this.HtmlDiv.setAttribute("dir",e.RTL?"RTL":"LTR"),n.parentNode.insertBefore(this.HtmlDiv,n),(n=e.getThemeManager()).subscribe(this.HtmlDiv,"toolbox","background-color"),n.subscribe(this.HtmlDiv,"toolboxText","color"),t.bindEventWithChecks_(this.HtmlDiv,"mousedown",this,(function(e){t.utils.isRightButton(e)||e.target==this.HtmlDiv?t.hideChaff(!1):t.hideChaff(!0),t.Touch.clearTouchIdentifier()}),!1,!0),n={disabledPatternId:e.options.disabledPatternId,parentWorkspace:e,RTL:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,toolboxPosition:e.options.toolboxPosition,renderer:e.options.renderer},this.flyout_=null,e.horizontalLayout){if(!t.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new t.HorizontalFlyout(n)}else{if(!t.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new t.VerticalFlyout(n)}t.utils.dom.insertAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg()),this.flyout_.init(e),this.config_.cleardotPath=e.options.pathToMedia+"1x1.gif",this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(e.RTL?"Rtl":"Ltr"),this.renderTree(e.options.languageTree)},t.Toolbox.prototype.renderTree=function(e){this.tree_&&(this.tree_.dispose(),this.lastCategory_=null);var n=new t.tree.TreeControl(this,this.config_);this.tree_=n,n.setSelectedItem(null),n.onBeforeSelected(this.handleBeforeTreeSelected_),n.onAfterSelected(this.handleAfterTreeSelected_);var o=null;if(e){if(this.tree_.blocks=[],this.hasColours_=!1,o=this.syncTrees_(e,this.tree_,this.workspace_.options.pathToMedia),this.tree_.blocks.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");this.workspace_.resizeContents()}n.render(this.HtmlDiv),o&&n.setSelectedItem(o),this.addColour_(),this.position(),this.horizontalLayout_&&t.utils.aria.setState(this.tree_.getElement(),t.utils.aria.State.ORIENTATION,"horizontal")},t.Toolbox.prototype.handleBeforeTreeSelected_=function(t){if(t==this.tree_)return!1;if(this.lastCategory_&&(this.lastCategory_.getRowElement().style.backgroundColor=""),t){var e=t.hexColour||"#57e";t.getRowElement().style.backgroundColor=e,this.addColour_(t)}return!0},t.Toolbox.prototype.handleAfterTreeSelected_=function(e,n){if(n&&n.blocks&&n.blocks.length?(this.flyout_.show(n.blocks),this.lastCategory_!=n&&this.flyout_.scrollToStart(),t.keyboardAccessibilityMode&&t.navigation.setState(t.navigation.STATE_TOOLBOX)):(this.flyout_.hide(),!t.keyboardAccessibilityMode||n instanceof t.Toolbox.TreeSeparator||t.navigation.setState(t.navigation.STATE_WS)),e!=n&&e!=this){var o=new t.Events.Ui(null,"category",e&&e.getText(),n&&n.getText());o.workspaceId=this.workspace_.id,t.Events.fire(o)}n&&(this.lastCategory_=n)},t.Toolbox.prototype.handleNodeSizeChanged_=function(){t.svgResize(this.workspace_)},t.Toolbox.prototype.onBlocklyAction=function(e){var n=this.tree_.getSelectedItem();if(!n)return!1;switch(e.name){case t.navigation.actionNames.PREVIOUS:return n.selectPrevious();case t.navigation.actionNames.OUT:return n.selectParent();case t.navigation.actionNames.NEXT:return n.selectNext();case t.navigation.actionNames.IN:return n.selectChild();default:return!1}},t.Toolbox.prototype.dispose=function(){this.flyout_.dispose(),this.tree_.dispose(),this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),t.utils.dom.removeNode(this.HtmlDiv),this.lastCategory_=this.workspace_=null},t.Toolbox.prototype.getWidth=function(){return this.width},t.Toolbox.prototype.getHeight=function(){return this.height},t.Toolbox.prototype.position=function(){var e=this.HtmlDiv;if(e){var n=this.workspace_.getParentSvg();n=t.svgSize(n),this.horizontalLayout_?(e.style.left="0",e.style.height="auto",e.style.width=n.width+"px",this.height=e.offsetHeight,this.toolboxPosition==t.TOOLBOX_AT_TOP?e.style.top="0":e.style.bottom="0"):(this.toolboxPosition==t.TOOLBOX_AT_RIGHT?e.style.right="0":e.style.left="0",e.style.height=n.height+"px",this.width=e.offsetWidth),this.flyout_.position()}},t.Toolbox.prototype.syncTrees_=function(e,n,o){for(var i,r=null,s=null,a=0;i=e.childNodes[a];a++)if(i.tagName)switch(i.tagName.toUpperCase()){case"CATEGORY":s=t.utils.replaceMessageReferences(i.getAttribute("name"));var l=this.tree_.createNode(s);l.onSizeChanged(this.handleNodeSizeChanged_),l.blocks=[],n.add(l);var u=i.getAttribute("custom");u?l.blocks=u:(u=this.syncTrees_(i,l,o))&&(r=u),u=i.getAttribute("categorystyle");var c=i.getAttribute("colour");c&&u?(l.hexColour="",console.warn('Toolbox category "'+s+'" can not have both a style and a colour')):u?this.setColourFromStyle_(u,l,s):this.setColour_(c,l,s),"true"==i.getAttribute("expanded")?(l.blocks.length&&(r=l),l.setExpanded(!0)):l.setExpanded(!1),s=i;break;case"SEP":if(s&&"CATEGORY"==s.tagName.toUpperCase()){n.add(new t.Toolbox.TreeSeparator(this.treeSeparatorConfig_));break}case"BLOCK":case"SHADOW":case"LABEL":case"BUTTON":n.blocks.push(i),s=i}return r},t.Toolbox.prototype.setColour_=function(e,n,o){if(null===(e=t.utils.replaceMessageReferences(e))||""===e)n.hexColour="";else{var i=Number(e);isNaN(i)?(i=t.utils.colour.parse(e))?(n.hexColour=i,this.hasColours_=!0):(n.hexColour="",console.warn('Toolbox category "'+o+'" has unrecognized colour attribute: '+e)):(n.hexColour=t.hueToHex(i),this.hasColours_=!0)}},t.Toolbox.prototype.setColourFromStyle_=function(t,e,n){e.styleName=t;var o=this.workspace_.getTheme();t&&o&&((o=o.getCategoryStyle(t))&&o.colour?this.setColour_(o.colour,e,n):console.warn('Style "'+t+'" must exist and contain a colour value'))},t.Toolbox.prototype.updateColourFromTheme_=function(t){if(t=t||this.tree_){t=t.getChildren(!1);for(var e,n=0;e=t[n];n++)e.styleName&&(this.setColourFromStyle_(e.styleName,e,""),this.addColour_()),this.updateColourFromTheme_(e)}},t.Toolbox.prototype.updateColourFromTheme=function(){var t=this.tree_;t&&(this.updateColourFromTheme_(t),this.updateSelectedItemColour_(t))},t.Toolbox.prototype.updateSelectedItemColour_=function(t){if(t=t.getSelectedItem()){var e=t.hexColour||"#57e";t.getRowElement().style.backgroundColor=e,this.addColour_(t)}},t.Toolbox.prototype.addColour_=function(t){t=(t||this.tree_).getChildren(!1);for(var e,n=0;e=t[n];n++){var o=e.getRowElement();if(o){var i=this.hasColours_?"8px solid "+(e.hexColour||"#ddd"):"none";this.workspace_.RTL?o.style.borderRight=i:o.style.borderLeft=i}this.addColour_(e)}},t.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)},t.Toolbox.prototype.addStyle=function(e){t.utils.dom.addClass(this.HtmlDiv,e)},t.Toolbox.prototype.removeStyle=function(e){t.utils.dom.removeClass(this.HtmlDiv,e)},t.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var e=this.HtmlDiv.getBoundingClientRect(),n=e.top,o=n+e.height,i=e.left;return e=i+e.width,this.toolboxPosition==t.TOOLBOX_AT_TOP?new t.utils.Rect(-1e7,o,-1e7,1e7):this.toolboxPosition==t.TOOLBOX_AT_BOTTOM?new t.utils.Rect(n,1e7,-1e7,1e7):this.toolboxPosition==t.TOOLBOX_AT_LEFT?new t.utils.Rect(-1e7,1e7,-1e7,e):new t.utils.Rect(-1e7,1e7,i,1e7)},t.Toolbox.prototype.refreshSelection=function(){var t=this.tree_.getSelectedItem();t&&t.blocks&&this.flyout_.show(t.blocks)},t.Toolbox.prototype.selectFirstCategory=function(){this.tree_.getSelectedItem()||this.tree_.selectFirst()},t.Toolbox.TreeSeparator=function(e){t.tree.TreeNode.call(this,null,"",e)},t.utils.object.inherits(t.Toolbox.TreeSeparator,t.tree.TreeNode),t.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),t.Trashcan=function(e){if(this.workspace_=e,this.contents_=[],!(0>=this.workspace_.options.maxTrashcanContents)){if(e={scrollbars:!0,disabledPatternId:this.workspace_.options.disabledPatternId,parentWorkspace:this.workspace_,RTL:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer},this.workspace_.horizontalLayout){if(e.toolboxPosition=this.workspace_.toolboxPosition==t.TOOLBOX_AT_TOP?t.TOOLBOX_AT_BOTTOM:t.TOOLBOX_AT_TOP,!t.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new t.HorizontalFlyout(e)}else{if(e.toolboxPosition=this.workspace_.toolboxPosition==t.TOOLBOX_AT_RIGHT?t.TOOLBOX_AT_LEFT:t.TOOLBOX_AT_RIGHT,!t.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new t.VerticalFlyout(e)}this.workspace_.addChangeListener(this.onDelete_.bind(this))}},t.Trashcan.prototype.WIDTH_=47,t.Trashcan.prototype.BODY_HEIGHT_=44,t.Trashcan.prototype.LID_HEIGHT_=16,t.Trashcan.prototype.MARGIN_BOTTOM_=20,t.Trashcan.prototype.MARGIN_SIDE_=20,t.Trashcan.prototype.MARGIN_HOTSPOT_=10,t.Trashcan.prototype.SPRITE_LEFT_=0,t.Trashcan.prototype.SPRITE_TOP_=32,t.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE=.1,t.Trashcan.prototype.isOpen=!1,t.Trashcan.prototype.minOpenness_=0,t.Trashcan.prototype.svgGroup_=null,t.Trashcan.prototype.svgLid_=null,t.Trashcan.prototype.lidTask_=0,t.Trashcan.prototype.lidOpen_=0,t.Trashcan.prototype.left_=0,t.Trashcan.prototype.top_=0,t.Trashcan.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyTrash"},null);var e=String(Math.random()).substring(2),n=t.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);t.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},n);var o=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_);return o.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),n=t.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),t.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},n),this.svgLid_=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),t.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.click),t.bindEvent_(o,"mouseover",this,this.mouseOver_),t.bindEvent_(o,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},t.Trashcan.prototype.init=function(e){return 0<this.workspace_.options.maxTrashcanContents&&(t.utils.dom.insertAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg()),this.flyout_.init(this.workspace_),this.flyout_.isBlockCreatable_=function(){return!0}),this.verticalSpacing_=this.MARGIN_BOTTOM_+e,this.setOpen_(!1),this.verticalSpacing_+this.BODY_HEIGHT_+this.LID_HEIGHT_},t.Trashcan.prototype.dispose=function(){this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},t.Trashcan.prototype.position=function(){if(this.verticalSpacing_){var e=this.workspace_.getMetrics();e&&(this.left_=e.toolboxPosition==t.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-t.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+t.Scrollbar.scrollbarThickness,this.top_=e.toolboxPosition==t.TOOLBOX_AT_BOTTOM?this.verticalSpacing_:e.viewHeight+e.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.verticalSpacing_,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},t.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return e=e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,new t.utils.Rect(n,n+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,e,e+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},t.Trashcan.prototype.setOpen_=function(t){this.isOpen!=t&&(clearTimeout(this.lidTask_),this.isOpen=t,this.animateLid_())},t.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isOpen?.2:-.2,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(45*this.lidOpen_),this.svgGroup_.style.opacity=.4+.4*this.lidOpen_,this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),20))},t.Trashcan.prototype.setLidAngle_=function(e){var n=this.workspace_.toolboxPosition==t.TOOLBOX_AT_RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(n?-e:e)+","+(n?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},t.Trashcan.prototype.close=function(){this.setOpen_(!1)},t.Trashcan.prototype.click=function(){if(this.contents_.length){for(var e,n=[],o=0;e=this.contents_[o];o++)n[o]=t.Xml.textToDom(e);this.flyout_.show(n)}},t.Trashcan.prototype.mouseOver_=function(){this.contents_.length&&this.setOpen_(!0)},t.Trashcan.prototype.mouseOut_=function(){this.setOpen_(!1)},t.Trashcan.prototype.onDelete_=function(e){if(!(0>=this.workspace_.options.maxTrashcanContents)&&e.type==t.Events.BLOCK_DELETE&&"shadow"!=e.oldXml.tagName.toLowerCase()&&(e=this.cleanBlockXML_(e.oldXml),-1==this.contents_.indexOf(e))){for(this.contents_.unshift(e);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.minOpenness_=this.HAS_BLOCKS_LID_ANGLE,this.setLidAngle_(45*this.minOpenness_)}},t.Trashcan.prototype.cleanBlockXML_=function(e){for(var n=e=e.cloneNode(!0);n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"));var o=n.firstChild||n.nextSibling;if(!o)for(o=n.parentNode;o;){if(o.nextSibling){o=o.nextSibling;break}o=o.parentNode}n=o}return t.Xml.domToText(e)},t.VariablesDynamic={},t.VariablesDynamic.onCreateVariableButtonClick_String=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),null,"String")},t.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),null,"Number")},t.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),null,"Colour")},t.VariablesDynamic.flyoutCategory=function(e){var n=[],o=document.createElement("button");return o.setAttribute("text",t.Msg.NEW_STRING_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),n.push(o),(o=document.createElement("button")).setAttribute("text",t.Msg.NEW_NUMBER_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),n.push(o),(o=document.createElement("button")).setAttribute("text",t.Msg.NEW_COLOUR_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),n.push(o),e.registerButtonCallback("CREATE_VARIABLE_STRING",t.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",t.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",t.VariablesDynamic.onCreateVariableButtonClick_Colour),e=t.VariablesDynamic.flyoutCategoryBlocks(e),n.concat(e)},t.VariablesDynamic.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getAllVariables()).length){if(t.Blocks.variables_set_dynamic){var o=e[e.length-1],i=t.utils.xml.createElement("block");i.setAttribute("type","variables_set_dynamic"),i.setAttribute("gap",24),i.appendChild(t.Variables.generateVariableFieldDom(o)),n.push(i)}if(t.Blocks.variables_get_dynamic){e.sort(t.VariableModel.compareByName),o=0;for(var r;r=e[o];o++)(i=t.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),i.setAttribute("gap",8),i.appendChild(t.Variables.generateVariableFieldDom(r)),n.push(i)}}return n},t.ZoomControls=function(t){this.workspace_=t},t.ZoomControls.prototype.WIDTH_=32,t.ZoomControls.prototype.HEIGHT_=110,t.ZoomControls.prototype.MARGIN_BOTTOM_=20,t.ZoomControls.prototype.MARGIN_SIDE_=20,t.ZoomControls.prototype.svgGroup_=null,t.ZoomControls.prototype.left_=0,t.ZoomControls.prototype.top_=0,t.ZoomControls.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement("g",{},null);var e=String(Math.random()).substring(2);return this.createZoomOutSvg_(e),this.createZoomInSvg_(e),this.workspace_.isMovable()&&this.createZoomResetSvg_(e),this.svgGroup_},t.ZoomControls.prototype.init=function(t){return this.verticalSpacing_=this.MARGIN_BOTTOM_+t,this.verticalSpacing_+this.HEIGHT_},t.ZoomControls.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_)},t.ZoomControls.prototype.position=function(){if(this.verticalSpacing_){var e=this.workspace_.getMetrics();e&&(this.left_=e.toolboxPosition==t.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-t.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+t.Scrollbar.scrollbarThickness,e.toolboxPosition==t.TOOLBOX_AT_BOTTOM?(this.top_=this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 34)"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, 77)")):(this.top_=e.viewHeight+e.absoluteTop-this.HEIGHT_-this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 43)"),this.zoomOutGroup_.setAttribute("transform","translate(0, 77)")),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},t.ZoomControls.prototype.createZoomOutSvg_=function(e){var n=this.workspace_;this.zoomOutGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var o=t.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup_);t.utils.dom.createSvgElement("rect",{width:32,height:32},o),(e=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,height:t.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup_)).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",n.options.pathToMedia+t.SPRITE.url),t.bindEventWithChecks_(e,"mousedown",null,(function(e){n.markFocused(),n.zoomCenter(-1),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()}))},t.ZoomControls.prototype.createZoomInSvg_=function(e){var n=this.workspace_;this.zoomInGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var o=t.utils.dom.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+e},this.zoomInGroup_);t.utils.dom.createSvgElement("rect",{width:32,height:32},o),(e=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,height:t.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup_)).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",n.options.pathToMedia+t.SPRITE.url),t.bindEventWithChecks_(e,"mousedown",null,(function(e){n.markFocused(),n.zoomCenter(1),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()}))},t.ZoomControls.prototype.createZoomResetSvg_=function(e){var n=this.workspace_;this.zoomResetGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var o=t.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup_);t.utils.dom.createSvgElement("rect",{width:32,height:32},o),(e=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,height:t.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup_)).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",n.options.pathToMedia+t.SPRITE.url),t.bindEventWithChecks_(e,"mousedown",null,(function(e){n.markFocused(),n.setScale(n.options.zoomOptions.startScale),n.beginCanvasTransition(),n.scrollCenter(),setTimeout(n.endCanvasTransition.bind(n),500),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()}))},t.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),t.Themes.Dark={},t.Themes.Dark.defaultBlockStyles={colour_blocks:{colourPrimary:"#a5745b",colourSecondary:"#dbc7bd",colourTertiary:"#845d49"},list_blocks:{colourPrimary:"#745ba5",colourSecondary:"#c7bddb",colourTertiary:"#5d4984"},logic_blocks:{colourPrimary:"#5b80a5",colourSecondary:"#bdccdb",colourTertiary:"#496684"},loop_blocks:{colourPrimary:"#5ba55b",colourSecondary:"#bddbbd",colourTertiary:"#498449"},math_blocks:{colourPrimary:"#5b67a5",colourSecondary:"#bdc2db",colourTertiary:"#495284"},procedure_blocks:{colourPrimary:"#995ba5",colourSecondary:"#d6bddb",colourTertiary:"#7a4984"},text_blocks:{colourPrimary:"#5ba58c",colourSecondary:"#bddbd1",colourTertiary:"#498470"},variable_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},variable_dynamic_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},hat_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a",hat:"cap"}},t.Themes.Dark.categoryStyles={colour_category:{colour:"#a5745b"},list_category:{colour:"#745ba5"},logic_category:{colour:"#5b80a5"},loop_category:{colour:"#5ba55b"},math_category:{colour:"#5b67a5"},procedure_category:{colour:"#995ba5"},text_category:{colour:"#5ba58c"},variable_category:{colour:"#a55b99"},variable_dynamic_category:{colour:"#a55b99"}},t.Themes.Dark=new t.Theme(t.Themes.Dark.defaultBlockStyles,t.Themes.Dark.categoryStyles),t.Themes.Dark.setComponentStyle("workspace","#1e1e1e"),t.Themes.Dark.setComponentStyle("toolbox","#333"),t.Themes.Dark.setComponentStyle("toolboxText","#fff"),t.Themes.Dark.setComponentStyle("flyout","#252526"),t.Themes.Dark.setComponentStyle("flyoutText","#ccc"),t.Themes.Dark.setComponentStyle("flyoutOpacity",1),t.Themes.Dark.setComponentStyle("scrollbar","#797979"),t.Themes.Dark.setComponentStyle("scrollbarOpacity",.4),t.Themes.HighContrast={},t.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},t.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},t.Themes.HighContrast=new t.Theme(t.Themes.HighContrast.defaultBlockStyles,t.Themes.HighContrast.categoryStyles),t.Themes.Modern={},t.Themes.Modern.defaultBlockStyles={colour_blocks:{colourPrimary:"#a5745b",colourSecondary:"#dbc7bd",colourTertiary:"#845d49"},list_blocks:{colourPrimary:"#745ba5",colourSecondary:"#c7bddb",colourTertiary:"#5d4984"},logic_blocks:{colourPrimary:"#5b80a5",colourSecondary:"#bdccdb",colourTertiary:"#496684"},loop_blocks:{colourPrimary:"#5ba55b",colourSecondary:"#bddbbd",colourTertiary:"#498449"},math_blocks:{colourPrimary:"#5b67a5",colourSecondary:"#bdc2db",colourTertiary:"#495284"},procedure_blocks:{colourPrimary:"#995ba5",colourSecondary:"#d6bddb",colourTertiary:"#7a4984"},text_blocks:{colourPrimary:"#5ba58c",colourSecondary:"#bddbd1",colourTertiary:"#498470"},variable_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},variable_dynamic_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},hat_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a",hat:"cap"}},t.Themes.Modern.categoryStyles={colour_category:{colour:"#a5745b"},list_category:{colour:"#745ba5"},logic_category:{colour:"#5b80a5"},loop_category:{colour:"#5ba55b"},math_category:{colour:"#5b67a5"},procedure_category:{colour:"#995ba5"},text_category:{colour:"#5ba58c"},variable_category:{colour:"#a55b99"},variable_dynamic_category:{colour:"#a55b99"}},t.Themes.Modern=new t.Theme(t.Themes.Modern.defaultBlockStyles,t.Themes.Modern.categoryStyles),t.requires={},t})?o.apply(e,i):o)||(t.exports=r)}).call(this,n(104))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(o){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var o,i,r;i=[n(29)],void 0===(r="function"===typeof(o=function(t){return(t={Msg:{}}).Msg.ADD_COMMENT="Add Comment",t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",t.Msg.CHANGE_VALUE_TITLE="Change value:",t.Msg.CLEAN_UP="Clean up Blocks",t.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",t.Msg.COLLAPSE_ALL="Collapse Blocks",t.Msg.COLLAPSE_BLOCK="Collapse Block",t.Msg.COLOUR_BLEND_COLOUR1="colour 1",t.Msg.COLOUR_BLEND_COLOUR2="colour 2",t.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",t.Msg.COLOUR_BLEND_RATIO="ratio",t.Msg.COLOUR_BLEND_TITLE="blend",t.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",t.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",t.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",t.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",t.Msg.COLOUR_RANDOM_TITLE="random colour",t.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",t.Msg.COLOUR_RGB_BLUE="blue",t.Msg.COLOUR_RGB_GREEN="green",t.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",t.Msg.COLOUR_RGB_RED="red",t.Msg.COLOUR_RGB_TITLE="colour with",t.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",t.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",t.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",t.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",t.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",t.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",t.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",t.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",t.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",t.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",t.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",t.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",t.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",t.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",t.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",t.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",t.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",t.Msg.CONTROLS_IF_MSG_ELSE="else",t.Msg.CONTROLS_IF_MSG_ELSEIF="else if",t.Msg.CONTROLS_IF_MSG_IF="if",t.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",t.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",t.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",t.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",t.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",t.Msg.CONTROLS_REPEAT_INPUT_DO="do",t.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",t.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",t.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",t.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",t.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",t.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",t.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",t.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",t.Msg.DELETE_BLOCK="Delete Block",t.Msg.DELETE_VARIABLE="Delete the '%1' variable",t.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",t.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",t.Msg.DISABLE_BLOCK="Disable Block",t.Msg.DUPLICATE_BLOCK="Duplicate",t.Msg.DUPLICATE_COMMENT="Duplicate Comment",t.Msg.ENABLE_BLOCK="Enable Block",t.Msg.EXPAND_ALL="Expand Blocks",t.Msg.EXPAND_BLOCK="Expand Block",t.Msg.EXTERNAL_INPUTS="External Inputs",t.Msg.HELP="Help",t.Msg.INLINE_INPUTS="Inline Inputs",t.Msg.IOS_CANCEL="Cancel",t.Msg.IOS_ERROR="Error",t.Msg.IOS_OK="OK",t.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",t.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",t.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",t.Msg.IOS_PROCEDURES_INPUTS="INPUTS",t.Msg.IOS_VARIABLES_ADD_BUTTON="Add",t.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",t.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",t.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",t.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",t.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",t.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",t.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",t.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",t.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",t.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",t.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",t.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",t.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",t.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",t.Msg.LISTS_GET_INDEX_FIRST="first",t.Msg.LISTS_GET_INDEX_FROM_END="# from end",t.Msg.LISTS_GET_INDEX_FROM_START="#",t.Msg.LISTS_GET_INDEX_GET="get",t.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",t.Msg.LISTS_GET_INDEX_LAST="last",t.Msg.LISTS_GET_INDEX_RANDOM="random",t.Msg.LISTS_GET_INDEX_REMOVE="remove",t.Msg.LISTS_GET_INDEX_TAIL="",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",t.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",t.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",t.Msg.LISTS_GET_SUBLIST_END_LAST="to last",t.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",t.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",t.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",t.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",t.Msg.LISTS_GET_SUBLIST_TAIL="",t.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",t.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",t.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",t.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",t.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",t.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",t.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",t.Msg.LISTS_INLIST="in list",t.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",t.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",t.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",t.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",t.Msg.LISTS_LENGTH_TITLE="length of %1",t.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",t.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",t.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",t.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",t.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",t.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",t.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",t.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",t.Msg.LISTS_SET_INDEX_INPUT_TO="as",t.Msg.LISTS_SET_INDEX_INSERT="insert at",t.Msg.LISTS_SET_INDEX_SET="set",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",t.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",t.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",t.Msg.LISTS_SORT_ORDER_DESCENDING="descending",t.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",t.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",t.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",t.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",t.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",t.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",t.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",t.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",t.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",t.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",t.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",t.Msg.LOGIC_BOOLEAN_FALSE="false",t.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",t.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",t.Msg.LOGIC_BOOLEAN_TRUE="true",t.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",t.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",t.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",t.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",t.Msg.LOGIC_NEGATE_TITLE="not %1",t.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",t.Msg.LOGIC_NULL="null",t.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",t.Msg.LOGIC_NULL_TOOLTIP="Returns null.",t.Msg.LOGIC_OPERATION_AND="and",t.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",t.Msg.LOGIC_OPERATION_OR="or",t.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",t.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",t.Msg.LOGIC_TERNARY_CONDITION="test",t.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",t.Msg.LOGIC_TERNARY_IF_FALSE="if false",t.Msg.LOGIC_TERNARY_IF_TRUE="if true",t.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",t.Msg.MATH_ADDITION_SYMBOL="+",t.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",t.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",t.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",t.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",t.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",t.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",t.Msg.MATH_CHANGE_TITLE="change %1 by %2",t.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",t.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",t.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",t.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",t.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",t.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",t.Msg.MATH_DIVISION_SYMBOL="\xf7",t.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",t.Msg.MATH_IS_EVEN="is even",t.Msg.MATH_IS_NEGATIVE="is negative",t.Msg.MATH_IS_ODD="is odd",t.Msg.MATH_IS_POSITIVE="is positive",t.Msg.MATH_IS_PRIME="is prime",t.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",t.Msg.MATH_IS_WHOLE="is whole",t.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",t.Msg.MATH_MODULO_TITLE="remainder of %1 \xf7 %2",t.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",t.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",t.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",t.Msg.MATH_NUMBER_TOOLTIP="A number.",t.Msg.MATH_ONLIST_HELPURL="",t.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",t.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",t.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",t.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",t.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",t.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",t.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",t.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",t.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",t.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",t.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",t.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",t.Msg.MATH_POWER_SYMBOL="^",t.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",t.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",t.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",t.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",t.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",t.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",t.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",t.Msg.MATH_ROUND_OPERATOR_ROUND="round",t.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",t.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",t.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",t.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",t.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",t.Msg.MATH_SINGLE_OP_ROOT="square root",t.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",t.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",t.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",t.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",t.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",t.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",t.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",t.Msg.MATH_SUBTRACTION_SYMBOL="-",t.Msg.MATH_TRIG_ACOS="acos",t.Msg.MATH_TRIG_ASIN="asin",t.Msg.MATH_TRIG_ATAN="atan",t.Msg.MATH_TRIG_COS="cos",t.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",t.Msg.MATH_TRIG_SIN="sin",t.Msg.MATH_TRIG_TAN="tan",t.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",t.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",t.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",t.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",t.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",t.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",t.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",t.Msg.NEW_NUMBER_VARIABLE="Create number variable...",t.Msg.NEW_STRING_VARIABLE="Create string variable...",t.Msg.NEW_VARIABLE="Create variable...",t.Msg.NEW_VARIABLE_TITLE="New variable name:",t.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",t.Msg.ORDINAL_NUMBER_SUFFIX="",t.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",t.Msg.PROCEDURES_BEFORE_PARAMS="with:",t.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",t.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",t.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",t.Msg.PROCEDURES_CREATE_DO="Create '%1'",t.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",t.Msg.PROCEDURES_DEFNORETURN_DO="",t.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",t.Msg.PROCEDURES_DEFNORETURN_TITLE="to",t.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",t.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_DEFRETURN_RETURN="return",t.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",t.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",t.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",t.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",t.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",t.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",t.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",t.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",t.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",t.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",t.Msg.REDO="Redo",t.Msg.REMOVE_COMMENT="Remove Comment",t.Msg.RENAME_VARIABLE="Rename variable...",t.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",t.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",t.Msg.TEXT_APPEND_TITLE="to %1 append text %2",t.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",t.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",t.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",t.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",t.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",t.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",t.Msg.TEXT_CHARAT_FIRST="get first letter",t.Msg.TEXT_CHARAT_FROM_END="get letter # from end",t.Msg.TEXT_CHARAT_FROM_START="get letter #",t.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",t.Msg.TEXT_CHARAT_LAST="get last letter",t.Msg.TEXT_CHARAT_RANDOM="get random letter",t.Msg.TEXT_CHARAT_TAIL="",t.Msg.TEXT_CHARAT_TITLE="in text %1 %2",t.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",t.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",t.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",t.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",t.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",t.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",t.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",t.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",t.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",t.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",t.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",t.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",t.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",t.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",t.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",t.Msg.TEXT_GET_SUBSTRING_TAIL="",t.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",t.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",t.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",t.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",t.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",t.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",t.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",t.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",t.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",t.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",t.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",t.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",t.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",t.Msg.TEXT_LENGTH_TITLE="length of %1",t.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",t.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",t.Msg.TEXT_PRINT_TITLE="print %1",t.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",t.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",t.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",t.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",t.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",t.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",t.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",t.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",t.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",t.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",t.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",t.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",t.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",t.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",t.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",t.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",t.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",t.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",t.Msg.TODAY="Today",t.Msg.UNDO="Undo",t.Msg.UNNAMED_KEY="unnamed",t.Msg.VARIABLES_DEFAULT_NAME="item",t.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",t.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",t.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",t.Msg.VARIABLES_SET="set %1 to %2",t.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",t.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",t.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",t.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",t.Msg.CONTROLS_FOREACH_INPUT_DO=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.CONTROLS_FOR_INPUT_DO=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=t.Msg.CONTROLS_IF_MSG_ELSEIF,t.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=t.Msg.CONTROLS_IF_MSG_ELSE,t.Msg.CONTROLS_IF_IF_TITLE_IF=t.Msg.CONTROLS_IF_MSG_IF,t.Msg.CONTROLS_IF_MSG_THEN=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.LISTS_CREATE_WITH_ITEM_TITLE=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.LISTS_GET_INDEX_HELPURL=t.Msg.LISTS_INDEX_OF_HELPURL,t.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.MATH_CHANGE_TITLE_ITEM=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.PROCEDURES_DEFRETURN_COMMENT=t.Msg.PROCEDURES_DEFNORETURN_COMMENT,t.Msg.PROCEDURES_DEFRETURN_DO=t.Msg.PROCEDURES_DEFNORETURN_DO,t.Msg.PROCEDURES_DEFRETURN_PROCEDURE=t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,t.Msg.PROCEDURES_DEFRETURN_TITLE=t.Msg.PROCEDURES_DEFNORETURN_TITLE,t.Msg.TEXT_APPEND_VARIABLE=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.MATH_HUE="230",t.Msg.LOOPS_HUE="120",t.Msg.LISTS_HUE="260",t.Msg.LOGIC_HUE="210",t.Msg.VARIABLES_HUE="330",t.Msg.TEXTS_HUE="160",t.Msg.PROCEDURES_HUE="290",t.Msg.COLOUR_HUE="20",t.Msg.VARIABLES_DYNAMIC_HUE="310",t.Msg})?o.apply(e,i):o)||(t.exports=r)},function(t,e,n){var o,i,r;i=[n(29)],void 0===(r="function"===typeof(o=function(t){return t.Blocks={},t.Blocks.colour={},t.Constants={},t.Constants.Colour={},t.Constants.Colour.HUE=20,t.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),t.Blocks.lists={},t.Constants.Lists={},t.Constants.Lists.HUE=260,t.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),t.Blocks.lists_create_with={init:function(){this.setHelpUrl(t.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.Mutator(["lists_create_with_item"])),this.setTooltip(t.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("lists_create_with_container");e.initSvg();for(var n=e.getInput("STACK").connection,o=0;o<this.itemCount_;o++){var i=t.newBlock("lists_create_with_item");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return e},compose:function(e){var n=e.getInputTargetBlock("STACK");for(e=[];n;)e.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var o=this.getInput("ADD"+n).connection.targetConnection;o&&-1==e.indexOf(o)&&o.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),n=0;n<this.itemCount_;n++)t.Mutator.reconnect(e[n],this,"ADD"+n)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var n=this.getInput("ADD"+e);t.valueConnection_=n&&n.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(t.Msg.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var n=this.appendValueInput("ADD"+e);0==e&&n.appendField(t.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(t.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_indexOf={init:function(){var e=[[t.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[t.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(t.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new t.FieldDropdown(e),"END"),this.setInputsInline(!0);var n=this;this.setTooltip((function(){return t.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"0":"-1")}))}},t.Blocks.lists_getIndex={init:function(){var e=[[t.Msg.LISTS_GET_INDEX_GET,"GET"],[t.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[t.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),e=new t.FieldDropdown(e,(function(t){t="REMOVE"==t,this.getSourceBlock().updateStatement_(t)})),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),t.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var n=this;this.setTooltip((function(){var e=n.getFieldValue("MODE"),o=n.getFieldValue("WHERE"),i="";switch(e+" "+o){case"GET FROM_START":case"GET FROM_END":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":i=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!=o&&"FROM_END"!=o||(i+="  "+("FROM_START"==o?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("statement",!this.outputConnection);var n=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",n),e},domToMutation:function(t){var e="true"==t.getAttribute("statement");this.updateStatement_(e),t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateStatement_:function(t){t!=!this.outputConnection&&(this.unplug(!0,!0),t?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new t.FieldDropdown(this.WHERE_OPTIONS,(function(t){var n="FROM_START"==t||"FROM_END"==t;if(n!=e){var o=this.getSourceBlock();return o.updateAt_(n),o.setFieldValue(t,"WHERE"),null}}));this.getInput("AT").appendField(n,"WHERE"),t.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_setIndex={init:function(){var e=[[t.Msg.LISTS_SET_INDEX_SET,"SET"],[t.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new t.FieldDropdown(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(t.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var n=this;this.setTooltip((function(){var e=n.getFieldValue("MODE"),o=n.getFieldValue("WHERE"),i="";switch(e+" "+o){case"SET FROM_START":case"SET FROM_END":i=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":i=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":i=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":i=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":i=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":i=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":i=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":i=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=o&&"FROM_END"!=o||(i+="  "+t.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),n=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",n),e},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new t.FieldDropdown(this.WHERE_OPTIONS,(function(t){var n="FROM_START"==t||"FROM_END"==t;if(n!=e){var o=this.getSourceBlock();return o.updateAt_(n),o.setFieldValue(t,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(n,"WHERE")}},t.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),n=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",n),n=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",n),e},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(e,n){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),n?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);var o=new t.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=n){var i=this.getSourceBlock();return i.updateAt_(e,o),i.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(o,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_sort={init:function(){this.jsonInit({message0:t.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[t.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[t.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[t.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[t.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[t.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:t.Msg.LISTS_SORT_TOOLTIP,helpUrl:t.Msg.LISTS_SORT_HELPURL})}},t.Blocks.lists_split={init:function(){var e=this,n=new t.FieldDropdown([[t.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[t.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(t){e.updateType_(t)}));this.setHelpUrl(t.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(n,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(t.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var n=e.getFieldValue("MODE");if("SPLIT"==n)return t.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==n)return t.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+n)}))},updateType_:function(t){if(this.getFieldValue("MODE")!=t){var e=this.getInput("INPUT").connection;e.setShadowDom(null);var n=e.targetBlock();n&&(e.disconnect(),n.isShadow()?n.dispose():this.bumpNeighbours())}"SPLIT"==t?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(t){this.updateType_(t.getAttribute("mode"))}},t.Blocks.logic={},t.Constants.Logic={},t.Constants.Logic.HUE=210,t.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),t.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),t.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},t.Extensions.register("logic_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Logic.TOOLTIPS_BY_OP)),t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=t.utils.xml.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(t){this.elseifCount_=parseInt(t.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(t.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(t){var e=t.newBlock("controls_if_if");e.initSvg();for(var n=e.nextConnection,o=1;o<=this.elseifCount_;o++){var i=t.newBlock("controls_if_elseif");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return this.elseCount_&&((t=t.newBlock("controls_if_else")).initSvg(),n.connect(t.previousConnection)),e},compose:function(t){t=t.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var e=[null],n=[null],o=null;t;){switch(t.type){case"controls_if_elseif":this.elseifCount_++,e.push(t.valueConnection_),n.push(t.statementConnection_);break;case"controls_if_else":this.elseCount_++,o=t.statementConnection_;break;default:throw TypeError("Unknown block type: "+t.type)}t=t.nextConnection&&t.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(e,n,o)},saveConnections:function(t){t=t.nextConnection.targetBlock();for(var e=1;t;){switch(t.type){case"controls_if_elseif":var n=this.getInput("IF"+e),o=this.getInput("DO"+e);t.valueConnection_=n&&n.connection.targetConnection,t.statementConnection_=o&&o.connection.targetConnection,e++;break;case"controls_if_else":o=this.getInput("ELSE"),t.statementConnection_=o&&o.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+t.type)}t=t.nextConnection&&t.nextConnection.targetBlock()}},rebuildShape_:function(){var t=[null],e=[null],n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(var o=1;this.getInput("IF"+o);){var i=this.getInput("IF"+o),r=this.getInput("DO"+o);t.push(i.connection.targetConnection),e.push(r.connection.targetConnection),o++}this.updateShape_(),this.reconnectChildBlocks_(t,e,n)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);)this.removeInput("IF"+e),this.removeInput("DO"+e),e++;for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(t.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(t.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,n,o){for(var i=1;i<=this.elseifCount_;i++)t.Mutator.reconnect(e[i],this,"IF"+i),t.Mutator.reconnect(n[i],this,"DO"+i);t.Mutator.reconnect(o,this,"ELSE")}},t.Extensions.registerMutator("controls_if_mutator",t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_4:"":t.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},t.Extensions.register("controls_if_tooltip",t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var n=this.getInputTargetBlock("A"),o=this.getInputTargetBlock("B");n&&o&&!n.outputConnection.checkType_(o.outputConnection)&&(t.Events.setGroup(e.group),(e=this.prevBlocks_[0])!==n&&(n.unplug(),e&&!e.isShadow()&&this.getInput("A").connection.connect(e.outputConnection)),(n=this.prevBlocks_[1])!==o&&(o.unplug(),n&&!n.isShadow()&&this.getInput("B").connection.connect(n.outputConnection)),this.bumpNeighbours(),t.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},t.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},t.Extensions.register("logic_compare",t.Constants.Logic.LOGIC_COMPARE_EXTENSION),t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(e){var n=this.getInputTargetBlock("THEN"),o=this.getInputTargetBlock("ELSE"),i=this.outputConnection.targetConnection;if((n||o)&&i)for(var r=0;2>r;r++){var s=1==r?n:o;s&&!s.outputConnection.checkType_(i)&&(t.Events.setGroup(e.group),i===this.prevParentConnection_?(this.unplug(),i.getSourceBlock().bumpNeighbours()):(s.unplug(),s.bumpNeighbours()),t.Events.setGroup(!1))}this.prevParentConnection_=i}},t.Extensions.registerMixin("logic_ternary",t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),t.Blocks.loops={},t.Constants.Loops={},t.Constants.Loops.HUE=120,t.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),t.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},t.Extensions.register("controls_whileUntil_tooltip",t.Extensions.buildTooltipForDropdown("MODE",t.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},t.Extensions.register("controls_flow_tooltip",t.Extensions.buildTooltipForDropdown("FLOW",t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(e){if(!this.isInFlyout){var n=this.getField("VAR").getVariable(),o=n.name;if(!this.isCollapsed()&&null!=o){var i={enabled:!0};i.text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),n=t.Variables.generateVariableFieldDom(n),(o=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),o.appendChild(n),i.callback=t.ContextMenu.callbackFactory(this,o),e.push(i)}}}},t.Extensions.registerMixin("contextMenu_newGetVariableBlock",t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),t.Extensions.register("controls_for_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),t.Extensions.register("controls_forEach_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(e){do{if(-1!=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(e.type))return e;e=e.getSurroundParent()}while(e);return null},onchange:function(e){this.workspace.isDragging&&!this.workspace.isDragging()&&(t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this)?(this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(t.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1)))}},t.Extensions.registerMixin("controls_flow_in_loop_check",t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),t.Blocks.math={},t.Constants.Math={},t.Constants.Math.HUE=230,t.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),t.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},t.Extensions.register("math_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Math.TOOLTIPS_BY_OP)),t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),n="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",n),e},domToMutation:function(t){t="true"==t.getAttribute("divisor_input"),this.updateShape_(t)},updateShape_:function(t){var e=this.getInput("DIVISOR");t?e||this.appendValueInput("DIVISOR").setCheck("Number"):e&&this.removeInput("DIVISOR")}},t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator((function(t){t="DIVISIBLE_BY"==t,this.getSourceBlock().updateShape_(t)}))},t.Extensions.registerMutator("math_is_divisibleby_mutator",t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),t.Extensions.register("math_change_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),t.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(t){"MODE"==t?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(t){this.updateType_(t.getAttribute("op"))}},t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(t){this.updateType_(t)}.bind(this))},t.Extensions.registerMutator("math_modes_of_list_mutator",t.Constants.Math.LIST_MODES_MUTATOR_MIXIN,t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),t.Blocks.procedures={},t.Blocks.procedures_defnoreturn={init:function(){var e=new t.FieldTextInput("",t.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(t.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){var e="";this.arguments_.length&&(e=t.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),t.Events.disable();try{this.setFieldValue(e,"PARAMS")}finally{t.Events.enable()}},mutationToDom:function(e){var n=t.utils.xml.createElement("mutation");e&&n.setAttribute("name",this.getFieldValue("NAME"));for(var o=0;o<this.argumentVarModels_.length;o++){var i=t.utils.xml.createElement("arg"),r=this.argumentVarModels_[o];i.setAttribute("name",r.name),i.setAttribute("varid",r.getId()),e&&this.paramIds_&&i.setAttribute("paramId",this.paramIds_[o]),n.appendChild(i)}return this.hasStatements_||n.setAttribute("statements","false"),n},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(var n,o=0;n=e.childNodes[o];o++)if("arg"==n.nodeName.toLowerCase()){var i=n.getAttribute("name");n=n.getAttribute("varid")||n.getAttribute("varId"),this.arguments_.push(i),null!=(n=t.Variables.getOrCreateVariablePackage(this.workspace,n,i,""))?this.argumentVarModels_.push(n):console.log("Failed to create a variable with name "+i+", ignoring.")}this.updateParams_(),t.Procedures.mutateCallers(this),this.setStatements_("false"!==e.getAttribute("statements"))},decompose:function(e){var n=t.utils.xml.createElement("block");n.setAttribute("type","procedures_mutatorcontainer");var o=t.utils.xml.createElement("statement");o.setAttribute("name","STACK"),n.appendChild(o);for(var i=0;i<this.arguments_.length;i++){var r=t.utils.xml.createElement("block");r.setAttribute("type","procedures_mutatorarg");var s=t.utils.xml.createElement("field");s.setAttribute("name","NAME");var a=t.utils.xml.createTextNode(this.arguments_[i]);s.appendChild(a),r.appendChild(s),s=t.utils.xml.createElement("next"),r.appendChild(s),o.appendChild(r),o=s}return e=t.Xml.domToBlock(n,e),"procedures_defreturn"==this.type?e.setFieldValue(this.hasStatements_,"STATEMENTS"):e.removeInput("STATEMENT_INPUT"),t.Procedures.mutateCallers(this),e},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var n=e.getInputTargetBlock("STACK");n;){var o=n.getFieldValue("NAME");this.arguments_.push(o),o=this.workspace.getVariable(o,""),this.argumentVarModels_.push(o),this.paramIds_.push(n.id),n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateParams_(),t.Procedures.mutateCallers(this),null!==(e=e.getFieldValue("STATEMENTS"))&&(e="TRUE"==e,this.hasStatements_!=e)&&(e?(this.setStatements_(!0),t.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(e=this.getInput("STACK").connection,(this.statementConnection_=e.targetConnection)&&((e=e.targetBlock()).unplug(),e.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(e,n){var o=this.workspace.getVariableById(e);if(""==o.type){o=o.name;for(var i=this.workspace.getVariableById(n),r=!1,s=0;s<this.argumentVarModels_.length;s++)this.argumentVarModels_[s].getId()==e&&(this.arguments_[s]=i.name,this.argumentVarModels_[s]=i,r=!0);r&&(this.displayRenamedVar_(o,i.name),t.Procedures.mutateCallers(this))}},updateVarName:function(e){for(var n=e.name,o=!1,i=0;i<this.argumentVarModels_.length;i++)if(this.argumentVarModels_[i].getId()==e.getId()){var r=this.arguments_[i];this.arguments_[i]=n,o=!0}o&&(this.displayRenamedVar_(r,n),t.Procedures.mutateCallers(this))},displayRenamedVar_:function(e,n){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var o,i=this.mutator.workspace_.getAllBlocks(!1),r=0;o=i[r];r++)"procedures_mutatorarg"==o.type&&t.Names.equals(e,o.getFieldValue("NAME"))&&o.setFieldValue(n,"NAME")},customContextMenu:function(e){if(!this.isInFlyout){var n={enabled:!0},o=this.getFieldValue("NAME");n.text=t.Msg.PROCEDURES_CREATE_DO.replace("%1",o);var i=t.utils.xml.createElement("mutation");for(i.setAttribute("name",o),o=0;o<this.arguments_.length;o++){var r=t.utils.xml.createElement("arg");r.setAttribute("name",this.arguments_[o]),i.appendChild(r)}if((o=t.utils.xml.createElement("block")).setAttribute("type",this.callType_),o.appendChild(i),n.callback=t.ContextMenu.callbackFactory(this,o),e.push(n),!this.isCollapsed())for(o=0;o<this.argumentVarModels_.length;o++)n={enabled:!0},i=this.argumentVarModels_[o],n.text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",i.name),i=t.Variables.generateVariableFieldDom(i),(r=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),r.appendChild(i),n.callback=t.ContextMenu.callbackFactory(this,r),e.push(n)}},callType_:"procedures_callnoreturn"},t.Blocks.procedures_defreturn={init:function(){var e=new t.FieldTextInput("",t.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.ALIGN_RIGHT).appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:t.Blocks.procedures_defnoreturn.setStatements_,updateParams_:t.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:t.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_defnoreturn.domToMutation,decompose:t.Blocks.procedures_defnoreturn.decompose,compose:t.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:t.Blocks.procedures_defnoreturn.getVars,getVarModels:t.Blocks.procedures_defnoreturn.getVarModels,renameVarById:t.Blocks.procedures_defnoreturn.renameVarById,updateVarName:t.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:t.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:t.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},t.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(t.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new t.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&(e.type==t.Events.BLOCK_DELETE||e.type==t.Events.BLOCK_CREATE)){var n=this.workspace.getAllBlocks(),o=this.workspace.getAllVariables();if(e.type==t.Events.BLOCK_DELETE){e=[];for(var i=0;i<n.length;i+=1)n[i].getFieldValue("NAME")&&e.push(n[i].getFieldValue("NAME"));for(n=0;n<o.length;n+=1)-1==e.indexOf(o[n].name)&&this.workspace.deleteVariableById(o[n].getId())}else if(e.type==t.Events.BLOCK_CREATE&&(o=this.workspace.getBlockById(e.blockId)).getField("NAME")&&(i=o.getFieldValue("NAME"),(e=this.workspace.getVariable(i))||(e=this.workspace.createVariable(i)),!o.previousConnection.isConnected()&&!o.nextConnection.isConnected()))for(i=0;i<n.length;i+=1)if(o.id!=n[i].id&&n[i].getFieldValue("NAME")==e.name){i=t.Variables.generateUniqueName(this.workspace),e=this.workspace.createVariable(i),o.setFieldValue(e.name,"NAME");break}}}},t.Blocks.procedures_mutatorarg={init:function(){var e=new t.FieldTextInput("x",this.validator_);e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(e){var n=this.getSourceBlock(),o=t.Mutator.findParentWs(n.workspace);if(!(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;n=n.workspace.getAllBlocks();for(var i=0;i<n.length;i++)if(n[i].id!=this.getSourceBlock().id&&n[i].getFieldValue("NAME")==e)return null;return(n=o.getVariable(e,""))&&n.name!=e&&o.renameVariableById(n.getId(),e),n||(n=o.createVariable(e,""))&&this.createdVariables_&&this.createdVariables_.push(n),e},deleteIntermediateVars_:function(e){var n=t.Mutator.findParentWs(this.getSourceBlock().workspace);if(n)for(var o=0;o<this.createdVariables_.length;o++){var i=this.createdVariables_[o];i.name!=e&&n.deleteVariableById(i.getId())}}},t.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,n){t.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(n,"NAME"),this.setTooltip((this.outputConnection?t.Msg.PROCEDURES_CALLRETURN_TOOLTIP:t.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",n)))},setProcedureParameters_:function(e,n){var o=t.Procedures.getDefinition(this.getProcedureCall(),this.workspace),i=o&&o.mutator&&o.mutator.isVisible();if(i||(this.quarkConnections_={},this.quarkIds_=null),n)if(e.join("\n")==this.arguments_.join("\n"))this.quarkIds_=n;else{if(n.length!=e.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),o=this.rendered,this.rendered=!1;for(var r=0;r<this.arguments_.length;r++){var s=this.getInput("ARG"+r);s&&(s=s.connection.targetConnection,this.quarkConnections_[this.quarkIds_[r]]=s,i&&s&&-1==n.indexOf(this.quarkIds_[r])&&(s.disconnect(),s.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(e),this.argumentVarModels_=[],r=0;r<this.arguments_.length;r++)i=t.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[r],""),this.argumentVarModels_.push(i);if(this.updateShape_(),this.quarkIds_=n)for(r=0;r<this.arguments_.length;r++)(i=this.quarkIds_[r])in this.quarkConnections_&&(s=this.quarkConnections_[i],t.Mutator.reconnect(s,this,"ARG"+r)||delete this.quarkConnections_[i]);(this.rendered=o)&&this.render()}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var n=this.getField("ARGNAME"+e);if(n){t.Events.disable();try{n.setValue(this.arguments_[e])}finally{t.Events.enable()}}else n=new t.FieldLabel(this.arguments_[e]),this.appendValueInput("ARG"+e).setAlign(t.ALIGN_RIGHT).appendField(n,"ARGNAME"+e).init()}for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(t.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(var n=0;n<this.arguments_.length;n++){var o=t.utils.xml.createElement("arg");o.setAttribute("name",this.arguments_[n]),e.appendChild(o)}return e},domToMutation:function(t){var e=t.getAttribute("name");this.renameProcedure(this.getProcedureCall(),e),e=[];for(var n,o=[],i=0;n=t.childNodes[i];i++)"arg"==n.nodeName.toLowerCase()&&(e.push(n.getAttribute("name")),o.push(n.getAttribute("paramId")));this.setProcedureParameters_(e,o)},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type==t.Events.BLOCK_CREATE&&-1!=e.ids.indexOf(this.id)){var n=this.getProcedureCall();if(!(n=t.Procedures.getDefinition(n,this.workspace))||n.type==this.defType_&&JSON.stringify(n.arguments_)==JSON.stringify(this.arguments_)||(n=null),!n){t.Events.setGroup(e.group),e=t.utils.xml.createElement("xml"),(n=t.utils.xml.createElement("block")).setAttribute("type",this.defType_);var o=this.getRelativeToSurfaceXY(),i=o.y+2*t.SNAP_RADIUS;n.setAttribute("x",o.x+t.SNAP_RADIUS*(this.RTL?-1:1)),n.setAttribute("y",i),o=this.mutationToDom(),n.appendChild(o),(o=t.utils.xml.createElement("field")).setAttribute("name","NAME"),o.appendChild(t.utils.xml.createTextNode(this.getProcedureCall())),n.appendChild(o),e.appendChild(n),t.Xml.domToWorkspace(e,this.workspace),t.Events.setGroup(!1)}}else e.type==t.Events.BLOCK_DELETE?(n=this.getProcedureCall(),(n=t.Procedures.getDefinition(n,this.workspace))||(t.Events.setGroup(e.group),this.dispose(!0,!1),t.Events.setGroup(!1))):e.type==t.Events.CHANGE&&"disabled"==e.element&&(n=this.getProcedureCall(),(n=t.Procedures.getDefinition(n,this.workspace))&&n.id==e.blockId&&((n=t.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),t.Events.setGroup(e.group),e.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),t.Events.setGroup(n)))},customContextMenu:function(e){if(this.workspace.isMovable()){var n={enabled:!0};n.text=t.Msg.PROCEDURES_HIGHLIGHT_DEF;var o=this.getProcedureCall(),i=this.workspace;n.callback=function(){var e=t.Procedures.getDefinition(o,i);e&&(i.centerOnBlock(e.id),e.select())},e.push(n)}},defType_:"procedures_defnoreturn"},t.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:t.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:t.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:t.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:t.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:t.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_callnoreturn.domToMutation,getVarModels:t.Blocks.procedures_callnoreturn.getVarModels,onchange:t.Blocks.procedures_callnoreturn.onchange,customContextMenu:t.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},t.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),e},domToMutation:function(e){this.hasReturnValue_=1==e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()){e=!1;var n=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(n.type)){e=!0;break}n=n.getSurroundParent()}while(n);e?("procedures_defnoreturn"==n.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=n.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(t.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},t.Blocks.texts={},t.Constants.Text={},t.Constants.Text.HUE=160,t.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xb6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),t.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(t.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),n=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",n),n=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",n),e},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(e,n){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),n?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2==e&&t.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL));var o=new t.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=n){var i=this.getSourceBlock();return i.updateAt_(e,o),i.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(o,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},t.Blocks.text_changeCase={init:function(){var e=[[t.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(t.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_CHANGECASE_TOOLTIP)}},t.Blocks.text_trim={init:function(){var e=[[t.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[t.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[t.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(t.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_TRIM_TOOLTIP)}},t.Blocks.text_print={init:function(){this.jsonInit({message0:t.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:t.Msg.TEXT_PRINT_TOOLTIP,helpUrl:t.Msg.TEXT_PRINT_HELPURL})}},t.Blocks.text_prompt_ext={init:function(){var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var n=this;e=new t.FieldDropdown(e,(function(t){n.updateType_(t)})),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==n.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:function(t){this.outputConnection.setCheck("NUMBER"==t?"Number":"String")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(t){this.updateType_(t.getAttribute("type"))}},t.Blocks.text_prompt={init:function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN);var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],n=this;this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),e=new t.FieldDropdown(e,(function(t){n.updateType_(t)})),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(new t.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==n.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:t.Blocks.text_prompt_ext.updateType_,mutationToDom:t.Blocks.text_prompt_ext.mutationToDom,domToMutation:t.Blocks.text_prompt_ext.domToMutation},t.Blocks.text_count={init:function(){this.jsonInit({message0:t.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_COUNT_TOOLTIP,helpUrl:t.Msg.TEXT_COUNT_HELPURL})}},t.Blocks.text_replace={init:function(){this.jsonInit({message0:t.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:t.Msg.TEXT_REPLACE_HELPURL})}},t.Blocks.text_reverse={init:function(){this.jsonInit({message0:t.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:t.Msg.TEXT_REVERSE_HELPURL})}},t.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(t){for(var e,n=0;e=this.inputList[n];n++)for(var o,i=0;o=e.fieldRow[i];i++)if(t==o.name)return e.insertFieldAt(i,this.newQuote_(!0)),void e.insertFieldAt(i+2,this.newQuote_(!1));console.warn('field named "'+t+'" not found in '+this.toDevString())},newQuote_:function(e){return e=this.RTL?!e:e,new t.FieldImage(e?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,e?"\u201c":"\u201d")}},t.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("text_create_join_container");e.initSvg();for(var n=e.getInput("STACK").connection,o=0;o<this.itemCount_;o++){var i=t.newBlock("text_create_join_item");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return e},compose:function(e){var n=e.getInputTargetBlock("STACK");for(e=[];n;)e.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var o=this.getInput("ADD"+n).connection.targetConnection;o&&-1==e.indexOf(o)&&o.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),n=0;n<this.itemCount_;n++)t.Mutator.reconnect(e[n],this,"ADD"+n)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var n=this.getInput("ADD"+e);t.valueConnection_=n&&n.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var n=this.appendValueInput("ADD"+e);0==e&&n.appendField(t.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.Mutator(["text_create_join_item"]))},t.Extensions.register("text_append_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var e=this;this.setTooltip((function(){return t.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")}))},t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("at",!!this.isAt_),e},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)),t.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_CHARAT_TAIL)),this.isAt_=e}},t.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator((function(t){(t="FROM_START"==t||"FROM_END"==t)!=this.isAt_&&this.getSourceBlock().updateAt_(t)})),this.updateAt_(!0);var e=this;this.setTooltip((function(){var n=e.getFieldValue("WHERE"),o=t.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==n||"FROM_END"==n)&&(n="FROM_START"==n?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(o+="  "+n.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),o}))},t.Extensions.register("text_indexOf_tooltip",t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),t.Extensions.register("text_quotes",t.Constants.Text.TEXT_QUOTES_EXTENSION),t.Extensions.registerMutator("text_join_mutator",t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,t.Constants.Text.TEXT_JOIN_EXTENSION),t.Extensions.registerMutator("text_charAt_mutator",t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,t.Constants.Text.TEXT_CHARAT_EXTENSION),t.Blocks.variables={},t.Constants.Variables={},t.Constants.Variables.HUE=330,t.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(e){if(this.isInFlyout)"variables_get"!=this.type&&"variables_get_reporter"!=this.type||(n={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},r=this.getField("VAR").getText(),i={text:t.Msg.DELETE_VARIABLE.replace("%1",r),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},e.unshift(n),e.unshift(i));else{if("variables_get"==this.type)var n="variables_set",o=t.Msg.VARIABLES_GET_CREATE_SET;else n="variables_get",o=t.Msg.VARIABLES_SET_CREATE_GET;var i={enabled:0<this.workspace.remainingCapacity()},r=this.getField("VAR").getText();i.text=o.replace("%1",r),(o=t.utils.xml.createElement("field")).setAttribute("name","VAR"),o.appendChild(t.utils.xml.createTextNode(r)),(r=t.utils.xml.createElement("block")).setAttribute("type",n),r.appendChild(o),i.callback=t.ContextMenu.callbackFactory(this,r),e.push(i)}}},t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var n=e.workspace,o=e.getField("VAR").getVariable();t.Variables.renameVariable(n,o)}},t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(t){return function(){var e=t.workspace,n=t.getField("VAR").getVariable();e.deleteVariableById(n.getId()),e.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableSetterGetter",t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Constants.VariablesDynamic={},t.Constants.VariablesDynamic.HUE=310,t.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(e){if(this.isInFlyout)"variables_get_dynamic"!=this.type&&"variables_get_reporter_dynamic"!=this.type||(n={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},s=this.getField("VAR").getText(),r={text:t.Msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},e.unshift(n),e.unshift(r));else{var n=this.getFieldValue("VAR"),o=this.workspace.getVariableById(n).type;if("variables_get_dynamic"==this.type){n="variables_set_dynamic";var i=t.Msg.VARIABLES_GET_CREATE_SET}else n="variables_get_dynamic",i=t.Msg.VARIABLES_SET_CREATE_GET;var r={enabled:0<this.workspace.remainingCapacity()},s=this.getField("VAR").getText();r.text=i.replace("%1",s),(i=t.utils.xml.createElement("field")).setAttribute("name","VAR"),i.setAttribute("variabletype",o),i.appendChild(t.utils.xml.createTextNode(s)),(s=t.utils.xml.createElement("block")).setAttribute("type",n),s.appendChild(i),r.callback=t.ContextMenu.callbackFactory(this,s),e.push(r)}},onchange:function(e){e=this.getFieldValue("VAR"),e=t.Variables.getVariable(this.workspace,e),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}},t.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var n=e.workspace,o=e.getField("VAR").getVariable();t.Variables.renameVariable(n,o)}},t.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(t){return function(){var e=t.workspace,n=t.getField("VAR").getVariable();e.deleteVariableById(n.getId()),e.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Blocks})?o.apply(e,i):o)||(t.exports=r)},function(t,e,n){var o,i,r;i=[n(29)],void 0===(r="function"===typeof(o=function(t){"use strict";return t.JavaScript=new t.Generator("JavaScript"),t.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan"),t.JavaScript.ORDER_ATOMIC=0,t.JavaScript.ORDER_NEW=1.1,t.JavaScript.ORDER_MEMBER=1.2,t.JavaScript.ORDER_FUNCTION_CALL=2,t.JavaScript.ORDER_INCREMENT=3,t.JavaScript.ORDER_DECREMENT=3,t.JavaScript.ORDER_BITWISE_NOT=4.1,t.JavaScript.ORDER_UNARY_PLUS=4.2,t.JavaScript.ORDER_UNARY_NEGATION=4.3,t.JavaScript.ORDER_LOGICAL_NOT=4.4,t.JavaScript.ORDER_TYPEOF=4.5,t.JavaScript.ORDER_VOID=4.6,t.JavaScript.ORDER_DELETE=4.7,t.JavaScript.ORDER_AWAIT=4.8,t.JavaScript.ORDER_EXPONENTIATION=5,t.JavaScript.ORDER_MULTIPLICATION=5.1,t.JavaScript.ORDER_DIVISION=5.2,t.JavaScript.ORDER_MODULUS=5.3,t.JavaScript.ORDER_SUBTRACTION=6.1,t.JavaScript.ORDER_ADDITION=6.2,t.JavaScript.ORDER_BITWISE_SHIFT=7,t.JavaScript.ORDER_RELATIONAL=8,t.JavaScript.ORDER_IN=8,t.JavaScript.ORDER_INSTANCEOF=8,t.JavaScript.ORDER_EQUALITY=9,t.JavaScript.ORDER_BITWISE_AND=10,t.JavaScript.ORDER_BITWISE_XOR=11,t.JavaScript.ORDER_BITWISE_OR=12,t.JavaScript.ORDER_LOGICAL_AND=13,t.JavaScript.ORDER_LOGICAL_OR=14,t.JavaScript.ORDER_CONDITIONAL=15,t.JavaScript.ORDER_ASSIGNMENT=16,t.JavaScript.ORDER_YIELD=17,t.JavaScript.ORDER_COMMA=18,t.JavaScript.ORDER_NONE=99,t.JavaScript.ORDER_OVERRIDES=[[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_LOGICAL_NOT,t.JavaScript.ORDER_LOGICAL_NOT],[t.JavaScript.ORDER_MULTIPLICATION,t.JavaScript.ORDER_MULTIPLICATION],[t.JavaScript.ORDER_ADDITION,t.JavaScript.ORDER_ADDITION],[t.JavaScript.ORDER_LOGICAL_AND,t.JavaScript.ORDER_LOGICAL_AND],[t.JavaScript.ORDER_LOGICAL_OR,t.JavaScript.ORDER_LOGICAL_OR]],t.JavaScript.init=function(e){t.JavaScript.definitions_=Object.create(null),t.JavaScript.functionNames_=Object.create(null),t.JavaScript.variableDB_?t.JavaScript.variableDB_.reset():t.JavaScript.variableDB_=new t.Names(t.JavaScript.RESERVED_WORDS_),t.JavaScript.variableDB_.setVariableMap(e.getVariableMap());for(var n=[],o=t.Variables.allDeveloperVariables(e),i=0;i<o.length;i++)n.push(t.JavaScript.variableDB_.getName(o[i],t.Names.DEVELOPER_VARIABLE_TYPE));for(e=t.Variables.allUsedVarModels(e),i=0;i<e.length;i++)n.push(t.JavaScript.variableDB_.getName(e[i].getId(),t.Variables.NAME_TYPE));n.length&&(t.JavaScript.definitions_.variables="var "+n.join(", ")+";")},t.JavaScript.finish=function(e){var n,o=[];for(n in t.JavaScript.definitions_)o.push(t.JavaScript.definitions_[n]);return delete t.JavaScript.definitions_,delete t.JavaScript.functionNames_,t.JavaScript.variableDB_.reset(),o.join("\n\n")+"\n\n\n"+e},t.JavaScript.scrubNakedValue=function(t){return t+";\n"},t.JavaScript.quote_=function(t){return"'"+(t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},t.JavaScript.multiline_quote_=function(e){return e.split(/\n/g).map(t.JavaScript.quote_).join(" + '\\n' +\n")},t.JavaScript.scrub_=function(e,n,o){var i="";if(!e.outputConnection||!e.outputConnection.targetConnection){var r=e.getCommentText();r&&(r=t.utils.string.wrap(r,t.JavaScript.COMMENT_WRAP-3),i+=t.JavaScript.prefixLines(r+"\n","// "));for(var s=0;s<e.inputList.length;s++)e.inputList[s].type==t.INPUT_VALUE&&(r=e.inputList[s].connection.targetBlock())&&(r=t.JavaScript.allNestedComments(r))&&(i+=t.JavaScript.prefixLines(r,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),i+n+(o=o?"":t.JavaScript.blockToCode(e))},t.JavaScript.getAdjusted=function(e,n,o,i,r){o=o||0,r=r||t.JavaScript.ORDER_NONE,e.workspace.options.oneBasedIndex&&o--;var s=e.workspace.options.oneBasedIndex?"1":"0";if(e=0<o?t.JavaScript.valueToCode(e,n,t.JavaScript.ORDER_ADDITION)||s:0>o?t.JavaScript.valueToCode(e,n,t.JavaScript.ORDER_SUBTRACTION)||s:i?t.JavaScript.valueToCode(e,n,t.JavaScript.ORDER_UNARY_NEGATION)||s:t.JavaScript.valueToCode(e,n,r)||s,t.isNumber(e))e=Number(e)+o,i&&(e=-e);else{if(0<o){e=e+" + "+o;var a=t.JavaScript.ORDER_ADDITION}else 0>o&&(e=e+" - "+-o,a=t.JavaScript.ORDER_SUBTRACTION);i&&(e=o?"-("+e+")":"-"+e,a=t.JavaScript.ORDER_UNARY_NEGATION),a=Math.floor(a),r=Math.floor(r),a&&r>=a&&(e="("+e+")")}return e},t.JavaScript.colour={},t.JavaScript.colour_picker=function(e){return[t.JavaScript.quote_(e.getFieldValue("COLOUR")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.colour_random=function(e){return[t.JavaScript.provideFunction_("colourRandom",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_rgb=function(e){var n=t.JavaScript.valueToCode(e,"RED",t.JavaScript.ORDER_COMMA)||0,o=t.JavaScript.valueToCode(e,"GREEN",t.JavaScript.ORDER_COMMA)||0;return e=t.JavaScript.valueToCode(e,"BLUE",t.JavaScript.ORDER_COMMA)||0,[t.JavaScript.provideFunction_("colourRgb",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+o+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_blend=function(e){var n=t.JavaScript.valueToCode(e,"COLOUR1",t.JavaScript.ORDER_COMMA)||"'#000000'",o=t.JavaScript.valueToCode(e,"COLOUR2",t.JavaScript.ORDER_COMMA)||"'#000000'";return e=t.JavaScript.valueToCode(e,"RATIO",t.JavaScript.ORDER_COMMA)||.5,[t.JavaScript.provideFunction_("colourBlend",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+o+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists={},t.JavaScript.lists_create_empty=function(e){return["[]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_create_with=function(e){for(var n=Array(e.itemCount_),o=0;o<e.itemCount_;o++)n[o]=t.JavaScript.valueToCode(e,"ADD"+o,t.JavaScript.ORDER_COMMA)||"null";return["["+n.join(", ")+"]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_repeat=function(e){return[t.JavaScript.provideFunction_("listsRepeat",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(t.JavaScript.valueToCode(e,"ITEM",t.JavaScript.ORDER_COMMA)||"null")+", "+(e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_COMMA)||"0")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.lists_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.lists_indexOf=function(e){var n="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",o=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return n=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+"."+n+"("+o+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.JavaScript.ORDER_ADDITION]:[n,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_getIndex=function(e){var n=e.getFieldValue("MODE")||"GET",o=e.getFieldValue("WHERE")||"FROM_START",i=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==o?t.JavaScript.ORDER_COMMA:t.JavaScript.ORDER_MEMBER)||"[]";switch(o){case"FIRST":if("GET"==n)return[i+"[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".shift()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==n)return i+".shift();\n";break;case"LAST":if("GET"==n)return[i+".slice(-1)[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==n)return i+".pop();\n";break;case"FROM_START":if(e=t.JavaScript.getAdjusted(e,"AT"),"GET"==n)return[i+"["+e+"]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".splice("+e+", 1);\n";break;case"FROM_END":if(e=t.JavaScript.getAdjusted(e,"AT",1,!0),"GET"==n)return[i+".slice("+e+")[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==n)return[i+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".splice("+e+", 1);";break;case"RANDOM":if(i=t.JavaScript.provideFunction_("listsGetRandomItem",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+i+", "+("GET"!=n)+")","GET"==n||"GET_REMOVE"==n)return[i,t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+";\n"}throw Error("Unhandled combination (lists_getIndex).")},t.JavaScript.lists_setIndex=function(e){function n(){if(o.match(/^\w+$/))return"";var e=t.JavaScript.variableDB_.getDistinctName("tmpList",t.Variables.NAME_TYPE),n="var "+e+" = "+o+";\n";return o=e,n}var o=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",i=e.getFieldValue("MODE")||"GET",r=e.getFieldValue("WHERE")||"FROM_START",s=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"null";switch(r){case"FIRST":if("SET"==i)return o+"[0] = "+s+";\n";if("INSERT"==i)return o+".unshift("+s+");\n";break;case"LAST":if("SET"==i)return(e=n())+(o+"[")+o+".length - 1] = "+s+";\n";if("INSERT"==i)return o+".push("+s+");\n";break;case"FROM_START":if(r=t.JavaScript.getAdjusted(e,"AT"),"SET"==i)return o+"["+r+"] = "+s+";\n";if("INSERT"==i)return o+".splice("+r+", 0, "+s+");\n";break;case"FROM_END":if(r=t.JavaScript.getAdjusted(e,"AT",1,!1,t.JavaScript.ORDER_SUBTRACTION),e=n(),"SET"==i)return e+(o+"[")+o+".length - "+r+"] = "+s+";\n";if("INSERT"==i)return e+(o+".splice(")+o+".length - "+r+", 0, "+s+");\n";break;case"RANDOM":if(e=n(),e+="var "+(r=t.JavaScript.variableDB_.getDistinctName("tmpX",t.Variables.NAME_TYPE))+" = Math.floor(Math.random() * "+o+".length);\n","SET"==i)return e+(o+"[")+r+"] = "+s+";\n";if("INSERT"==i)return e+(o+".splice(")+r+", 0, "+s+");\n"}throw Error("Unhandled combination (lists_setIndex).")},t.JavaScript.lists.getIndex_=function(t,e,n){return"FIRST"==e?"0":"FROM_END"==e?t+".length - 1 - "+n:"LAST"==e?t+".length - 1":n},t.JavaScript.lists_getSublist=function(e){var n=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",o=e.getFieldValue("WHERE1"),i=e.getFieldValue("WHERE2");if("FIRST"==o&&"LAST"==i)n+=".slice(0)";else if(n.match(/^\w+$/)||"FROM_END"!=o&&"FROM_START"==i){switch(o){case"FROM_START":var r=t.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":r=n+".length - "+(r=t.JavaScript.getAdjusted(e,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":r="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(i){case"FROM_START":e=t.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":e=n+".length - "+(e=t.JavaScript.getAdjusted(e,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"LAST":e=n+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}n=n+".slice("+r+", "+e+")"}else{r=t.JavaScript.getAdjusted(e,"AT1"),e=t.JavaScript.getAdjusted(e,"AT2");var s=t.JavaScript.lists.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};n=t.JavaScript.provideFunction_("subsequence"+a[o]+a[i],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==o||"FROM_START"==o?", at1":"")+("FROM_END"==i||"FROM_START"==i?", at2":"")+") {","  var start = "+s("sequence",o,"at1")+";","  var end = "+s("sequence",i,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+n+("FROM_END"==o||"FROM_START"==o?", "+r:"")+("FROM_END"==i||"FROM_START"==i?", "+e:"")+")"}return[n,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_sort=function(e){var n=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]",o="1"===e.getFieldValue("DIRECTION")?1:-1;return e=e.getFieldValue("TYPE"),[n+".slice().sort("+t.JavaScript.provideFunction_("listsGetSortCompare",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+e+'", '+o+"))",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_split=function(e){var n=t.JavaScript.valueToCode(e,"INPUT",t.JavaScript.ORDER_MEMBER),o=t.JavaScript.valueToCode(e,"DELIM",t.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(e=e.getFieldValue("MODE")))n||(n="''"),e="split";else{if("JOIN"!=e)throw Error("Unknown mode: "+e);n||(n="[]"),e="join"}return[n+"."+e+"("+o+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_reverse=function(e){return[(t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.logic={},t.JavaScript.controls_if=function(e){var n=0,o="";t.JavaScript.STATEMENT_PREFIX&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e));do{var i=t.JavaScript.valueToCode(e,"IF"+n,t.JavaScript.ORDER_NONE)||"false",r=t.JavaScript.statementToCode(e,"DO"+n);t.JavaScript.STATEMENT_SUFFIX&&(r=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)+r),o+=(0<n?" else ":"")+"if ("+i+") {\n"+r+"}",++n}while(e.getInput("IF"+n));return(e.getInput("ELSE")||t.JavaScript.STATEMENT_SUFFIX)&&(r=t.JavaScript.statementToCode(e,"ELSE"),t.JavaScript.STATEMENT_SUFFIX&&(r=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)+r),o+=" else {\n"+r+"}"),o+"\n"},t.JavaScript.controls_ifelse=t.JavaScript.controls_if,t.JavaScript.logic_compare=function(e){var n={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],o="=="==n||"!="==n?t.JavaScript.ORDER_EQUALITY:t.JavaScript.ORDER_RELATIONAL;return[(t.JavaScript.valueToCode(e,"A",o)||"0")+" "+n+" "+(e=t.JavaScript.valueToCode(e,"B",o)||"0"),o]},t.JavaScript.logic_operation=function(e){var n="AND"==e.getFieldValue("OP")?"&&":"||",o="&&"==n?t.JavaScript.ORDER_LOGICAL_AND:t.JavaScript.ORDER_LOGICAL_OR,i=t.JavaScript.valueToCode(e,"A",o);if(e=t.JavaScript.valueToCode(e,"B",o),i||e){var r="&&"==n?"true":"false";i||(i=r),e||(e=r)}else e=i="false";return[i+" "+n+" "+e,o]},t.JavaScript.logic_negate=function(e){var n=t.JavaScript.ORDER_LOGICAL_NOT;return["!"+(t.JavaScript.valueToCode(e,"BOOL",n)||"true"),n]},t.JavaScript.logic_boolean=function(e){return["TRUE"==e.getFieldValue("BOOL")?"true":"false",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_null=function(e){return["null",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_ternary=function(e){return[(t.JavaScript.valueToCode(e,"IF",t.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(t.JavaScript.valueToCode(e,"THEN",t.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(e=t.JavaScript.valueToCode(e,"ELSE",t.JavaScript.ORDER_CONDITIONAL)||"null"),t.JavaScript.ORDER_CONDITIONAL]},t.JavaScript.loops={},t.JavaScript.controls_repeat_ext=function(e){var n=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):t.JavaScript.valueToCode(e,"TIMES",t.JavaScript.ORDER_ASSIGNMENT)||"0",o=t.JavaScript.statementToCode(e,"DO");o=t.JavaScript.addLoopTrap(o,e),e="";var i=t.JavaScript.variableDB_.getDistinctName("count",t.Variables.NAME_TYPE),r=n;return n.match(/^\w+$/)||t.isNumber(n)||(e+="var "+(r=t.JavaScript.variableDB_.getDistinctName("repeat_end",t.Variables.NAME_TYPE))+" = "+n+";\n"),e+"for (var "+i+" = 0; "+i+" < "+r+"; "+i+"++) {\n"+o+"}\n"},t.JavaScript.controls_repeat=t.JavaScript.controls_repeat_ext,t.JavaScript.controls_whileUntil=function(e){var n="UNTIL"==e.getFieldValue("MODE"),o=t.JavaScript.valueToCode(e,"BOOL",n?t.JavaScript.ORDER_LOGICAL_NOT:t.JavaScript.ORDER_NONE)||"false",i=t.JavaScript.statementToCode(e,"DO");return n&&(o="!"+o),"while ("+o+") {\n"+(i=t.JavaScript.addLoopTrap(i,e))+"}\n"},t.JavaScript.controls_for=function(e){var n=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),o=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_ASSIGNMENT)||"0",i=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"0",r=t.JavaScript.valueToCode(e,"BY",t.JavaScript.ORDER_ASSIGNMENT)||"1",s=t.JavaScript.statementToCode(e,"DO");if(s=t.JavaScript.addLoopTrap(s,e),t.isNumber(o)&&t.isNumber(i)&&t.isNumber(r)){var a=Number(o)<=Number(i);e="for ("+n+" = "+o+"; "+n+(a?" <= ":" >= ")+i+"; "+n,e=(1==(n=Math.abs(Number(r)))?e+(a?"++":"--"):e+(a?" += ":" -= ")+n)+") {\n"+s+"}\n"}else e="",a=o,o.match(/^\w+$/)||t.isNumber(o)||(e+="var "+(a=t.JavaScript.variableDB_.getDistinctName(n+"_start",t.Variables.NAME_TYPE))+" = "+o+";\n"),o=i,i.match(/^\w+$/)||t.isNumber(i)||(e+="var "+(o=t.JavaScript.variableDB_.getDistinctName(n+"_end",t.Variables.NAME_TYPE))+" = "+i+";\n"),e+="var "+(i=t.JavaScript.variableDB_.getDistinctName(n+"_inc",t.Variables.NAME_TYPE))+" = ",e=(e=t.isNumber(r)?e+(Math.abs(r)+";\n"):e+"Math.abs("+r+");\n")+"if ("+a+" > "+o+") {\n"+(t.JavaScript.INDENT+i)+" = -"+i+";\n",e+="}\n",e+="for ("+n+" = "+a+"; "+i+" >= 0 ? "+n+" <= "+o+" : "+n+" >= "+o+"; "+n+" += "+i+") {\n"+s+"}\n";return e},t.JavaScript.controls_forEach=function(e){var n=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),o=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_ASSIGNMENT)||"[]",i=t.JavaScript.statementToCode(e,"DO");i=t.JavaScript.addLoopTrap(i,e),e="";var r=o;return o.match(/^\w+$/)||(e+="var "+(r=t.JavaScript.variableDB_.getDistinctName(n+"_list",t.Variables.NAME_TYPE))+" = "+o+";\n"),e+"for (var "+(o=t.JavaScript.variableDB_.getDistinctName(n+"_index",t.Variables.NAME_TYPE))+" in "+r+") {\n"+(i=t.JavaScript.INDENT+n+" = "+r+"["+o+"];\n"+i)+"}\n"},t.JavaScript.controls_flow_statements=function(e){var n="";if(t.JavaScript.STATEMENT_PREFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e)),t.JavaScript.STATEMENT_SUFFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e)),t.JavaScript.STATEMENT_PREFIX){var o=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(e);o&&!o.suppressPrefixSuffix&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,o))}switch(e.getFieldValue("FLOW")){case"BREAK":return n+"break;\n";case"CONTINUE":return n+"continue;\n"}throw Error("Unknown flow statement.")},t.JavaScript.math={},t.JavaScript.math_number=function(e){return[e=Number(e.getFieldValue("NUM")),0<=e?t.JavaScript.ORDER_ATOMIC:t.JavaScript.ORDER_UNARY_NEGATION]},t.JavaScript.math_arithmetic=function(e){var n={ADD:[" + ",t.JavaScript.ORDER_ADDITION],MINUS:[" - ",t.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",t.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",t.JavaScript.ORDER_DIVISION],POWER:[null,t.JavaScript.ORDER_COMMA]}[e.getFieldValue("OP")],o=n[0];n=n[1];var i=t.JavaScript.valueToCode(e,"A",n)||"0";return e=t.JavaScript.valueToCode(e,"B",n)||"0",o?[i+o+e,n]:["Math.pow("+i+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_single=function(e){var n=e.getFieldValue("OP");if("NEG"==n)return"-"==(e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(e=" "+e),["-"+e,t.JavaScript.ORDER_UNARY_NEGATION];switch(e="SIN"==n||"COS"==n||"TAN"==n?t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_DIVISION)||"0":t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_NONE)||"0",n){case"ABS":var o="Math.abs("+e+")";break;case"ROOT":o="Math.sqrt("+e+")";break;case"LN":o="Math.log("+e+")";break;case"EXP":o="Math.exp("+e+")";break;case"POW10":o="Math.pow(10,"+e+")";break;case"ROUND":o="Math.round("+e+")";break;case"ROUNDUP":o="Math.ceil("+e+")";break;case"ROUNDDOWN":o="Math.floor("+e+")";break;case"SIN":o="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":o="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":o="Math.tan("+e+" / 180 * Math.PI)"}if(o)return[o,t.JavaScript.ORDER_FUNCTION_CALL];switch(n){case"LOG10":o="Math.log("+e+") / Math.log(10)";break;case"ASIN":o="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":o="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":o="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+n)}return[o,t.JavaScript.ORDER_DIVISION]},t.JavaScript.math_constant=function(e){return{PI:["Math.PI",t.JavaScript.ORDER_MEMBER],E:["Math.E",t.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",t.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",t.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",t.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",t.JavaScript.ORDER_ATOMIC]}[e.getFieldValue("CONSTANT")]},t.JavaScript.math_number_property=function(e){var n=t.JavaScript.valueToCode(e,"NUMBER_TO_CHECK",t.JavaScript.ORDER_MODULUS)||"0",o=e.getFieldValue("PROPERTY");if("PRIME"==o)return[t.JavaScript.provideFunction_("mathIsPrime",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+n+")",t.JavaScript.ORDER_FUNCTION_CALL];switch(o){case"EVEN":var i=n+" % 2 == 0";break;case"ODD":i=n+" % 2 == 1";break;case"WHOLE":i=n+" % 1 == 0";break;case"POSITIVE":i=n+" > 0";break;case"NEGATIVE":i=n+" < 0";break;case"DIVISIBLE_BY":i=n+" % "+(e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[i,t.JavaScript.ORDER_EQUALITY]},t.JavaScript.math_change=function(e){var n=t.JavaScript.valueToCode(e,"DELTA",t.JavaScript.ORDER_ADDITION)||"0";return(e=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE))+" = (typeof "+e+" == 'number' ? "+e+" : 0) + "+n+";\n"},t.JavaScript.math_round=t.JavaScript.math_single,t.JavaScript.math_trig=t.JavaScript.math_single,t.JavaScript.math_on_list=function(e){var n=e.getFieldValue("OP");switch(n){case"SUM":e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;})";break;case"MIN":e="Math.min.apply(null, "+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_COMMA)||"[]")+")";break;case"MAX":e="Math.max.apply(null, "+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_COMMA)||"[]")+")";break;case"AVERAGE":e=(n=t.JavaScript.provideFunction_("mathMean",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":e=(n=t.JavaScript.provideFunction_("mathMedian",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":e=(n=t.JavaScript.provideFunction_("mathModes",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":e=(n=t.JavaScript.provideFunction_("mathStandardDeviation",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":e=(n=t.JavaScript.provideFunction_("mathRandomList",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+n)}return[e,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_modulo=function(e){return[(t.JavaScript.valueToCode(e,"DIVIDEND",t.JavaScript.ORDER_MODULUS)||"0")+" % "+(e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0"),t.JavaScript.ORDER_MODULUS]},t.JavaScript.math_constrain=function(e){return["Math.min(Math.max("+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_COMMA)||"0")+", "+(t.JavaScript.valueToCode(e,"LOW",t.JavaScript.ORDER_COMMA)||"0")+"), "+(e=t.JavaScript.valueToCode(e,"HIGH",t.JavaScript.ORDER_COMMA)||"Infinity")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_int=function(e){var n=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_COMMA)||"0";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_COMMA)||"0",[t.JavaScript.provideFunction_("mathRandomInt",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+n+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_float=function(e){return["Math.random()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_atan2=function(e){var n=t.JavaScript.valueToCode(e,"X",t.JavaScript.ORDER_COMMA)||"0";return["Math.atan2("+(t.JavaScript.valueToCode(e,"Y",t.JavaScript.ORDER_COMMA)||"0")+", "+n+") / Math.PI * 180",t.JavaScript.ORDER_DIVISION]},t.JavaScript.procedures={},t.JavaScript.procedures_defreturn=function(e){var n=t.JavaScript.variableDB_.getName(e.getFieldValue("NAME"),t.Procedures.NAME_TYPE),o="";t.JavaScript.STATEMENT_PREFIX&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e)),t.JavaScript.STATEMENT_SUFFIX&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e)),o&&(o=t.JavaScript.prefixLines(o,t.JavaScript.INDENT));var i="";t.JavaScript.INFINITE_LOOP_TRAP&&(i=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.INFINITE_LOOP_TRAP,e),t.JavaScript.INDENT));var r=t.JavaScript.statementToCode(e,"STACK"),s=t.JavaScript.valueToCode(e,"RETURN",t.JavaScript.ORDER_NONE)||"",a="";r&&s&&(a=o),s&&(s=t.JavaScript.INDENT+"return "+s+";\n");for(var l=[],u=0;u<e.arguments_.length;u++)l[u]=t.JavaScript.variableDB_.getName(e.arguments_[u],t.Variables.NAME_TYPE);return o="function "+n+"("+l.join(", ")+") {\n"+o+i+r+a+s+"}",o=t.JavaScript.scrub_(e,o),t.JavaScript.definitions_["%"+n]=o,null},t.JavaScript.procedures_defnoreturn=t.JavaScript.procedures_defreturn,t.JavaScript.procedures_callreturn=function(e){for(var n=t.JavaScript.variableDB_.getName(e.getFieldValue("NAME"),t.Procedures.NAME_TYPE),o=[],i=0;i<e.arguments_.length;i++)o[i]=t.JavaScript.valueToCode(e,"ARG"+i,t.JavaScript.ORDER_COMMA)||"null";return[n+"("+o.join(", ")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.procedures_callnoreturn=function(e){return t.JavaScript.procedures_callreturn(e)[0]+";\n"},t.JavaScript.procedures_ifreturn=function(e){var n="if ("+(t.JavaScript.valueToCode(e,"CONDITION",t.JavaScript.ORDER_NONE)||"false")+") {\n";return t.JavaScript.STATEMENT_SUFFIX&&(n+=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)),e.hasReturnValue_?(e=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_NONE)||"null",n+=t.JavaScript.INDENT+"return "+e+";\n"):n+=t.JavaScript.INDENT+"return;\n",n+"}\n"},t.JavaScript.texts={},t.JavaScript.text=function(e){return[t.JavaScript.quote_(e.getFieldValue("TEXT")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.text_multiline=function(e){return(e=t.JavaScript.multiline_quote_(e.getFieldValue("TEXT"))).includes("\n")&&(e="("+e+")"),[e,t.JavaScript.ORDER_ATOMIC]},t.JavaScript.text.forceString_=function(e){return t.JavaScript.text.forceString_.strRegExp.test(e)?e:"String("+e+")"},t.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,t.JavaScript.text_join=function(e){switch(e.itemCount_){case 0:return["''",t.JavaScript.ORDER_ATOMIC];case 1:return e=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''",[e=t.JavaScript.text.forceString_(e),t.JavaScript.ORDER_FUNCTION_CALL];case 2:var n=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"ADD1",t.JavaScript.ORDER_NONE)||"''",[e=t.JavaScript.text.forceString_(n)+" + "+t.JavaScript.text.forceString_(e),t.JavaScript.ORDER_ADDITION];default:n=Array(e.itemCount_);for(var o=0;o<e.itemCount_;o++)n[o]=t.JavaScript.valueToCode(e,"ADD"+o,t.JavaScript.ORDER_COMMA)||"''";return[e="["+n.join(",")+"].join('')",t.JavaScript.ORDER_FUNCTION_CALL]}},t.JavaScript.text_append=function(e){var n=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE);return e=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''",n+" += "+t.JavaScript.text.forceString_(e)+";\n"},t.JavaScript.text_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.text_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.text_indexOf=function(e){var n="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",o=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return n=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+"."+n+"("+o+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.JavaScript.ORDER_ADDITION]:[n,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_charAt=function(e){var n=e.getFieldValue("WHERE")||"FROM_START",o=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==n?t.JavaScript.ORDER_NONE:t.JavaScript.ORDER_MEMBER)||"''";switch(n){case"FIRST":return[o+".charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[o+".slice(-1)",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[o+".charAt("+(e=t.JavaScript.getAdjusted(e,"AT"))+")",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[o+".slice("+(e=t.JavaScript.getAdjusted(e,"AT",1,!0))+").charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[t.JavaScript.provideFunction_("textRandomLetter",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+o+")",t.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},t.JavaScript.text.getIndex_=function(t,e,n){return"FIRST"==e?"0":"FROM_END"==e?t+".length - 1 - "+n:"LAST"==e?t+".length - 1":n},t.JavaScript.text_getSubstring=function(e){var n=t.JavaScript.valueToCode(e,"STRING",t.JavaScript.ORDER_FUNCTION_CALL)||"''",o=e.getFieldValue("WHERE1"),i=e.getFieldValue("WHERE2");if("FIRST"!=o||"LAST"!=i)if(n.match(/^'?\w+'?$/)||"FROM_END"!=o&&"LAST"!=o&&"FROM_END"!=i&&"LAST"!=i){switch(o){case"FROM_START":var r=t.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":r=n+".length - "+(r=t.JavaScript.getAdjusted(e,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":r="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(i){case"FROM_START":e=t.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":e=n+".length - "+(e=t.JavaScript.getAdjusted(e,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"LAST":e=n+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}n=n+".slice("+r+", "+e+")"}else{r=t.JavaScript.getAdjusted(e,"AT1"),e=t.JavaScript.getAdjusted(e,"AT2");var s=t.JavaScript.text.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};n=t.JavaScript.provideFunction_("subsequence"+a[o]+a[i],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==o||"FROM_START"==o?", at1":"")+("FROM_END"==i||"FROM_START"==i?", at2":"")+") {","  var start = "+s("sequence",o,"at1")+";","  var end = "+s("sequence",i,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+n+("FROM_END"==o||"FROM_START"==o?", "+r:"")+("FROM_END"==i||"FROM_START"==i?", "+e:"")+")"}return[n,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_changeCase=function(e){var n={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=t.JavaScript.valueToCode(e,"TEXT",n?t.JavaScript.ORDER_MEMBER:t.JavaScript.ORDER_NONE)||"''",[n?e+n:t.JavaScript.provideFunction_("textToTitleCase",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_trim=function(e){var n={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+n,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_print=function(e){return"window.alert("+(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+");\n"},t.JavaScript.text_prompt_ext=function(e){var n="window.prompt("+(e.getField("TEXT")?t.JavaScript.quote_(e.getFieldValue("TEXT")):t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==e.getFieldValue("TYPE")&&(n="Number("+n+")"),[n,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_prompt=t.JavaScript.text_prompt_ext,t.JavaScript.text_count=function(e){var n=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''";return e=t.JavaScript.valueToCode(e,"SUB",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textCount",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+n+", "+e+")",t.JavaScript.ORDER_SUBTRACTION]},t.JavaScript.text_replace=function(e){var n=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''",o=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textReplace",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+n+", "+o+", "+e+")",t.JavaScript.ORDER_MEMBER]},t.JavaScript.text_reverse=function(e){return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",t.JavaScript.ORDER_MEMBER]},t.JavaScript.variables={},t.JavaScript.variables_get=function(e){return[t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.variables_set=function(e){var n=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_ASSIGNMENT)||"0";return t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE)+" = "+n+";\n"},t.JavaScript.variablesDynamic={},t.JavaScript.variables_get_dynamic=t.JavaScript.variables_get,t.JavaScript.variables_set_dynamic=t.JavaScript.variables_set,t.JavaScript})?o.apply(e,i):o)||(t.exports=r)},,function(t,e,n){"use strict";var o=n(42),i=n(0);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s="function"===typeof Symbol&&Symbol.for,a=s?Symbol.for("react.portal"):60106,l=s?Symbol.for("react.fragment"):60107,u=s?Symbol.for("react.strict_mode"):60108,c=s?Symbol.for("react.profiler"):60114,h=s?Symbol.for("react.provider"):60109,p=s?Symbol.for("react.context"):60110,d=s?Symbol.for("react.concurrent_mode"):60111,f=s?Symbol.for("react.forward_ref"):60112,_=s?Symbol.for("react.suspense"):60113,g=s?Symbol.for("react.suspense_list"):60120,m=s?Symbol.for("react.memo"):60115,v=s?Symbol.for("react.lazy"):60116,E=s?Symbol.for("react.fundamental"):60117,T=s?Symbol.for("react.scope"):60119,y=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case l:return"Fragment";case a:return"Portal";case c:return"Profiler";case u:return"StrictMode";case _:return"Suspense";case g:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case p:return"Context.Consumer";case h:return"Context.Provider";case f:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case m:return b(t.type);case v:if(t=1===t._status?t._result:null)return b(t)}return null}y.hasOwnProperty("ReactCurrentDispatcher")||(y.ReactCurrentDispatcher={current:null}),y.hasOwnProperty("ReactCurrentBatchConfig")||(y.ReactCurrentBatchConfig={suspense:null});var S={};function C(t,e){for(var n=0|t._threadCount;n<=e;n++)t[n]=t._currentValue2,t._threadCount=n+1}for(var k=new Uint16Array(16),D=0;15>D;D++)k[D]=D+1;k[15]=0;var I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R=Object.prototype.hasOwnProperty,A={},O={};function w(t){return!!R.call(O,t)||!R.call(A,t)&&(I.test(t)?O[t]=!0:(A[t]=!0,!1))}function x(t,e,n,o,i,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){N[t]=new x(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];N[e]=new x(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){N[t]=new x(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){N[t]=new x(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){N[t]=new x(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){N[t]=new x(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){N[t]=new x(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){N[t]=new x(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){N[t]=new x(t,5,!1,t.toLowerCase(),null,!1)}));var M=/[\-:]([a-z])/g;function L(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(M,L);N[e]=new x(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(M,L);N[e]=new x(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(M,L);N[e]=new x(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){N[t]=new x(t,1,!1,t.toLowerCase(),null,!1)})),N.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){N[t]=new x(t,1,!1,t.toLowerCase(),null,!0)}));var B=/["'&<>]/;function P(t){if("boolean"===typeof t||"number"===typeof t)return""+t;t=""+t;var e=B.exec(t);if(e){var n,o="",i=0;for(n=e.index;n<t.length;n++){switch(t.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==n&&(o+=t.substring(i,n)),i=n+1,o+=e}t=i!==n?o+t.substring(i,n):o}return t}function F(t,e){var n,o=N.hasOwnProperty(t)?N[t]:null;return(n="style"!==t)&&(n=null!==o?0===o.type:2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])),n||function(t,e,n,o){if(null===e||"undefined"===typeof e||function(t,e,n,o){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(t,e,o,!1)?"":null!==o?(t=o.attributeName,3===(n=o.type)||4===n&&!0===e?t+'=""':(o.sanitizeURL&&(e=""+e),t+'="'+P(e)+'"')):w(t)?t+'="'+P(e)+'"':""}var U="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},V=null,H=null,G=null,W=!1,X=!1,z=null,J=0;function K(){if(null===V)throw Error(r(321));return V}function Y(){if(0<J)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function j(){return null===G?null===H?(W=!1,H=G=Y()):(W=!0,G=H):null===G.next?(W=!1,G=G.next=Y()):(W=!0,G=G.next),G}function q(t,e,n,o){for(;X;)X=!1,J+=1,G=null,n=t(e,o);return H=V=null,J=0,G=z=null,n}function Q(t,e){return"function"===typeof e?e(t):e}function Z(t,e,n){if(V=K(),G=j(),W){var o=G.queue;if(e=o.dispatch,null!==z&&void 0!==(n=z.get(o))){z.delete(o),o=G.memoizedState;do{o=t(o,n.action),n=n.next}while(null!==n);return G.memoizedState=o,[o,e]}return[G.memoizedState,e]}return t=t===Q?"function"===typeof e?e():e:void 0!==n?n(e):e,G.memoizedState=t,t=(t=G.queue={last:null,dispatch:null}).dispatch=$.bind(null,V,t),[G.memoizedState,t]}function $(t,e,n){if(!(25>J))throw Error(r(301));if(t===V)if(X=!0,t={action:n,next:null},null===z&&(z=new Map),void 0===(n=z.get(e)))z.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}}function tt(){}var et=0,nt={readContext:function(t){var e=et;return C(t,e),t[e]},useContext:function(t){K();var e=et;return C(t,e),t[e]},useMemo:function(t,e){if(V=K(),e=void 0===e?null:e,null!==(G=j())){var n=G.memoizedState;if(null!==n&&null!==e){t:{var o=n[1];if(null===o)o=!1;else{for(var i=0;i<o.length&&i<e.length;i++)if(!U(e[i],o[i])){o=!1;break t}o=!0}}if(o)return n[0]}}return t=t(),G.memoizedState=[t,e],t},useReducer:Z,useRef:function(t){V=K();var e=(G=j()).memoizedState;return null===e?(t={current:t},G.memoizedState=t):e},useState:function(t){return Z(Q,t)},useLayoutEffect:function(){},useCallback:function(t){return t},useImperativeHandle:tt,useEffect:tt,useDebugValue:tt,useResponder:function(t,e){return{props:e,responder:t}},useDeferredValue:function(t){return K(),t},useTransition:function(){return K(),[function(t){t()},!1]}},ot={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function it(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var rt={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},st=o({menuitem:!0},rt),at={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(at).forEach((function(t){lt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),at[e]=at[t]}))}));var ut=/([A-Z])/g,ct=/^ms-/,ht=i.Children.toArray,pt=y.ReactCurrentDispatcher,dt={listing:!0,pre:!0,textarea:!0},ft=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,_t={},gt={};var mt=Object.prototype.hasOwnProperty,vt={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Et(t,e){if(void 0===t)throw Error(r(152,b(e)||"Component"))}function Tt(t,e,n){function s(i,s){var a=s.prototype&&s.prototype.isReactComponent,l=function(t,e,n,o){if(o&&("object"===typeof(o=t.contextType)&&null!==o))return C(o,n),o[n];if(t=t.contextTypes){for(var i in n={},t)n[i]=e[i];e=n}else e=S;return e}(s,e,n,a),u=[],c=!1,h={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(t,e){c=!0,u=[e]},enqueueSetState:function(t,e){if(null===u)return null;u.push(e)}};if(a){if(a=new s(i.props,l,h),"function"===typeof s.getDerivedStateFromProps){var p=s.getDerivedStateFromProps.call(null,i.props,a.state);null!=p&&(a.state=o({},a.state,p))}}else if(V={},a=s(i.props,l,h),null==(a=q(s,i.props,a,l))||null==a.render)return void Et(t=a,s);if(a.props=i.props,a.context=l,a.updater=h,void 0===(h=a.state)&&(a.state=h=null),"function"===typeof a.UNSAFE_componentWillMount||"function"===typeof a.componentWillMount)if("function"===typeof a.componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.UNSAFE_componentWillMount(),u.length){h=u;var d=c;if(u=null,c=!1,d&&1===h.length)a.state=h[0];else{p=d?h[0]:a.state;var f=!0;for(d=d?1:0;d<h.length;d++){var _=h[d];null!=(_="function"===typeof _?_.call(a,p,i.props,l):_)&&(f?(f=!1,p=o({},p,_)):o(p,_))}a.state=p}}else u=null;if(Et(t=a.render(),s),"function"===typeof a.getChildContext&&"object"===typeof(i=s.childContextTypes)){var g=a.getChildContext();for(var m in g)if(!(m in i))throw Error(r(108,b(s)||"Unknown",m))}g&&(e=o({},e,g))}for(;i.isValidElement(t);){var a=t,l=a.type;if("function"!==typeof l)break;s(a,l)}return{child:t,context:e}}var yt=function(){function t(t,e){i.isValidElement(t)?t.type!==l?t=[t]:(t=t.props.children,t=i.isValidElement(t)?[t]:ht(t)):t=ht(t),t={type:null,domNamespace:ot.html,children:t,childIndex:0,context:S,footer:""};var n=k[0];if(0===n){var o=k,s=2*(n=o.length);if(!(65536>=s))throw Error(r(304));var a=new Uint16Array(s);for(a.set(o),(k=a)[0]=n+1,o=n;o<s-1;o++)k[o]=o+1;k[s-1]=0}else k[0]=k[n];this.threadID=n,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=e,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var e=t.prototype;return e.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;k[t]=k[0],k[0]=t}},e.pushProvider=function(t){var e=++this.contextIndex,n=t.type._context,o=this.threadID;C(n,o);var i=n[o];this.contextStack[e]=n,this.contextValueStack[e]=i,n[o]=t.props.value},e.popProvider=function(){var t=this.contextIndex,e=this.contextStack[t],n=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,e[this.threadID]=n},e.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},e.read=function(t){if(this.exhausted)return null;var e=et;et=this.threadID;var n=pt.current;pt.current=nt;try{for(var o=[""],i=!1;o[0].length<t;){if(0===this.stack.length){this.exhausted=!0;var s=this.threadID;k[s]=k[0],k[0]=s;break}var a=this.stack[this.stack.length-1];if(i||a.childIndex>=a.children.length){var l=a.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===a.type)this.currentSelectValue=null;else if(null!=a.type&&null!=a.type.type&&a.type.type.$$typeof===h)this.popProvider(a.type);else if(a.type===_){this.suspenseDepth--;var u=o.pop();if(i){i=!1;var c=a.fallbackFrame;if(!c)throw Error(r(303));this.stack.push(c),o[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}o[this.suspenseDepth]+=u}o[this.suspenseDepth]+=l}else{var p=a.children[a.childIndex++],d="";try{d+=this.render(p,a.context,a.domNamespace)}catch(f){if(null!=f&&"function"===typeof f.then)throw Error(r(294));throw f}o.length<=this.suspenseDepth&&o.push(""),o[this.suspenseDepth]+=d}}return o[0]}finally{pt.current=n,et=e}},e.render=function(t,e,n){if("string"===typeof t||"number"===typeof t)return""===(n=""+t)?"":this.makeStaticMarkup?P(n):this.previousWasTextNode?"\x3c!-- --\x3e"+P(n):(this.previousWasTextNode=!0,P(n));if(t=(e=Tt(t,e,this.threadID)).child,e=e.context,null===t||!1===t)return"";if(!i.isValidElement(t)){if(null!=t&&null!=t.$$typeof){if((n=t.$$typeof)===a)throw Error(r(257));throw Error(r(258,n.toString()))}return t=ht(t),this.stack.push({type:null,domNamespace:n,children:t,childIndex:0,context:e,footer:""}),""}var s=t.type;if("string"===typeof s)return this.renderDOM(t,e,n);switch(s){case u:case d:case c:case g:case l:return t=ht(t.props.children),this.stack.push({type:null,domNamespace:n,children:t,childIndex:0,context:e,footer:""}),"";case _:throw Error(r(294))}if("object"===typeof s&&null!==s)switch(s.$$typeof){case f:V={};var y=s.render(t.props,t.ref);return y=q(s.render,t.props,y,t.ref),y=ht(y),this.stack.push({type:null,domNamespace:n,children:y,childIndex:0,context:e,footer:""}),"";case m:return t=[i.createElement(s.type,o({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:n,children:t,childIndex:0,context:e,footer:""}),"";case h:return n={type:t,domNamespace:n,children:s=ht(t.props.children),childIndex:0,context:e,footer:""},this.pushProvider(t),this.stack.push(n),"";case p:s=t.type,y=t.props;var b=this.threadID;return C(s,b),s=ht(y.children(s[b])),this.stack.push({type:t,domNamespace:n,children:s,childIndex:0,context:e,footer:""}),"";case E:throw Error(r(338));case v:switch(function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(s=t.type),s._status){case 1:return t=[i.createElement(s._result,o({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:n,children:t,childIndex:0,context:e,footer:""}),"";case 2:throw s._result;default:throw Error(r(295))}case T:throw Error(r(343))}throw Error(r(130,null==s?s:typeof s,""))},e.renderDOM=function(t,e,n){var s=t.type.toLowerCase();if(n===ot.html&&it(s),!_t.hasOwnProperty(s)){if(!ft.test(s))throw Error(r(65,s));_t[s]=!0}var a=t.props;if("input"===s)a=o({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===s){var l=a.value;if(null==l){l=a.defaultValue;var u=a.children;if(null!=u){if(null!=l)throw Error(r(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(r(93));u=u[0]}l=""+u}null==l&&(l="")}a=o({},a,{value:void 0,children:""+l})}else if("select"===s)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=o({},a,{value:void 0});else if("option"===s){u=this.currentSelectValue;var c=function(t){if(void 0===t||null===t)return t;var e="";return i.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(a.children);if(null!=u){var h=null!=a.value?a.value+"":c;if(l=!1,Array.isArray(u)){for(var p=0;p<u.length;p++)if(""+u[p]===h){l=!0;break}}else l=""+u===h;a=o({selected:void 0,children:void 0},a,{selected:l,children:c})}}if(l=a){if(st[s]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(r(137,s,""));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(r(60));if(!("object"===typeof l.dangerouslySetInnerHTML&&"__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=l.style&&"object"!==typeof l.style)throw Error(r(62,""))}for(T in l=a,u=this.makeStaticMarkup,c=1===this.stack.length,h="<"+t.type,l)if(mt.call(l,T)){var d=l[T];if(null!=d){if("style"===T){p=void 0;var f="",_="";for(p in d)if(d.hasOwnProperty(p)){var g=0===p.indexOf("--"),m=d[p];if(null!=m){if(g)var v=p;else if(v=p,gt.hasOwnProperty(v))v=gt[v];else{var E=v.replace(ut,"-$1").toLowerCase().replace(ct,"-ms-");v=gt[v]=E}f+=_+v+":",_=p,f+=g=null==m||"boolean"===typeof m||""===m?"":g||"number"!==typeof m||0===m||at.hasOwnProperty(_)&&at[_]?(""+m).trim():m+"px",_=";"}}d=f||null}p=null;t:if(g=s,m=l,-1===g.indexOf("-"))g="string"===typeof m.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break t;default:g=!0}g?vt.hasOwnProperty(T)||(p=w(p=T)&&null!=d?p+'="'+P(d)+'"':""):p=F(T,d),p&&(h+=" "+p)}}u||c&&(h+=' data-reactroot=""');var T=h;l="",rt.hasOwnProperty(s)?T+="/>":(T+=">",l="</"+t.type+">");t:{if(null!=(u=a.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break t}}else if("string"===typeof(u=a.children)||"number"===typeof u){u=P(u);break t}u=null}return null!=u?(a=[],dt[s]&&"\n"===u.charAt(0)&&(T+="\n"),T+=u):a=ht(a.children),t=t.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?it(t):"http://www.w3.org/2000/svg"===n&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:s,children:a,childIndex:0,context:e,footer:l}),this.previousWasTextNode=!1,T},t}(),bt={renderToString:function(t){t=new yt(t,!1);try{return t.read(1/0)}finally{t.destroy()}},renderToStaticMarkup:function(t){t=new yt(t,!0);try{return t.read(1/0)}finally{t.destroy()}},renderToNodeStream:function(){throw Error(r(207))},renderToStaticNodeStream:function(){throw Error(r(208))},version:"16.12.0"},St={default:bt},Ct=St&&bt||St;t.exports=Ct.default||Ct},function(t,e,n){"use strict";t.exports=n(111)},function(t,e,n){"use strict";var o=n(112),i=n(170),r=n(174),s=n(3),a=n(178),l={};s(l,r),s(l,{findDOMNode:a("findDOMNode","ReactDOM","react-dom",o,o.findDOMNode),render:a("render","ReactDOM","react-dom",o,o.render),unmountComponentAtNode:a("unmountComponentAtNode","ReactDOM","react-dom",o,o.unmountComponentAtNode),renderToString:a("renderToString","ReactDOMServer","react-dom/server",i,i.renderToString),renderToStaticMarkup:a("renderToStaticMarkup","ReactDOMServer","react-dom/server",i,i.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,t.exports=l},function(t,e,n){"use strict";var o=n(15),i=n(62),r=n(78),s=n(23),a=n(5),l=n(12),u=n(19),c=n(13),h=n(61),p=n(56),d=n(169);n(2);r.inject();var f={findDOMNode:p,render:l.measure("React","render",a.render),unmountComponentAtNode:a.unmountComponentAtNode,version:h,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:o,InstanceHandles:s,Mount:a,Reconciler:u,TextComponent:i}),t.exports=f},function(t,e,n){"use strict";var o=n(4),i=n(114),r=n(14),s=n(64),a=n(1),l=/^(<[^ \/>]+)/;function u(t){return t.substring(1,t.indexOf(" "))}var c={dangerouslyRenderMarkup:function(t){var e;o.canUseDOM||a(!1);for(var n={},c=0;c<t.length;c++)t[c]||a(!1),e=u(t[c]),n[e=s(e)?e:"*"]=n[e]||[],n[e][c]=t[c];var h=[],p=0;for(e in n)if(n.hasOwnProperty(e)){var d,f=n[e];for(d in f)if(f.hasOwnProperty(d)){var _=f[d];f[d]=_.replace(l,'$1 data-danger-index="'+d+'" ')}for(var g=i(f.join(""),r),m=0;m<g.length;++m){var v=g[m];v.hasAttribute&&v.hasAttribute("data-danger-index")&&(d=+v.getAttribute("data-danger-index"),v.removeAttribute("data-danger-index"),h.hasOwnProperty(d)&&a(!1),h[d]=v,p+=1)}}return p!==h.length&&a(!1),h.length!==t.length&&a(!1),h},dangerouslyReplaceNodeWithMarkup:function(t,e){var n;o.canUseDOM||a(!1),e||a(!1),"html"===t.tagName.toLowerCase()&&a(!1),n="string"===typeof e?i(e,r)[0]:e,t.parentNode.replaceChild(n,t)}};t.exports=c},function(t,e,n){"use strict";var o=n(4),i=n(115),r=n(64),s=n(1),a=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;t.exports=function(t,e){var n=a;a||s(!1);var o=function(t){var e=t.match(l);return e&&e[1].toLowerCase()}(t),u=o&&r(o);if(u){n.innerHTML=u[1]+t+u[2];for(var c=u[0];c--;)n=n.lastChild}else n.innerHTML=t;var h=n.getElementsByTagName("script");h.length&&(e||s(!1),i(h).forEach(e));for(var p=i(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}},function(t,e,n){"use strict";var o=n(116);t.exports=function(t){return function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}(t)?Array.isArray(t)?t.slice():o(t):[t]}},function(t,e,n){"use strict";var o=n(1);t.exports=function(t){var e=t.length;if((Array.isArray(t)||"object"!==typeof t&&"function"!==typeof t)&&o(!1),"number"!==typeof e&&o(!1),0===e||e-1 in t||o(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(r){}for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}},function(t,e,n){"use strict";var o=n(32);t.exports=function(t){return'"'+o(t)+'"'}},function(t,e,n){"use strict";var o=n(16),i=n(67),r=n(1),s=(n(2),{Mount:null,injectMount:function(t){s.Mount=t}}),a=o.topLevelTypes;function l(t,e,n,o){var r=t.type||"unknown-event";t.currentTarget=s.Mount.getNode(o),e?i.invokeGuardedCallbackWithCatch(r,n,t,o):i.invokeGuardedCallback(r,n,t,o),t.currentTarget=null}var u={isEndish:function(t){return t===a.topMouseUp||t===a.topTouchEnd||t===a.topTouchCancel},isMoveish:function(t){return t===a.topMouseMove||t===a.topTouchMove},isStartish:function(t){return t===a.topMouseDown||t===a.topTouchStart},executeDirectDispatch:function(t){var e=t._dispatchListeners,n=t._dispatchIDs;Array.isArray(e)&&r(!1);var o=e?e(t,n):null;return t._dispatchListeners=null,t._dispatchIDs=null,o},executeDispatchesInOrder:function(t,e){var n=t._dispatchListeners,o=t._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)l(t,e,n[i],o[i]);else n&&l(t,e,n,o);t._dispatchListeners=null,t._dispatchIDs=null},executeDispatchesInOrderStopAtTrue:function(t){var e=function(t){var e=t._dispatchListeners,n=t._dispatchIDs;if(Array.isArray(e)){for(var o=0;o<e.length&&!t.isPropagationStopped();o++)if(e[o](t,n[o]))return n[o]}else if(e&&e(t,n))return n;return null}(t);return t._dispatchIDs=null,t._dispatchListeners=null,e},hasDispatches:function(t){return!!t._dispatchListeners},getNode:function(t){return s.Mount.getNode(t)},getID:function(t){return s.Mount.getID(t)},injection:s};t.exports=u},function(t,e,n){"use strict";var o=n(24);var i={handleTopLevel:function(t,e,n,i,r){!function(t){o.enqueueEvents(t),o.processEventQueue(!1)}(o.extractEvents(t,e,n,i,r))}};t.exports=i},function(t,e,n){"use strict";var o=65521;t.exports=function(t){for(var e=1,n=0,i=0,r=t.length,s=-4&r;i<s;){for(;i<Math.min(i+4096,s);i+=4)n+=(e+=t.charCodeAt(i))+(e+=t.charCodeAt(i+1))+(e+=t.charCodeAt(i+2))+(e+=t.charCodeAt(i+3));e%=o,n%=o}for(;i<r;i++)n+=e+=t.charCodeAt(i);return(e%=o)|(n%=o)<<16}},function(t,e,n){"use strict";var o=n(122),i={};i.attachRefs=function(t,e){if(null!==e&&!1!==e){var n=e.ref;null!=n&&function(t,e,n){"function"===typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}(n,t,e._owner)}},i.shouldUpdateRefs=function(t,e){return null===t||!1===t||(null===e||!1===e)||e._owner!==t._owner||e.ref!==t.ref},i.detachRefs=function(t,e){if(null!==e&&!1!==e){var n=e.ref;null!=n&&function(t,e,n){"function"===typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}(n,t,e._owner)}},t.exports=i},function(t,e,n){"use strict";var o=n(1),i={isValidOwner:function(t){return!(!t||"function"!==typeof t.attachRef||"function"!==typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){i.isValidOwner(n)||o(!1),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){i.isValidOwner(n)||o(!1),n.getPublicInstance().refs[e]===t.getPublicInstance()&&n.detachRef(e)}};t.exports=i},function(t,e,n){"use strict";var o=n(124);t.exports=function(t){return o(t)&&3==t.nodeType}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!("function"===typeof Node?t instanceof Node:"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName))}},function(t,e,n){"use strict";var o=n(51),i=n(15),r=n(11),s=n(25),a=n(12),l=n(36),u=(n(37),n(19)),c=n(48),h=n(3),p=n(26),d=n(1),f=n(52);n(2);function _(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}function g(t){}g.prototype.render=function(){return(0,s.get(this)._currentElement.type)(this.props,this.context,this.updater)};var m=1,v={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(t,e,n){this._context=n,this._mountOrder=m++,this._rootNodeID=t;var o,i,a=this._processProps(this._currentElement.props),l=this._processContext(n),h=this._currentElement.type,f="prototype"in h;f&&(o=new h(a,l,c)),f&&null!==o&&!1!==o&&!r.isValidElement(o)||(i=o,o=new g(h)),o.props=a,o.context=l,o.refs=p,o.updater=c,this._instance=o,s.set(o,this);var _=o.state;void 0===_&&(o.state=_=null),("object"!==typeof _||Array.isArray(_))&&d(!1),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===i&&(i=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(i);var v=u.mountComponent(this._renderedComponent,t,e,this._processChildContext(n));return o.componentDidMount&&e.getReactMountReady().enqueue(o.componentDidMount,o),v},unmountComponent:function(){var t=this._instance;t.componentWillUnmount&&t.componentWillUnmount(),u.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,s.remove(t)},_maskContext:function(t){var e=null,n=this._currentElement.type.contextTypes;if(!n)return p;for(var o in e={},n)e[o]=t[o];return e},_processContext:function(t){return this._maskContext(t)},_processChildContext:function(t){var e=this._currentElement.type,n=this._instance,o=n.getChildContext&&n.getChildContext();if(o){for(var i in"object"!==typeof e.childContextTypes&&d(!1),o)i in e.childContextTypes||d(!1);return h({},t,o)}return t},_processProps:function(t){return t},_checkPropTypes:function(t,e,n){var o=this.getName();for(var i in t)if(t.hasOwnProperty(i)){var r;try{"function"!==typeof t[i]&&d(!1),r=t[i](e,i,o,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(s){r=s}if(r instanceof Error){_(this);l.prop}}},receiveComponent:function(t,e,n){var o=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,o,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&u.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(t,e,n,o,i){var r,s=this._instance,a=this._context===i?s.context:this._processContext(i);e===n?r=n.props:(r=this._processProps(n.props),s.componentWillReceiveProps&&s.componentWillReceiveProps(r,a));var l=this._processPendingState(r,a);this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(r,l,a)?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,r,l,a,t,i)):(this._currentElement=n,this._context=i,s.props=r,s.state=l,s.context=a)},_processPendingState:function(t,e){var n=this._instance,o=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!o)return n.state;if(i&&1===o.length)return o[0];for(var r=h({},i?o[0]:n.state),s=i?1:0;s<o.length;s++){var a=o[s];h(r,"function"===typeof a?a.call(n,r,t,e):a)}return r},_performComponentUpdate:function(t,e,n,o,i,r){var s,a,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(s=u.props,a=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(e,n,o),this._currentElement=t,this._context=r,u.props=e,u.state=n,u.context=o,this._updateRenderedComponent(i,r),c&&i.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,s,a,l),u)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,o=n._currentElement,i=this._renderValidatedComponent();if(f(o,i))u.receiveComponent(n,i,t,this._processChildContext(e));else{var r=this._rootNodeID,s=n._rootNodeID;u.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i);var a=u.mountComponent(this._renderedComponent,r,t,this._processChildContext(e));this._replaceNodeWithMarkupByID(s,a)}},_replaceNodeWithMarkupByID:function(t,e){o.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var t;i.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{i.current=null}return null===t||!1===t||r.isValidElement(t)||d(!1),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n&&d(!1);var o=e.getPublicInstance();(n.refs===p?n.refs={}:n.refs)[t]=o},detachRef:function(t){delete this.getPublicInstance().refs[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return t instanceof g?null:t},_instantiateReactComponent:null};a.measureMethods(v,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var E={Mixin:v};t.exports=E},function(t,e,n){"use strict";var o=n(16),i=n(27),r=n(4),s=n(127),a=n(128),l=n(129),u=n(18),c=[9,13,27,32],h=229,p=r.canUseDOM&&"CompositionEvent"in window,d=null;r.canUseDOM&&"documentMode"in document&&(d=document.documentMode);var f=r.canUseDOM&&"TextEvent"in window&&!d&&!function(){var t=window.opera;return"object"===typeof t&&"function"===typeof t.version&&parseInt(t.version(),10)<=12}(),_=r.canUseDOM&&(!p||d&&d>8&&d<=11);var g=32,m=String.fromCharCode(g),v=o.topLevelTypes,E={beforeInput:{phasedRegistrationNames:{bubbled:u({onBeforeInput:null}),captured:u({onBeforeInputCapture:null})},dependencies:[v.topCompositionEnd,v.topKeyPress,v.topTextInput,v.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:u({onCompositionEnd:null}),captured:u({onCompositionEndCapture:null})},dependencies:[v.topBlur,v.topCompositionEnd,v.topKeyDown,v.topKeyPress,v.topKeyUp,v.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:u({onCompositionStart:null}),captured:u({onCompositionStartCapture:null})},dependencies:[v.topBlur,v.topCompositionStart,v.topKeyDown,v.topKeyPress,v.topKeyUp,v.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:u({onCompositionUpdate:null}),captured:u({onCompositionUpdateCapture:null})},dependencies:[v.topBlur,v.topCompositionUpdate,v.topKeyDown,v.topKeyPress,v.topKeyUp,v.topMouseDown]}},T=!1;function y(t,e){switch(t){case v.topKeyUp:return-1!==c.indexOf(e.keyCode);case v.topKeyDown:return e.keyCode!==h;case v.topKeyPress:case v.topMouseDown:case v.topBlur:return!0;default:return!1}}function b(t){var e=t.detail;return"object"===typeof e&&"data"in e?e.data:null}var S=null;function C(t,e,n,o,r){var l,u;if(p?l=function(t){switch(t){case v.topCompositionStart:return E.compositionStart;case v.topCompositionEnd:return E.compositionEnd;case v.topCompositionUpdate:return E.compositionUpdate}}(t):S?y(t,o)&&(l=E.compositionEnd):function(t,e){return t===v.topKeyDown&&e.keyCode===h}(t,o)&&(l=E.compositionStart),!l)return null;_&&(S||l!==E.compositionStart?l===E.compositionEnd&&S&&(u=S.getData()):S=s.getPooled(e));var c=a.getPooled(l,n,o,r);if(u)c.data=u;else{var d=b(o);null!==d&&(c.data=d)}return i.accumulateTwoPhaseDispatches(c),c}function k(t,e,n,o,r){var a;if(!(a=f?function(t,e){switch(t){case v.topCompositionEnd:return b(e);case v.topKeyPress:return e.which!==g?null:(T=!0,m);case v.topTextInput:var n=e.data;return n===m&&T?null:n;default:return null}}(t,o):function(t,e){if(S){if(t===v.topCompositionEnd||y(t,e)){var n=S.getData();return s.release(S),S=null,n}return null}switch(t){case v.topPaste:return null;case v.topKeyPress:return e.which&&!function(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}(e)?String.fromCharCode(e.which):null;case v.topCompositionEnd:return _?null:e.data;default:return null}}(t,o)))return null;var u=l.getPooled(E.beforeInput,n,o,r);return u.data=a,i.accumulateTwoPhaseDispatches(u),u}var D={eventTypes:E,extractEvents:function(t,e,n,o,i){return[C(t,e,n,o,i),k(t,0,n,o,i)]}};t.exports=D},function(t,e,n){"use strict";var o=n(17),i=n(3),r=n(79);function s(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}i(s.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[r()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,o=n.length,i=this.getText(),r=i.length;for(t=0;t<o&&n[t]===i[t];t++);var s=o-t;for(e=1;e<=s&&n[o-e]===i[r-e];e++);var a=e>1?1-e:void 0;return this._fallbackText=i.slice(t,a),this._fallbackText}}),o.addPoolingTo(s),t.exports=s},function(t,e,n){"use strict";var o=n(20);function i(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(i,{data:null}),t.exports=i},function(t,e,n){"use strict";var o=n(20);function i(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(i,{data:null}),t.exports=i},function(t,e,n){"use strict";var o=n(16),i=n(24),r=n(27),s=n(4),a=n(13),l=n(20),u=n(54),c=n(47),h=n(80),p=n(18),d=o.topLevelTypes,f={change:{phasedRegistrationNames:{bubbled:p({onChange:null}),captured:p({onChangeCapture:null})},dependencies:[d.topBlur,d.topChange,d.topClick,d.topFocus,d.topInput,d.topKeyDown,d.topKeyUp,d.topSelectionChange]}},_=null,g=null,m=null,v=null;var E=!1;function T(t){var e=l.getPooled(f.change,g,t,u(t));r.accumulateTwoPhaseDispatches(e),a.batchedUpdates(y,e)}function y(t){i.enqueueEvents(t),i.processEventQueue(!1)}function b(){_&&(_.detachEvent("onchange",T),_=null,g=null)}function S(t,e,n){if(t===d.topChange)return n}function C(t,e,n){t===d.topFocus?(b(),g=n,(_=e).attachEvent("onchange",T)):t===d.topBlur&&b()}s.canUseDOM&&(E=c("change")&&(!("documentMode"in document)||document.documentMode>8));var k=!1;s.canUseDOM&&(k=c("input")&&(!("documentMode"in document)||document.documentMode>9));var D={get:function(){return v.get.call(this)},set:function(t){m=""+t,v.set.call(this,t)}};function I(){_&&(delete _.value,_.detachEvent("onpropertychange",R),_=null,g=null,m=null,v=null)}function R(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==m&&(m=e,T(t))}}function A(t,e,n){if(t===d.topInput)return n}function O(t,e,n){var o;t===d.topFocus?(I(),_=o=e,g=n,m=o.value,v=Object.getOwnPropertyDescriptor(o.constructor.prototype,"value"),Object.defineProperty(_,"value",D),_.attachEvent("onpropertychange",R)):t===d.topBlur&&I()}function w(t,e,n){if((t===d.topSelectionChange||t===d.topKeyUp||t===d.topKeyDown)&&_&&_.value!==m)return m=_.value,g}function x(t,e,n){if(t===d.topClick)return n}var N={eventTypes:f,extractEvents:function(t,e,n,o,i){var s,a,u;if(!function(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}(e)?h(e)?k?s=A:(s=w,a=O):!(u=e).nodeName||"input"!==u.nodeName.toLowerCase()||"checkbox"!==u.type&&"radio"!==u.type||(s=x):E?s=S:a=C,s){var c=s(t,e,n);if(c){var p=l.getPooled(f.change,c,o,i);return p.type="change",r.accumulateTwoPhaseDispatches(p),p}}a&&a(t,e,n)}};t.exports=N},function(t,e,n){"use strict";var o=0,i={createReactRootIndex:function(){return o++}};t.exports=i},function(t,e,n){"use strict";var o=n(18),i=[o({ResponderEventPlugin:null}),o({SimpleEventPlugin:null}),o({TapEventPlugin:null}),o({EnterLeaveEventPlugin:null}),o({ChangeEventPlugin:null}),o({SelectEventPlugin:null}),o({BeforeInputEventPlugin:null})];t.exports=i},function(t,e,n){"use strict";var o=n(16),i=n(27),r=n(38),s=n(5),a=n(18),l=o.topLevelTypes,u=s.getFirstReactDOM,c={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},h=[null,null],p={eventTypes:c,extractEvents:function(t,e,n,o,a){if(t===l.topMouseOver&&(o.relatedTarget||o.fromElement))return null;if(t!==l.topMouseOut&&t!==l.topMouseOver)return null;var p,d,f;if(e.window===e)p=e;else{var _=e.ownerDocument;p=_?_.defaultView||_.parentWindow:window}var g="",m="";if(t===l.topMouseOut?(d=e,g=n,(f=u(o.relatedTarget||o.toElement))?m=s.getID(f):f=p,f=f||p):(d=p,f=e,m=n),d===f)return null;var v=r.getPooled(c.mouseLeave,g,o,a);v.type="mouseleave",v.target=d,v.relatedTarget=f;var E=r.getPooled(c.mouseEnter,m,o,a);return E.type="mouseenter",E.target=f,E.relatedTarget=d,i.accumulateEnterLeaveDispatches(v,E,g,m),h[0]=v,h[1]=E,h}};t.exports=p},function(t,e,n){"use strict";var o,i=n(22),r=n(4),s=i.injection.MUST_USE_ATTRIBUTE,a=i.injection.MUST_USE_PROPERTY,l=i.injection.HAS_BOOLEAN_VALUE,u=i.injection.HAS_SIDE_EFFECTS,c=i.injection.HAS_NUMERIC_VALUE,h=i.injection.HAS_POSITIVE_NUMERIC_VALUE,p=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(r.canUseDOM){var d=document.implementation;o=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|l,allowTransparency:s,alt:null,async:l,autoComplete:null,autoPlay:l,capture:s|l,cellPadding:null,cellSpacing:null,charSet:s,challenge:s,checked:a|l,classID:s,className:o?s:a,cols:s|h,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:s,default:l,defer:l,dir:null,disabled:s|l,download:p,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:l,formTarget:s,frameBorder:s,headers:null,height:s,hidden:s|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,inputMode:s,integrity:null,is:s,keyParams:s,keyType:s,kind:null,label:null,lang:null,list:s,loop:a|l,low:null,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,minLength:s,multiple:a|l,muted:a|l,name:null,nonce:s,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,reversed:l,role:s,rows:s|h,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:s|l,selected:a|l,shape:null,size:s|h,sizes:s,span:h,spellCheck:null,src:null,srcDoc:a,srcLang:null,srcSet:s,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|u,width:s,wmode:s,wrap:null,about:s,datatype:s,inlist:s,prefix:s,property:s,resource:s,typeof:s,vocab:s,autoCapitalize:s,autoCorrect:s,autoSave:null,color:null,itemProp:s,itemScope:s|l,itemType:s,itemID:s,itemRef:s,results:null,security:s,unselectable:s},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},function(t,e,n){"use strict";n(25);var o=n(56),i=(n(2),{getDOMNode:function(){return this.constructor._getDOMNodeDidWarn=!0,o(this)}});t.exports=i},function(t,e,n){"use strict";var o=n(137),i=n(138),r=n(22),s=n(44),a=n(16),l=n(33),u=n(45),c=n(145),h=n(146),p=n(147),d=n(86),f=n(148),_=n(5),g=n(149),m=n(12),v=n(48),E=n(3),T=n(34),y=n(32),b=n(1),S=(n(47),n(18)),C=n(31),k=n(43),D=(n(87),n(53),n(2),l.deleteListener),I=l.listenTo,R=l.registrationNameModules,A={string:!0,number:!0},O=S({children:null}),w=S({style:null}),x=S({__html:null}),N=1;function M(){return this}function L(){return!!this._reactInternalComponent}function B(){}function P(t,e){var n=this._reactInternalComponent;n&&(v.enqueueSetPropsInternal(n,t),e&&v.enqueueCallbackInternal(n,e))}function F(t,e){var n=this._reactInternalComponent;n&&(v.enqueueReplacePropsInternal(n,t),e&&v.enqueueCallbackInternal(n,e))}function U(t,e){e&&(null!=e.dangerouslySetInnerHTML&&(null!=e.children&&b(!1),"object"===typeof e.dangerouslySetInnerHTML&&x in e.dangerouslySetInnerHTML||b(!1)),null!=e.style&&"object"!==typeof e.style&&b(!1))}function V(t,e,n,o){var i=_.findReactContainerForID(t);if(i){var r=i.nodeType===N?i.ownerDocument:i;I(e,r)}o.getReactMountReady().enqueue(H,{id:t,registrationName:e,listener:n})}function H(){l.putListener(this.id,this.registrationName,this.listener)}var G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function W(){this._rootNodeID||b(!1);var t=_.getNode(this._rootNodeID);switch(t||b(!1),this._tag){case"iframe":this._wrapperState.listeners=[l.trapBubbledEvent(a.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":for(var e in this._wrapperState.listeners=[],G)G.hasOwnProperty(e)&&this._wrapperState.listeners.push(l.trapBubbledEvent(a.topLevelTypes[e],G[e],t));break;case"img":this._wrapperState.listeners=[l.trapBubbledEvent(a.topLevelTypes.topError,"error",t),l.trapBubbledEvent(a.topLevelTypes.topLoad,"load",t)];break;case"form":this._wrapperState.listeners=[l.trapBubbledEvent(a.topLevelTypes.topReset,"reset",t),l.trapBubbledEvent(a.topLevelTypes.topSubmit,"submit",t)]}}function X(){h.mountReadyWrapper(this)}function z(){d.postUpdateWrapper(this)}var J={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},K={listing:!0,pre:!0,textarea:!0},Y=(E({menuitem:!0},J),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),j={},q={}.hasOwnProperty;function Q(t,e){return t.indexOf("-")>=0||null!=e.is}function Z(t){!function(t){q.call(j,t)||(Y.test(t)||b(!1),j[t]=!0)}(t),this._tag=t.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}Z.displayName="ReactDOMComponent",Z.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t;var i,r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(W,this);break;case"button":r=c.getNativeProps(this,r,n);break;case"input":h.mountWrapper(this,r,n),r=h.getNativeProps(this,r,n);break;case"option":p.mountWrapper(this,r,n),r=p.getNativeProps(this,r,n);break;case"select":d.mountWrapper(this,r,n),r=d.getNativeProps(this,r,n),n=d.processChildContext(this,r,n);break;case"textarea":f.mountWrapper(this,r,n),r=f.getNativeProps(this,r,n)}if(U(0,r),e.useCreateElement){var a=n[_.ownerDocumentContextKey].createElement(this._currentElement.type);s.setAttributeForID(a,this._rootNodeID),_.getID(a),this._updateDOMProperties({},r,e,a),this._createInitialChildren(e,r,n,a),i=a}else{var l=this._createOpenTagMarkupAndPutListeners(e,r),u=this._createContentMarkup(e,r,n);i=!u&&J[this._tag]?l+"/>":l+">"+u+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(X,this);case"button":case"select":case"textarea":r.autoFocus&&e.getReactMountReady().enqueue(o.focusDOMComponent,this)}return i},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];if(null!=r)if(R.hasOwnProperty(o))r&&V(this._rootNodeID,o,r,t);else{o===w&&(r&&(r=this._previousStyleCopy=E({},e.style)),r=i.createMarkupForStyles(r));var a=null;null!=this._tag&&Q(this._tag,e)?o!==O&&(a=s.createMarkupForCustomAttribute(o,r)):a=s.createMarkupForProperty(o,r),a&&(n+=" "+a)}}return t.renderToStaticMarkup?n:n+" "+s.createMarkupForID(this._rootNodeID)},_createContentMarkup:function(t,e,n){var o="",i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(o=i.__html);else{var r=A[typeof e.children]?e.children:null,s=null!=r?null:e.children;if(null!=r)o=y(r);else if(null!=s){o=this.mountChildren(s,t,n).join("")}}return K[this._tag]&&"\n"===o.charAt(0)?"\n"+o:o},_createInitialChildren:function(t,e,n,o){var i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&C(o,i.__html);else{var r=A[typeof e.children]?e.children:null,s=null!=r?null:e.children;if(null!=r)k(o,r);else if(null!=s)for(var a=this.mountChildren(s,t,n),l=0;l<a.length;l++)o.appendChild(a[l])}},receiveComponent:function(t,e,n){var o=this._currentElement;this._currentElement=t,this.updateComponent(e,o,t,n)},updateComponent:function(t,e,n,o){var i=e.props,r=this._currentElement.props;switch(this._tag){case"button":i=c.getNativeProps(this,i),r=c.getNativeProps(this,r);break;case"input":h.updateWrapper(this),i=h.getNativeProps(this,i),r=h.getNativeProps(this,r);break;case"option":i=p.getNativeProps(this,i),r=p.getNativeProps(this,r);break;case"select":i=d.getNativeProps(this,i),r=d.getNativeProps(this,r);break;case"textarea":f.updateWrapper(this),i=f.getNativeProps(this,i),r=f.getNativeProps(this,r)}U(0,r),this._updateDOMProperties(i,r,t,null),this._updateDOMChildren(i,r,t,o),!T&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=r),"select"===this._tag&&t.getReactMountReady().enqueue(z,this)},_updateDOMProperties:function(t,e,n,o){var a,l,u;for(a in t)if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a))if(a===w){var c=this._previousStyleCopy;for(l in c)c.hasOwnProperty(l)&&((u=u||{})[l]="");this._previousStyleCopy=null}else R.hasOwnProperty(a)?t[a]&&D(this._rootNodeID,a):(r.properties[a]||r.isCustomAttribute(a))&&(o||(o=_.getNode(this._rootNodeID)),s.deleteValueForProperty(o,a));for(a in e){var h=e[a],p=a===w?this._previousStyleCopy:t[a];if(e.hasOwnProperty(a)&&h!==p)if(a===w)if(h?h=this._previousStyleCopy=E({},h):this._previousStyleCopy=null,p){for(l in p)!p.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||((u=u||{})[l]="");for(l in h)h.hasOwnProperty(l)&&p[l]!==h[l]&&((u=u||{})[l]=h[l])}else u=h;else R.hasOwnProperty(a)?h?V(this._rootNodeID,a,h,n):p&&D(this._rootNodeID,a):Q(this._tag,e)?(o||(o=_.getNode(this._rootNodeID)),a===O&&(h=null),s.setValueForAttribute(o,a,h)):(r.properties[a]||r.isCustomAttribute(a))&&(o||(o=_.getNode(this._rootNodeID)),null!=h?s.setValueForProperty(o,a,h):s.deleteValueForProperty(o,a))}u&&(o||(o=_.getNode(this._rootNodeID)),i.setValueForStyles(o,u))},_updateDOMChildren:function(t,e,n,o){var i=A[typeof t.children]?t.children:null,r=A[typeof e.children]?e.children:null,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,l=null!=i?null:t.children,u=null!=r?null:e.children,c=null!=i||null!=s,h=null!=r||null!=a;null!=l&&null==u?this.updateChildren(null,n,o):c&&!h&&this.updateTextContent(""),null!=r?i!==r&&this.updateTextContent(""+r):null!=a?s!==a&&this.updateMarkup(""+a):null!=u&&this.updateChildren(u,n,o)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var e=0;e<t.length;e++)t[e].remove();break;case"input":h.unmountWrapper(this);break;case"html":case"head":case"body":b(!1)}(this.unmountChildren(),l.deleteAllListeners(this._rootNodeID),u.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties)&&(this._nodeWithLegacyProperties._reactInternalComponent=null,this._nodeWithLegacyProperties=null)},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var t=_.getNode(this._rootNodeID);t._reactInternalComponent=this,t.getDOMNode=M,t.isMounted=L,t.setState=B,t.replaceState=B,t.forceUpdate=B,t.setProps=P,t.replaceProps=F,t.props=this._currentElement.props,this._nodeWithLegacyProperties=t}return this._nodeWithLegacyProperties}},m.measureMethods(Z,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),E(Z.prototype,Z.Mixin,g.Mixin),t.exports=Z},function(t,e,n){"use strict";var o=n(5),i=n(56),r=n(82),s={Mixin:{componentDidMount:function(){this.props.autoFocus&&r(i(this))}},focusDOMComponent:function(){r(o.getNode(this._rootNodeID))}};t.exports=s},function(t,e,n){"use strict";var o=n(83),i=n(4),r=n(12),s=(n(139),n(141)),a=n(142),l=n(144),u=(n(2),l((function(t){return a(t)}))),c=!1,h="cssFloat";if(i.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(f){c=!0}void 0===document.documentElement.style.cssFloat&&(h="styleFloat")}var d={createMarkupForStyles:function(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];0,null!=o&&(e+=u(n)+":",e+=s(n,o)+";")}return e||null},setValueForStyles:function(t,e){var n=t.style;for(var i in e)if(e.hasOwnProperty(i)){0;var r=s(i,e[i]);if("float"===i&&(i=h),r)n[i]=r;else{var a=c&&o.shorthandPropertyExpansions[i];if(a)for(var l in a)n[l]="";else n[i]=""}}}};r.measureMethods(d,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=d},function(t,e,n){"use strict";var o=n(140),i=/^-ms-/;t.exports=function(t){return o(t.replace(i,"ms-"))}},function(t,e,n){"use strict";var o=/-(.)/g;t.exports=function(t){return t.replace(o,(function(t,e){return e.toUpperCase()}))}},function(t,e,n){"use strict";var o=n(83).isUnitlessNumber;t.exports=function(t,e){return null==e||"boolean"===typeof e||""===e?"":isNaN(e)||0===e||o.hasOwnProperty(t)&&o[t]?""+e:("string"===typeof e&&(e=e.trim()),e+"px")}},function(t,e,n){"use strict";var o=n(143),i=/^ms-/;t.exports=function(t){return o(t).replace(i,"-ms-")}},function(t,e,n){"use strict";var o=/([A-Z])/g;t.exports=function(t){return t.replace(o,"-$1").toLowerCase()}},function(t,e,n){"use strict";t.exports=function(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}},function(t,e,n){"use strict";var o={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getNativeProps:function(t,e,n){if(!e.disabled)return e;var i={};for(var r in e)e.hasOwnProperty(r)&&!o[r]&&(i[r]=e[r]);return i}};t.exports=i},function(t,e,n){"use strict";var o=n(46),i=n(57),r=n(5),s=n(13),a=n(3),l=n(1),u={};function c(){this._rootNodeID&&h.updateWrapper(this)}var h={getNativeProps:function(t,e,n){var o=i.getValue(e),r=i.getChecked(e);return a({},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=o?o:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange})},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:e.defaultChecked||!1,initialValue:null!=n?n:null,onChange:p.bind(t)}},mountReadyWrapper:function(t){u[t._rootNodeID]=t},unmountWrapper:function(t){delete u[t._rootNodeID]},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&o.updatePropertyByID(t._rootNodeID,"checked",n||!1);var r=i.getValue(e);null!=r&&o.updatePropertyByID(t._rootNodeID,"value",""+r)}};function p(t){var e=this._currentElement.props,n=i.executeOnChange(e,t);s.asap(c,this);var o=e.name;if("radio"===e.type&&null!=o){for(var a=r.getNode(this._rootNodeID),h=a;h.parentNode;)h=h.parentNode;for(var p=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<p.length;d++){var f=p[d];if(f!==a&&f.form===a.form){var _=r.getID(f);_||l(!1);var g=u[_];g||l(!1),s.asap(c,g)}}}return n}t.exports=h},function(t,e,n){"use strict";var o=n(85),i=n(86),r=n(3),s=(n(2),i.valueContextKey),a={mountWrapper:function(t,e,n){var o=n[s],i=null;if(null!=o)if(i=!1,Array.isArray(o)){for(var r=0;r<o.length;r++)if(""+o[r]===""+e.value){i=!0;break}}else i=""+o===""+e.value;t._wrapperState={selected:i}},getNativeProps:function(t,e,n){var i=r({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(i.selected=t._wrapperState.selected);var s="";return o.forEach(e.children,(function(t){null!=t&&("string"!==typeof t&&"number"!==typeof t||(s+=t))})),s&&(i.children=s),i}};t.exports=a},function(t,e,n){"use strict";var o=n(57),i=n(46),r=n(13),s=n(3),a=n(1);n(2);function l(){this._rootNodeID&&u.updateWrapper(this)}var u={getNativeProps:function(t,e,n){return null!=e.dangerouslySetInnerHTML&&a(!1),s({},e,{defaultValue:void 0,value:void 0,children:t._wrapperState.initialValue,onChange:t._wrapperState.onChange})},mountWrapper:function(t,e){var n=e.defaultValue,i=e.children;null!=i&&(null!=n&&a(!1),Array.isArray(i)&&(i.length<=1||a(!1),i=i[0]),n=""+i),null==n&&(n="");var r=o.getValue(e);t._wrapperState={initialValue:""+(null!=r?r:n),onChange:c.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=o.getValue(e);null!=n&&i.updatePropertyByID(t._rootNodeID,"value",""+n)}};function c(t){var e=this._currentElement.props,n=o.executeOnChange(e,t);return r.asap(l,this),n}t.exports=u},function(t,e,n){"use strict";var o=n(51),i=n(65),r=(n(15),n(19)),s=n(150),a=n(151),l=0,u=[],c=[];function h(){u.length&&(o.processChildrenUpdates(u,c),p())}function p(){u.length=0,c.length=0}var d={Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return s.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,o){var i;return i=a(e),s.updateChildren(t,i,n,o)},mountChildren:function(t,e,n){var o=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=o;var i=[],s=0;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a],u=this._rootNodeID+a,c=r.mountComponent(l,u,e,n);l._mountIndex=s++,i.push(c)}return i},updateTextContent:function(t){l++;var e=!0;try{var n=this._renderedChildren;for(var o in s.unmountChildren(n),n)n.hasOwnProperty(o)&&this._unmountChild(n[o]);this.setTextContent(t),e=!1}finally{--l||(e?p():h())}},updateMarkup:function(t){l++;var e=!0;try{var n=this._renderedChildren;for(var o in s.unmountChildren(n),n)n.hasOwnProperty(o)&&this._unmountChildByName(n[o],o);this.setMarkup(t),e=!1}finally{--l||(e?p():h())}},updateChildren:function(t,e,n){l++;var o=!0;try{this._updateChildren(t,e,n),o=!1}finally{--l||(o?p():h())}},_updateChildren:function(t,e,n){var o=this._renderedChildren,i=this._reconcilerUpdateChildren(o,t,e,n);if(this._renderedChildren=i,i||o){var r,s=0,a=0;for(r in i)if(i.hasOwnProperty(r)){var l=o&&o[r],u=i[r];l===u?(this.moveChild(l,a,s),s=Math.max(l._mountIndex,s),l._mountIndex=a):(l&&(s=Math.max(l._mountIndex,s),this._unmountChild(l)),this._mountChildByNameAtIndex(u,r,a,e,n)),a++}for(r in o)!o.hasOwnProperty(r)||i&&i.hasOwnProperty(r)||this._unmountChild(o[r])}},unmountChildren:function(){var t=this._renderedChildren;s.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&function(t,e,n){u.push({parentID:t,parentNode:null,type:i.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:e,toIndex:n})}(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){var n,o,r;n=this._rootNodeID,o=e,r=t._mountIndex,u.push({parentID:n,parentNode:null,type:i.INSERT_MARKUP,markupIndex:c.push(o)-1,content:null,fromIndex:null,toIndex:r})},removeChild:function(t){var e,n;e=this._rootNodeID,n=t._mountIndex,u.push({parentID:e,parentNode:null,type:i.REMOVE_NODE,markupIndex:null,content:null,fromIndex:n,toIndex:null})},setTextContent:function(t){!function(t,e){u.push({parentID:t,parentNode:null,type:i.TEXT_CONTENT,markupIndex:null,content:e,fromIndex:null,toIndex:null})}(this._rootNodeID,t)},setMarkup:function(t){!function(t,e){u.push({parentID:t,parentNode:null,type:i.SET_MARKUP,markupIndex:null,content:e,fromIndex:null,toIndex:null})}(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,o,i){var s=this._rootNodeID+e,a=r.mountComponent(t,s,o,i);t._mountIndex=n,this.createChild(t,a)},_unmountChild:function(t){this.removeChild(t),t._mountIndex=null}}};t.exports=d},function(t,e,n){"use strict";var o=n(19),i=n(50),r=n(52),s=n(59);n(2);function a(t,e,n){var o=void 0===t[n];null!=e&&o&&(t[n]=i(e,null))}var l={instantiateChildren:function(t,e,n){if(null==t)return null;var o={};return s(t,a,o),o},updateChildren:function(t,e,n,s){if(!e&&!t)return null;var a;for(a in e)if(e.hasOwnProperty(a)){var l=t&&t[a],u=l&&l._currentElement,c=e[a];if(null!=l&&r(u,c))o.receiveComponent(l,c,n,s),e[a]=l;else{l&&o.unmountComponent(l,a);var h=i(c,null);e[a]=h}}for(a in t)!t.hasOwnProperty(a)||e&&e.hasOwnProperty(a)||o.unmountComponent(t[a]);return e},unmountChildren:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];o.unmountComponent(n)}}};t.exports=l},function(t,e,n){"use strict";var o=n(59);n(2);function i(t,e,n){var o=t;void 0===o[n]&&null!=e&&(o[n]=e)}t.exports=function(t){if(null==t)return t;var e={};return o(t,i,e),e}},function(t,e,n){"use strict";var o=n(88),i=n(4),r=n(17),s=n(23),a=n(5),l=n(13),u=n(3),c=n(54),h=n(153);function p(t){var e=a.getID(t),n=s.getReactRootIDFromNodeID(e),o=a.findReactContainerForID(n);return a.getFirstReactDOM(o)}function d(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function f(t){!function(t){var e=a.getFirstReactDOM(c(t.nativeEvent))||window,n=e;for(;n;)t.ancestors.push(n),n=p(n);for(var o=0;o<t.ancestors.length;o++){e=t.ancestors[o];var i=a.getID(e)||"";g._handleTopLevel(t.topLevelType,e,i,t.nativeEvent,c(t.nativeEvent))}}(t)}function _(t){t(h(window))}u(d.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),r.addPoolingTo(d,r.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(t){g._handleTopLevel=t},setEnabled:function(t){g._enabled=!!t},isEnabled:function(){return g._enabled},trapBubbledEvent:function(t,e,n){var i=n;return i?o.listen(i,e,g.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var i=n;return i?o.capture(i,e,g.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=_.bind(null,t);o.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(g._enabled){var n=d.getPooled(t,e);try{l.batchedUpdates(f,n)}finally{d.release(n)}}}};t.exports=g},function(t,e,n){"use strict";t.exports=function(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}},function(t,e,n){"use strict";var o=n(22),i=n(24),r=n(51),s=n(89),a=n(76),l=n(33),u=n(77),c=n(12),h=n(73),p=n(13),d={Component:r.injection,Class:s.injection,DOMProperty:o.injection,EmptyComponent:a.injection,EventPluginHub:i.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:c.injection,RootIndex:h.injection,Updates:p.injection};t.exports=d},function(t,e,n){"use strict";var o=n(49),i=n(17),r=n(33),s=n(71),a=n(92),l=n(35),u=n(3),c=[{initialize:a.getSelectionInformation,close:a.restoreSelection},{initialize:function(){var t=r.isEnabled();return r.setEnabled(!1),t},close:function(t){r.setEnabled(t)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];function h(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=!t&&s.useCreateElement}var p={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};u(h.prototype,l.Mixin,p),i.addPoolingTo(h),t.exports=h},function(t,e,n){"use strict";var o=n(4),i=n(157),r=n(79);function s(t,e,n,o){return t===n&&e===o}var a=o.canUseDOM&&"selection"in document&&!("getSelection"in window),l={getOffsets:a?function(t){var e=document.selection.createRange(),n=e.text.length,o=e.duplicate();o.moveToElementText(t),o.setEndPoint("EndToStart",e);var i=o.text.length;return{start:i,end:i+n}}:function(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,o=e.anchorOffset,i=e.focusNode,r=e.focusOffset,a=e.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(f){return null}var l=s(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)?0:a.toString().length,u=a.cloneRange();u.selectNodeContents(t),u.setEnd(a.startContainer,a.startOffset);var c=s(u.startContainer,u.startOffset,u.endContainer,u.endOffset)?0:u.toString().length,h=c+l,p=document.createRange();p.setStart(n,o),p.setEnd(i,r);var d=p.collapsed;return{start:d?h:c,end:d?c:h}},setOffsets:a?function(t,e){var n,o,i=document.selection.createRange().duplicate();"undefined"===typeof e.end?o=n=e.start:e.start>e.end?(n=e.end,o=e.start):(n=e.start,o=e.end),i.moveToElementText(t),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",o-n),i.select()}:function(t,e){if(window.getSelection){var n=window.getSelection(),o=t[r()].length,s=Math.min(e.start,o),a="undefined"===typeof e.end?s:Math.min(e.end,o);if(!n.extend&&s>a){var l=a;a=s,s=l}var u=i(t,s),c=i(t,a);if(u&&c){var h=document.createRange();h.setStart(u.node,u.offset),n.removeAllRanges(),s>a?(n.addRange(h),n.extend(c.node,c.offset)):(h.setEnd(c.node,c.offset),n.addRange(h))}}}};t.exports=l},function(t,e,n){"use strict";function o(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}t.exports=function(t,e){for(var n=o(t),r=0,s=0;n;){if(3===n.nodeType){if(s=r+n.textContent.length,r<=e&&s>=e)return{node:n,offset:e-r};r=s}n=o(i(n))}}},function(t,e,n){"use strict";var o=n(16),i=n(27),r=n(4),s=n(92),a=n(20),l=n(93),u=n(80),c=n(18),h=n(87),p=o.topLevelTypes,d=r.canUseDOM&&"documentMode"in document&&document.documentMode<=11,f={select:{phasedRegistrationNames:{bubbled:c({onSelect:null}),captured:c({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},_=null,g=null,m=null,v=!1,E=!1,T=c({onSelect:null});function y(t,e){if(v||null==_||_!==l())return null;var n=function(t){if("selectionStart"in t&&s.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}(_);if(!m||!h(m,n)){m=n;var o=a.getPooled(f.select,g,t,e);return o.type="select",o.target=_,i.accumulateTwoPhaseDispatches(o),o}return null}var b={eventTypes:f,extractEvents:function(t,e,n,o,i){if(!E)return null;switch(t){case p.topFocus:(u(e)||"true"===e.contentEditable)&&(_=e,g=n,m=null);break;case p.topBlur:_=null,g=null,m=null;break;case p.topMouseDown:v=!0;break;case p.topContextMenu:case p.topMouseUp:return v=!1,y(o,i);case p.topSelectionChange:if(d)break;case p.topKeyDown:case p.topKeyUp:return y(o,i)}return null},didPutListener:function(t,e,n){e===T&&(E=!0)}};t.exports=b},function(t,e,n){"use strict";var o=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*o)}};t.exports=i},function(t,e,n){"use strict";var o=n(16),i=n(88),r=n(27),s=n(5),a=n(161),l=n(20),u=n(162),c=n(163),h=n(38),p=n(165),d=n(166),f=n(28),_=n(167),g=n(14),m=n(60),v=n(1),E=n(18),T=o.topLevelTypes,y={abort:{phasedRegistrationNames:{bubbled:E({onAbort:!0}),captured:E({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:E({onBlur:!0}),captured:E({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:E({onCanPlay:!0}),captured:E({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:E({onCanPlayThrough:!0}),captured:E({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:E({onClick:!0}),captured:E({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:E({onContextMenu:!0}),captured:E({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:E({onCopy:!0}),captured:E({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:E({onCut:!0}),captured:E({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:E({onDoubleClick:!0}),captured:E({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:E({onDrag:!0}),captured:E({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:E({onDragEnd:!0}),captured:E({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:E({onDragEnter:!0}),captured:E({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:E({onDragExit:!0}),captured:E({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:E({onDragLeave:!0}),captured:E({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:E({onDragOver:!0}),captured:E({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:E({onDragStart:!0}),captured:E({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:E({onDrop:!0}),captured:E({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:E({onDurationChange:!0}),captured:E({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:E({onEmptied:!0}),captured:E({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:E({onEncrypted:!0}),captured:E({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:E({onEnded:!0}),captured:E({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:E({onError:!0}),captured:E({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:E({onFocus:!0}),captured:E({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:E({onInput:!0}),captured:E({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:E({onKeyDown:!0}),captured:E({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:E({onKeyPress:!0}),captured:E({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:E({onKeyUp:!0}),captured:E({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:E({onLoad:!0}),captured:E({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:E({onLoadedData:!0}),captured:E({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:E({onLoadedMetadata:!0}),captured:E({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:E({onLoadStart:!0}),captured:E({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:E({onMouseDown:!0}),captured:E({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:E({onMouseMove:!0}),captured:E({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:E({onMouseOut:!0}),captured:E({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:E({onMouseOver:!0}),captured:E({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:E({onMouseUp:!0}),captured:E({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:E({onPaste:!0}),captured:E({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:E({onPause:!0}),captured:E({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:E({onPlay:!0}),captured:E({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:E({onPlaying:!0}),captured:E({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:E({onProgress:!0}),captured:E({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:E({onRateChange:!0}),captured:E({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:E({onReset:!0}),captured:E({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:E({onScroll:!0}),captured:E({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:E({onSeeked:!0}),captured:E({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:E({onSeeking:!0}),captured:E({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:E({onStalled:!0}),captured:E({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:E({onSubmit:!0}),captured:E({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:E({onSuspend:!0}),captured:E({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:E({onTimeUpdate:!0}),captured:E({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:E({onTouchCancel:!0}),captured:E({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:E({onTouchEnd:!0}),captured:E({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:E({onTouchMove:!0}),captured:E({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:E({onTouchStart:!0}),captured:E({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:E({onVolumeChange:!0}),captured:E({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:E({onWaiting:!0}),captured:E({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:E({onWheel:!0}),captured:E({onWheelCapture:!0})}}},b={topAbort:y.abort,topBlur:y.blur,topCanPlay:y.canPlay,topCanPlayThrough:y.canPlayThrough,topClick:y.click,topContextMenu:y.contextMenu,topCopy:y.copy,topCut:y.cut,topDoubleClick:y.doubleClick,topDrag:y.drag,topDragEnd:y.dragEnd,topDragEnter:y.dragEnter,topDragExit:y.dragExit,topDragLeave:y.dragLeave,topDragOver:y.dragOver,topDragStart:y.dragStart,topDrop:y.drop,topDurationChange:y.durationChange,topEmptied:y.emptied,topEncrypted:y.encrypted,topEnded:y.ended,topError:y.error,topFocus:y.focus,topInput:y.input,topKeyDown:y.keyDown,topKeyPress:y.keyPress,topKeyUp:y.keyUp,topLoad:y.load,topLoadedData:y.loadedData,topLoadedMetadata:y.loadedMetadata,topLoadStart:y.loadStart,topMouseDown:y.mouseDown,topMouseMove:y.mouseMove,topMouseOut:y.mouseOut,topMouseOver:y.mouseOver,topMouseUp:y.mouseUp,topPaste:y.paste,topPause:y.pause,topPlay:y.play,topPlaying:y.playing,topProgress:y.progress,topRateChange:y.rateChange,topReset:y.reset,topScroll:y.scroll,topSeeked:y.seeked,topSeeking:y.seeking,topStalled:y.stalled,topSubmit:y.submit,topSuspend:y.suspend,topTimeUpdate:y.timeUpdate,topTouchCancel:y.touchCancel,topTouchEnd:y.touchEnd,topTouchMove:y.touchMove,topTouchStart:y.touchStart,topVolumeChange:y.volumeChange,topWaiting:y.waiting,topWheel:y.wheel};for(var S in b)b[S].dependencies=[S];var C=E({onClick:null}),k={},D={eventTypes:y,extractEvents:function(t,e,n,o,i){var s,g=b[t];if(!g)return null;switch(t){case T.topAbort:case T.topCanPlay:case T.topCanPlayThrough:case T.topDurationChange:case T.topEmptied:case T.topEncrypted:case T.topEnded:case T.topError:case T.topInput:case T.topLoad:case T.topLoadedData:case T.topLoadedMetadata:case T.topLoadStart:case T.topPause:case T.topPlay:case T.topPlaying:case T.topProgress:case T.topRateChange:case T.topReset:case T.topSeeked:case T.topSeeking:case T.topStalled:case T.topSubmit:case T.topSuspend:case T.topTimeUpdate:case T.topVolumeChange:case T.topWaiting:s=l;break;case T.topKeyPress:if(0===m(o))return null;case T.topKeyDown:case T.topKeyUp:s=c;break;case T.topBlur:case T.topFocus:s=u;break;case T.topClick:if(2===o.button)return null;case T.topContextMenu:case T.topDoubleClick:case T.topMouseDown:case T.topMouseMove:case T.topMouseOut:case T.topMouseOver:case T.topMouseUp:s=h;break;case T.topDrag:case T.topDragEnd:case T.topDragEnter:case T.topDragExit:case T.topDragLeave:case T.topDragOver:case T.topDragStart:case T.topDrop:s=p;break;case T.topTouchCancel:case T.topTouchEnd:case T.topTouchMove:case T.topTouchStart:s=d;break;case T.topScroll:s=f;break;case T.topWheel:s=_;break;case T.topCopy:case T.topCut:case T.topPaste:s=a}s||v(!1);var E=s.getPooled(g,n,o,i);return r.accumulateTwoPhaseDispatches(E),E},didPutListener:function(t,e,n){if(e===C){var o=s.getNode(t);k[t]||(k[t]=i.listen(o,"click",g))}},willDeleteListener:function(t,e){e===C&&(k[t].remove(),delete k[t])}};t.exports=D},function(t,e,n){"use strict";var o=n(20),i={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};function r(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";var o=n(28);function i(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(i,{relatedTarget:null}),t.exports=i},function(t,e,n){"use strict";var o=n(28),i=n(60),r={key:n(164),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:n(55),charCode:function(t){return"keypress"===t.type?i(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?i(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};function s(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(s,r),t.exports=s},function(t,e,n){"use strict";var o=n(60),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=function(t){if(t.key){var e=i[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=o(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?r[t.keyCode]||"Unidentified":""}},function(t,e,n){"use strict";var o=n(38);function i(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(i,{dataTransfer:null}),t.exports=i},function(t,e,n){"use strict";var o=n(28),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:n(55)};function r(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(r,i),t.exports=r},function(t,e,n){"use strict";var o=n(38);function i(t,e,n,i){o.call(this,t,e,n,i)}o.augmentClass(i,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),t.exports=i},function(t,e,n){"use strict";var o=n(22).injection.MUST_USE_ATTRIBUTE,i="http://www.w3.org/1999/xlink",r="http://www.w3.org/XML/1998/namespace",s={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,xlinkActuate:o,xlinkArcrole:o,xlinkHref:o,xlinkRole:o,xlinkShow:o,xlinkTitle:o,xlinkType:o,xmlBase:o,xmlLang:o,xmlSpace:o,y1:o,y2:o,y:o},DOMAttributeNamespaces:{xlinkActuate:i,xlinkArcrole:i,xlinkHref:i,xlinkRole:i,xlinkShow:i,xlinkTitle:i,xlinkType:i,xmlBase:r,xmlLang:r,xmlSpace:r},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=s},function(t,e,n){"use strict";var o=n(5);t.exports=o.renderSubtreeIntoContainer},function(t,e,n){"use strict";var o=n(78),i=n(171),r=n(61);o.inject();var s={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:r};t.exports=s},function(t,e,n){"use strict";var o=n(81),i=n(11),r=n(23),s=n(74),a=n(172),l=n(173),u=n(13),c=n(26),h=n(50),p=n(1);t.exports={renderToString:function(t){var e;i.isValidElement(t)||p(!1);try{u.injection.injectBatchingStrategy(a);var n=r.createReactRootID();return(e=l.getPooled(!1)).perform((function(){var o=h(t,null).mountComponent(n,e,c);return s.addChecksumToMarkup(o)}),null)}finally{l.release(e),u.injection.injectBatchingStrategy(o)}},renderToStaticMarkup:function(t){var e;i.isValidElement(t)||p(!1);try{u.injection.injectBatchingStrategy(a);var n=r.createReactRootID();return(e=l.getPooled(!0)).perform((function(){return h(t,null).mountComponent(n,e,c)}),null)}finally{l.release(e),u.injection.injectBatchingStrategy(o)}}}},function(t,e,n){"use strict";t.exports={isBatchingUpdates:!1,batchedUpdates:function(t){}}},function(t,e,n){"use strict";var o=n(17),i=n(49),r=n(35),s=n(3),a=[{initialize:function(){this.reactMountReady.reset()},close:n(14)}];function l(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=i.getPooled(null),this.useCreateElement=!1}var u={getTransactionWrappers:function(){return a},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};s(l.prototype,r.Mixin,u),o.addPoolingTo(l),t.exports=l},function(t,e,n){"use strict";var o=n(85),i=n(90),r=n(89),s=n(175),a=n(11),l=(n(94),n(84)),u=n(61),c=n(3),h=n(177),p=a.createElement,d=a.createFactory,f=a.cloneElement;var _={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:h},Component:i,createElement:p,cloneElement:f,isValidElement:a.isValidElement,PropTypes:l,createClass:r.createClass,createFactory:d,createMixin:function(t){return t},DOM:s,version:u,__spread:c};t.exports=_},function(t,e,n){"use strict";var o=n(11);n(94);var i=n(176)({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},(function(t){return o.createFactory(t)}));t.exports=i},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!t)return null;var i={};for(var r in t)o.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}},function(t,e,n){"use strict";var o=n(11),i=n(1);t.exports=function(t){return o.isValidElement(t)||i(!1),t}},function(t,e,n){"use strict";n(3),n(2);t.exports=function(t,e,n,o,i){return i}},function(t,e){var n=/("(?:[^\\"]|\\.)*")|[:,\][}{]/g;function o(t,e,n){return e in t?t[e]:n}t.exports=function(t,e){e=e||{};var i=JSON.stringify([1],null,o(e,"indent",2)).slice(2,-3),r=o(e,"margins",!1),s=""===i?1/0:o(e,"maxLength",80);return function t(e,o,a){e&&"function"===typeof e.toJSON&&(e=e.toJSON());var l=JSON.stringify(e);if(void 0===l)return l;var u=s-o.length-a;if(l.length<=u){var c=function(t,e){var o=e?" ":"",i={"{":"{"+o,"[":"["+o,"}":o+"}","]":o+"]",",":", ",":":": "};return t.replace(n,(function(t,e){return e?t:i[t]}))}(l,r);if(c.length<=u)return c}if("object"===typeof e&&null!==e){var h,p=o+i,d=[],f=function(t,e){return e===t.length-1?0:1};if(Array.isArray(e)){for(var _=0;_<e.length;_++)d.push(t(e[_],p,f(e,_))||"null");h="[]"}else Object.keys(e).forEach((function(n,o,i){var r=JSON.stringify(n)+": ",s=t(e[n],p,r.length+f(i,o));void 0!==s&&d.push(r+s)})),h="{}";if(d.length>0)return[h[0],i+d.join(",\n"+p),h[1]].join("\n"+o)}return l}(t,"",0)}},function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return To})),n.d(e,"Collection",(function(){return C})),n.d(e,"Iterable",(function(){return bo})),n.d(e,"Seq",(function(){return q})),n.d(e,"Map",(function(){return Ne})),n.d(e,"OrderedMap",(function(){return vn})),n.d(e,"List",(function(){return on})),n.d(e,"Stack",(function(){return Cn})),n.d(e,"Set",(function(){return Ln})),n.d(e,"OrderedSet",(function(){return io})),n.d(e,"Record",(function(){return uo})),n.d(e,"Range",(function(){return Gn})),n.d(e,"Repeat",(function(){return mo})),n.d(e,"is",(function(){return pt})),n.d(e,"fromJS",(function(){return vo})),n.d(e,"hash",(function(){return gt})),n.d(e,"isImmutable",(function(){return x})),n.d(e,"isCollection",(function(){return v})),n.d(e,"isKeyed",(function(){return T})),n.d(e,"isIndexed",(function(){return b})),n.d(e,"isAssociative",(function(){return S})),n.d(e,"isOrdered",(function(){return M})),n.d(e,"isValueObject",(function(){return ht})),n.d(e,"get",(function(){return ie})),n.d(e,"getIn",(function(){return Wn})),n.d(e,"has",(function(){return oe})),n.d(e,"hasIn",(function(){return zn})),n.d(e,"merge",(function(){return Ee})),n.d(e,"mergeDeep",(function(){return ye})),n.d(e,"mergeWith",(function(){return Te})),n.d(e,"mergeDeepWith",(function(){return be})),n.d(e,"remove",(function(){return se})),n.d(e,"removeIn",(function(){return he})),n.d(e,"set",(function(){return ae})),n.d(e,"setIn",(function(){return ue})),n.d(e,"update",(function(){return de})),n.d(e,"updateIn",(function(){return le}));var o=5,i=1<<o,r=i-1,s={};function a(t){t&&(t.value=!0)}function l(){}function u(t){return void 0===t.size&&(t.size=t.__iterate(h)),t.size}function c(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?u(t)+e:e}function h(){return!0}function p(t,e,n){return(0===t&&!g(t)||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function d(t,e){return _(t,e,0)}function f(t,e){return _(t,e,e)}function _(t,e,n){return void 0===t?n:g(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function g(t){return t<0||0===t&&1/t===-1/0}var m="@@__IMMUTABLE_ITERABLE__@@";function v(t){return Boolean(t&&t[m])}var E="@@__IMMUTABLE_KEYED__@@";function T(t){return Boolean(t&&t[E])}var y="@@__IMMUTABLE_INDEXED__@@";function b(t){return Boolean(t&&t[y])}function S(t){return T(t)||b(t)}var C=function(t){return v(t)?t:q(t)},k=function(t){function e(t){return T(t)?t:Q(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(C),D=function(t){function e(t){return b(t)?t:Z(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(C),I=function(t){function e(t){return v(t)&&!S(t)?t:$(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(C);C.Keyed=k,C.Indexed=D,C.Set=I;var R="@@__IMMUTABLE_SEQ__@@";function A(t){return Boolean(t&&t[R])}var O="@@__IMMUTABLE_RECORD__@@";function w(t){return Boolean(t&&t[O])}function x(t){return v(t)||w(t)}var N="@@__IMMUTABLE_ORDERED__@@";function M(t){return Boolean(t&&t[N])}var L=0,B=1,P=2,F="function"===typeof Symbol&&Symbol.iterator,U="@@iterator",V=F||U,H=function(t){this.next=t};function G(t,e,n,o){var i=0===t?e:1===t?n:[e,n];return o?o.value=i:o={value:i,done:!1},o}function W(){return{value:void 0,done:!0}}function X(t){return!!K(t)}function z(t){return t&&"function"===typeof t.next}function J(t){var e=K(t);return e&&e.call(t)}function K(t){var e=t&&(F&&t[F]||t[U]);if("function"===typeof e)return e}H.prototype.toString=function(){return"[Iterator]"},H.KEYS=L,H.VALUES=B,H.ENTRIES=P,H.prototype.inspect=H.prototype.toSource=function(){return this.toString()},H.prototype[V]=function(){return this};var Y=Object.prototype.hasOwnProperty;function j(t){return!(!Array.isArray(t)&&"string"!==typeof t)||t&&"object"===typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var q=function(t){function e(t){return null===t||void 0===t?it():x(t)?t.toSeq():function(t){var e=at(t);if(e)return e;if("object"===typeof t)return new et(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var n=this._cache;if(n){for(var o=n.length,i=0;i!==o;){var r=n[e?o-++i:i++];if(!1===t(r[1],r[0],this))break}return i}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var n=this._cache;if(n){var o=n.length,i=0;return new H((function(){if(i===o)return{value:void 0,done:!0};var r=n[e?o-++i:i++];return G(t,r[0],r[1])}))}return this.__iteratorUncached(t,e)},e}(C),Q=function(t){function e(t){return null===t||void 0===t?it().toKeyedSeq():v(t)?T(t)?t.toSeq():t.fromEntrySeq():w(t)?t.toSeq():rt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(q),Z=function(t){function e(t){return null===t||void 0===t?it():v(t)?T(t)?t.entrySeq():t.toIndexedSeq():w(t)?t.toSeq().entrySeq():st(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(q),$=function(t){function e(t){return(v(t)&&!S(t)?t:Z(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(q);q.isSeq=A,q.Keyed=Q,q.Set=$,q.Indexed=Z,q.prototype[R]=!0;var tt=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[c(this,t)]:e},e.prototype.__iterate=function(t,e){for(var n=this._array,o=n.length,i=0;i!==o;){var r=e?o-++i:i++;if(!1===t(n[r],r,this))break}return i},e.prototype.__iterator=function(t,e){var n=this._array,o=n.length,i=0;return new H((function(){if(i===o)return{value:void 0,done:!0};var r=e?o-++i:i++;return G(t,r,n[r])}))},e}(Z),et=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return Y.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var n=this._object,o=this._keys,i=o.length,r=0;r!==i;){var s=o[e?i-++r:r++];if(!1===t(n[s],s,this))break}return r},e.prototype.__iterator=function(t,e){var n=this._object,o=this._keys,i=o.length,r=0;return new H((function(){if(r===i)return{value:void 0,done:!0};var s=o[e?i-++r:r++];return G(t,s,n[s])}))},e}(Q);et.prototype[N]=!0;var nt,ot=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=J(this._collection),o=0;if(z(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,o++,this););return o},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=J(this._collection);if(!z(n))return new H(W);var o=0;return new H((function(){var e=n.next();return e.done?e:G(t,o++,e.value)}))},e}(Z);function it(){return nt||(nt=new tt([]))}function rt(t){var e=Array.isArray(t)?new tt(t):X(t)?new ot(t):void 0;if(e)return e.fromEntrySeq();if("object"===typeof t)return new et(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function st(t){var e=at(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function at(t){return j(t)?new tt(t):X(t)?new ot(t):void 0}var lt="@@__IMMUTABLE_MAP__@@";function ut(t){return Boolean(t&&t[lt])}function ct(t){return ut(t)&&M(t)}function ht(t){return Boolean(t&&"function"===typeof t.equals&&"function"===typeof t.hashCode)}function pt(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(ht(t)&&ht(e)&&t.equals(e))}var dt="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),o=65535&(e|=0);return n*o+((t>>>16)*o+n*(e>>>16)<<16>>>0)|0};function ft(t){return t>>>1&1073741824|3221225471&t}var _t=Object.prototype.valueOf;function gt(t){switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return function(t){if(t!==t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return ft(e)}(t);case"string":return t.length>Ct?function(t){var e=It[t];void 0===e&&(e=mt(t),Dt===kt&&(Dt=0,It={}),Dt++,It[t]=e);return e}(t):mt(t);case"object":case"function":return null===t?1108378658:"function"===typeof t.hashCode?ft(t.hashCode(t)):(t.valueOf!==_t&&"function"===typeof t.valueOf&&(t=t.valueOf(t)),function(t){var e;if(yt&&void 0!==(e=Tt.get(t)))return e;if(void 0!==(e=t[St]))return e;if(!Et){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[St]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++bt,1073741824&bt&&(bt=0);if(yt)Tt.set(t,e);else{if(void 0!==vt&&!1===vt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Et)Object.defineProperty(t,St,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[St]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[St]=e}}return e}(t));case"undefined":return 1108378659;default:if("function"===typeof t.toString)return mt(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function mt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return ft(e)}var vt=Object.isExtensible,Et=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var Tt,yt="function"===typeof WeakMap;yt&&(Tt=new WeakMap);var bt=0,St="__immutablehash__";"function"===typeof Symbol&&(St=Symbol(St));var Ct=16,kt=255,Dt=0,It={},Rt=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=Mt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var n=this,o=Nt(this,t,e);return this._useKeys||(o.valueSeq=function(){return n._iter.toSeq().map(t,e)}),o},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e,o){return t(e,o,n)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(Q);Rt.prototype[N]=!0;var At=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this,o=0;return e&&u(this),this._iter.__iterate((function(i){return t(i,e?n.size-++o:o++,n)}),e)},e.prototype.__iterator=function(t,e){var n=this,o=this._iter.__iterator(B,e),i=0;return e&&u(this),new H((function(){var r=o.next();return r.done?r:G(t,e?n.size-++i:i++,r.value,r)}))},e}(Z),Ot=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(B,e);return new H((function(){var e=n.next();return e.done?e:G(t,e.value,e.value,e)}))},e}($),wt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){zt(e);var o=v(e);return t(o?e.get(1):e[1],o?e.get(0):e[0],n)}}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(B,e);return new H((function(){for(;;){var e=n.next();if(e.done)return e;var o=e.value;if(o){zt(o);var i=v(o);return G(t,i?o.get(0):o[0],i?o.get(1):o[1],e)}}}))},e}(Q);function xt(t){var e=Kt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Yt,e.__iterateUncached=function(e,n){var o=this;return t.__iterate((function(t,n){return!1!==e(n,t,o)}),n)},e.__iteratorUncached=function(e,n){if(e===P){var o=t.__iterator(e,n);return new H((function(){var t=o.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===B?L:B,n)},e}function Nt(t,e,n){var o=Kt(t);return o.size=t.size,o.has=function(e){return t.has(e)},o.get=function(o,i){var r=t.get(o,s);return r===s?i:e.call(n,r,o,t)},o.__iterateUncached=function(o,i){var r=this;return t.__iterate((function(t,i,s){return!1!==o(e.call(n,t,i,s),i,r)}),i)},o.__iteratorUncached=function(o,i){var r=t.__iterator(P,i);return new H((function(){var i=r.next();if(i.done)return i;var s=i.value,a=s[0];return G(o,a,e.call(n,s[1],a,t),i)}))},o}function Mt(t,e){var n=this,o=Kt(t);return o._iter=t,o.size=t.size,o.reverse=function(){return t},t.flip&&(o.flip=function(){var e=xt(t);return e.reverse=function(){return t.flip()},e}),o.get=function(n,o){return t.get(e?n:-1-n,o)},o.has=function(n){return t.has(e?n:-1-n)},o.includes=function(e){return t.includes(e)},o.cacheResult=Yt,o.__iterate=function(n,o){var i=this,r=0;return o&&u(t),t.__iterate((function(t,s){return n(t,e?s:o?i.size-++r:r++,i)}),!o)},o.__iterator=function(o,i){var r=0;i&&u(t);var s=t.__iterator(P,!i);return new H((function(){var t=s.next();if(t.done)return t;var a=t.value;return G(o,e?a[0]:i?n.size-++r:r++,a[1],t)}))},o}function Lt(t,e,n,o){var i=Kt(t);return o&&(i.has=function(o){var i=t.get(o,s);return i!==s&&!!e.call(n,i,o,t)},i.get=function(o,i){var r=t.get(o,s);return r!==s&&e.call(n,r,o,t)?r:i}),i.__iterateUncached=function(i,r){var s=this,a=0;return t.__iterate((function(t,r,l){if(e.call(n,t,r,l))return a++,i(t,o?r:a-1,s)}),r),a},i.__iteratorUncached=function(i,r){var s=t.__iterator(P,r),a=0;return new H((function(){for(;;){var r=s.next();if(r.done)return r;var l=r.value,u=l[0],c=l[1];if(e.call(n,c,u,t))return G(i,o?u:a++,c,r)}}))},i}function Bt(t,e,n,o){var i=t.size;if(p(e,n,i))return t;var r=d(e,i),s=f(n,i);if(r!==r||s!==s)return Bt(t.toSeq().cacheResult(),e,n,o);var a,l=s-r;l===l&&(a=l<0?0:l);var u=Kt(t);return u.size=0===a?a:t.size&&a||void 0,!o&&A(t)&&a>=0&&(u.get=function(e,n){return(e=c(this,e))>=0&&e<a?t.get(e+r,n):n}),u.__iterateUncached=function(e,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,l=!0,u=0;return t.__iterate((function(t,n){if(!l||!(l=s++<r))return u++,!1!==e(t,o?n:u-1,i)&&u!==a})),u},u.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);if(0===a)return new H(W);var i=t.__iterator(e,n),s=0,l=0;return new H((function(){for(;s++<r;)i.next();if(++l>a)return{value:void 0,done:!0};var t=i.next();return o||e===B||t.done?t:G(e,l-1,e===L?void 0:t.value[1],t)}))},u}function Pt(t,e,n,o){var i=Kt(t);return i.__iterateUncached=function(i,r){var s=this;if(r)return this.cacheResult().__iterate(i,r);var a=!0,l=0;return t.__iterate((function(t,r,u){if(!a||!(a=e.call(n,t,r,u)))return l++,i(t,o?r:l-1,s)})),l},i.__iteratorUncached=function(i,r){var s=this;if(r)return this.cacheResult().__iterator(i,r);var a=t.__iterator(P,r),l=!0,u=0;return new H((function(){var t,r,c;do{if((t=a.next()).done)return o||i===B?t:G(i,u++,i===L?void 0:t.value[1],t);var h=t.value;r=h[0],c=h[1],l&&(l=e.call(n,c,r,s))}while(l);return i===P?t:G(i,r,c,t)}))},i}function Ft(t,e){var n=T(t),o=[t].concat(e).map((function(t){return v(t)?n&&(t=k(t)):t=n?rt(t):st(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||n&&T(i)||b(t)&&b(i))return i}var r=new tt(o);return n?r=r.toKeyedSeq():b(t)||(r=r.toSetSeq()),(r=r.flatten(!0)).size=o.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),r}function Ut(t,e,n){var o=Kt(t);return o.__iterateUncached=function(i,r){if(r)return this.cacheResult().__iterate(i,r);var s=0,a=!1;return function t(l,u){l.__iterate((function(r,l){return(!e||u<e)&&v(r)?t(r,u+1):(s++,!1===i(r,n?l:s-1,o)&&(a=!0)),!a}),r)}(t,0),s},o.__iteratorUncached=function(o,i){if(i)return this.cacheResult().__iterator(o,i);var r=t.__iterator(o,i),s=[],a=0;return new H((function(){for(;r;){var t=r.next();if(!1===t.done){var l=t.value;if(o===P&&(l=l[1]),e&&!(s.length<e)||!v(l))return n?t:G(o,a++,l,t);s.push(r),r=l.__iterator(o,i)}else r=s.pop()}return{value:void 0,done:!0}}))},o}function Vt(t,e,n){e||(e=jt);var o=T(t),i=0,r=t.toSeq().map((function(e,o){return[o,e,i++,n?n(e,o,t):e]})).valueSeq().toArray();return r.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(o?function(t,e){r[e].length=2}:function(t,e){r[e]=t[1]}),o?Q(r):b(t)?Z(r):$(r)}function Ht(t,e,n){if(e||(e=jt),n){var o=t.toSeq().map((function(e,o){return[e,n(e,o,t)]})).reduce((function(t,n){return Gt(e,t[1],n[1])?n:t}));return o&&o[0]}return t.reduce((function(t,n){return Gt(e,t,n)?n:t}))}function Gt(t,e,n){var o=t(n,e);return 0===o&&n!==e&&(void 0===n||null===n||n!==n)||o>0}function Wt(t,e,n,o){var i=Kt(t),r=new tt(n).map((function(t){return t.size}));return i.size=o?r.max():r.min(),i.__iterate=function(t,e){for(var n,o=this.__iterator(B,e),i=0;!(n=o.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var r=n.map((function(t){return t=C(t),J(i?t.reverse():t)})),s=0,a=!1;return new H((function(){var n;return a||(n=r.map((function(t){return t.next()})),a=o?n.every((function(t){return t.done})):n.some((function(t){return t.done}))),a?{value:void 0,done:!0}:G(t,s++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function Xt(t,e){return t===e?t:A(t)?e:t.constructor(e)}function zt(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Jt(t){return T(t)?k:b(t)?D:I}function Kt(t){return Object.create((T(t)?Q:b(t)?Z:$).prototype)}function Yt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function jt(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function qt(t,e){e=e||0;for(var n=Math.max(0,t.length-e),o=new Array(n),i=0;i<n;i++)o[i]=t[i+e];return o}function Qt(t,e){if(!t)throw new Error(e)}function Zt(t){Qt(t!==1/0,"Cannot perform this action with an infinite size.")}function $t(t){if(j(t)&&"string"!==typeof t)return t;if(M(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function te(t){return t&&("function"!==typeof t.constructor||"Object"===t.constructor.name)}function ee(t){return"object"===typeof t&&(x(t)||Array.isArray(t)||te(t))}function ne(t){try{return"string"===typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function oe(t,e){return x(t)?t.has(e):ee(t)&&Y.call(t,e)}function ie(t,e,n){return x(t)?t.get(e,n):oe(t,e)?"function"===typeof t.get?t.get(e):t[e]:n}function re(t){if(Array.isArray(t))return qt(t);var e={};for(var n in t)Y.call(t,n)&&(e[n]=t[n]);return e}function se(t,e){if(!ee(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(x(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Y.call(t,e))return t;var n=re(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function ae(t,e,n){if(!ee(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(x(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(Y.call(t,e)&&n===t[e])return t;var o=re(t);return o[e]=n,o}function le(t,e,n,o){o||(o=n,n=void 0);var i=function t(e,n,o,i,r,a){var l=n===s;if(i===o.length){var u=l?r:n,c=a(u);return c===u?n:c}if(!l&&!ee(n))throw new TypeError("Cannot update within non-data-structure value in path ["+o.slice(0,i).map(ne)+"]: "+n);var h=o[i],p=l?s:ie(n,h,s),d=t(p===s?e:x(p),p,o,i+1,r,a);return d===p?n:d===s?se(n,h):ae(l?e?ze():{}:n,h,d)}(x(t),t,$t(e),0,n,o);return i===s?n:i}function ue(t,e,n){return le(t,e,s,(function(){return n}))}function ce(t,e){return ue(this,t,e)}function he(t,e){return le(t,e,(function(){return s}))}function pe(t){return he(this,t)}function de(t,e,n,o){return le(t,[e],n,o)}function fe(t,e,n){return 1===arguments.length?t(this):de(this,t,e,n)}function _e(t,e,n){return le(this,t,e,n)}function ge(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ve(this,t)}function me(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if("function"!==typeof t)throw new TypeError("Invalid merger function: "+t);return ve(this,e,t)}function ve(t,e,n){for(var o=[],i=0;i<e.length;i++){var r=k(e[i]);0!==r.size&&o.push(r)}return 0===o.length?t:0!==t.toSeq().size||t.__ownerID||1!==o.length?t.withMutations((function(t){for(var e=n?function(e,o){de(t,o,s,(function(t){return t===s?e:n(t,e,o)}))}:function(e,n){t.set(n,e)},i=0;i<o.length;i++)o[i].forEach(e)})):t.constructor(o[0])}function Ee(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Ce(t,e)}function Te(t,e){for(var n=[],o=arguments.length-2;o-- >0;)n[o]=arguments[o+2];return Ce(e,n,t)}function ye(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Se(t,e)}function be(t,e){for(var n=[],o=arguments.length-2;o-- >0;)n[o]=arguments[o+2];return Se(e,n,t)}function Se(t,e,n){return Ce(t,e,function(t){return function e(n,o,i){return ee(n)&&ee(o)?Ce(n,[o],e):t?t(n,o,i):o}}(n))}function Ce(t,e,n){if(!ee(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(x(t))return"function"===typeof n&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var o=Array.isArray(t),i=t,r=o?D:k,s=o?function(e){i===t&&(i=re(i)),i.push(e)}:function(e,o){var r=Y.call(i,o),s=r&&n?n(i[o],e,o):e;r&&s===i[o]||(i===t&&(i=re(i)),i[o]=s)},a=0;a<e.length;a++)r(e[a]).forEach(s);return i}function ke(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Se(this,t)}function De(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Se(this,e,t)}function Ie(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return le(this,t,ze(),(function(t){return Ce(t,e)}))}function Re(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return le(this,t,ze(),(function(t){return Se(t,e)}))}function Ae(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Oe(){return this.__ownerID?this:this.__ensureOwner(new l)}function we(){return this.__ensureOwner()}function xe(){return this.__altered}At.prototype.cacheResult=Rt.prototype.cacheResult=Ot.prototype.cacheResult=wt.prototype.cacheResult=Yt;var Ne=function(t){function e(e){return null===e||void 0===e?ze():ut(e)&&!M(e)?e:ze().withMutations((function(n){var o=t(e);Zt(o.size),o.forEach((function(t,e){return n.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ze().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return Je(this,t,e)},e.prototype.remove=function(t){return Je(this,t,s)},e.prototype.deleteAll=function(t){var e=C(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ze()},e.prototype.sort=function(t){return vn(Vt(this,t))},e.prototype.sortBy=function(t,e){return vn(Vt(this,e,t))},e.prototype.map=function(t,e){return this.withMutations((function(n){n.forEach((function(o,i){n.set(i,t.call(e,o,i,n))}))}))},e.prototype.__iterator=function(t,e){return new He(this,t,e)},e.prototype.__iterate=function(t,e){var n=this,o=0;return this._root&&this._root.iterate((function(e){return o++,t(e[1],e[0],n)}),e),o},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Xe(this.size,this._root,t,this.__hash):0===this.size?ze():(this.__ownerID=t,this.__altered=!1,this)},e}(k);Ne.isMap=ut;var Me=Ne.prototype;Me[lt]=!0,Me.delete=Me.remove,Me.removeAll=Me.deleteAll,Me.setIn=ce,Me.removeIn=Me.deleteIn=pe,Me.update=fe,Me.updateIn=_e,Me.merge=Me.concat=ge,Me.mergeWith=me,Me.mergeDeep=ke,Me.mergeDeepWith=De,Me.mergeIn=Ie,Me.mergeDeepIn=Re,Me.withMutations=Ae,Me.wasAltered=xe,Me.asImmutable=we,Me["@@transducer/init"]=Me.asMutable=Oe,Me["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},Me["@@transducer/result"]=function(t){return t.asImmutable()};var Le=function(t,e){this.ownerID=t,this.entries=e};Le.prototype.get=function(t,e,n,o){for(var i=this.entries,r=0,s=i.length;r<s;r++)if(pt(n,i[r][0]))return i[r][1];return o},Le.prototype.update=function(t,e,n,o,i,r,u){for(var c=i===s,h=this.entries,p=0,d=h.length;p<d&&!pt(o,h[p][0]);p++);var f=p<d;if(f?h[p][1]===i:c)return this;if(a(u),(c||!f)&&a(r),!c||1!==h.length){if(!f&&!c&&h.length>=Ze)return function(t,e,n,o){t||(t=new l);for(var i=new Ue(t,gt(n),[n,o]),r=0;r<e.length;r++){var s=e[r];i=i.update(t,0,void 0,s[0],s[1])}return i}(t,h,o,i);var _=t&&t===this.ownerID,g=_?h:qt(h);return f?c?p===d-1?g.pop():g[p]=g.pop():g[p]=[o,i]:g.push([o,i]),_?(this.entries=g,this):new Le(t,g)}};var Be=function(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n};Be.prototype.get=function(t,e,n,i){void 0===e&&(e=gt(n));var s=1<<((0===t?e:e>>>t)&r),a=this.bitmap;return 0===(a&s)?i:this.nodes[qe(a&s-1)].get(t+o,e,n,i)},Be.prototype.update=function(t,e,n,a,l,u,c){void 0===n&&(n=gt(a));var h=(0===e?n:n>>>e)&r,p=1<<h,d=this.bitmap,f=0!==(d&p);if(!f&&l===s)return this;var _=qe(d&p-1),g=this.nodes,m=f?g[_]:void 0,v=Ke(m,t,e+o,n,a,l,u,c);if(v===m)return this;if(!f&&v&&g.length>=$e)return function(t,e,n,o,r){for(var s=0,a=new Array(i),l=0;0!==n;l++,n>>>=1)a[l]=1&n?e[s++]:void 0;return a[o]=r,new Pe(t,s+1,a)}(t,g,d,h,v);if(f&&!v&&2===g.length&&Ye(g[1^_]))return g[1^_];if(f&&v&&1===g.length&&Ye(v))return v;var E=t&&t===this.ownerID,T=f?v?d:d^p:d|p,y=f?v?Qe(g,_,v,E):function(t,e,n){var o=t.length-1;if(n&&e===o)return t.pop(),t;for(var i=new Array(o),r=0,s=0;s<o;s++)s===e&&(r=1),i[s]=t[s+r];return i}(g,_,E):function(t,e,n,o){var i=t.length+1;if(o&&e+1===i)return t[e]=n,t;for(var r=new Array(i),s=0,a=0;a<i;a++)a===e?(r[a]=n,s=-1):r[a]=t[a+s];return r}(g,_,v,E);return E?(this.bitmap=T,this.nodes=y,this):new Be(t,T,y)};var Pe=function(t,e,n){this.ownerID=t,this.count=e,this.nodes=n};Pe.prototype.get=function(t,e,n,i){void 0===e&&(e=gt(n));var s=(0===t?e:e>>>t)&r,a=this.nodes[s];return a?a.get(t+o,e,n,i):i},Pe.prototype.update=function(t,e,n,i,a,l,u){void 0===n&&(n=gt(i));var c=(0===e?n:n>>>e)&r,h=a===s,p=this.nodes,d=p[c];if(h&&!d)return this;var f=Ke(d,t,e+o,n,i,a,l,u);if(f===d)return this;var _=this.count;if(d){if(!f&&--_<tn)return function(t,e,n,o){for(var i=0,r=0,s=new Array(n),a=0,l=1,u=e.length;a<u;a++,l<<=1){var c=e[a];void 0!==c&&a!==o&&(i|=l,s[r++]=c)}return new Be(t,i,s)}(t,p,_,c)}else _++;var g=t&&t===this.ownerID,m=Qe(p,c,f,g);return g?(this.count=_,this.nodes=m,this):new Pe(t,_,m)};var Fe=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n};Fe.prototype.get=function(t,e,n,o){for(var i=this.entries,r=0,s=i.length;r<s;r++)if(pt(n,i[r][0]))return i[r][1];return o},Fe.prototype.update=function(t,e,n,o,i,r,l){void 0===n&&(n=gt(o));var u=i===s;if(n!==this.keyHash)return u?this:(a(l),a(r),je(this,t,e,n,[o,i]));for(var c=this.entries,h=0,p=c.length;h<p&&!pt(o,c[h][0]);h++);var d=h<p;if(d?c[h][1]===i:u)return this;if(a(l),(u||!d)&&a(r),u&&2===p)return new Ue(t,this.keyHash,c[1^h]);var f=t&&t===this.ownerID,_=f?c:qt(c);return d?u?h===p-1?_.pop():_[h]=_.pop():_[h]=[o,i]:_.push([o,i]),f?(this.entries=_,this):new Fe(t,this.keyHash,_)};var Ue=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n};Ue.prototype.get=function(t,e,n,o){return pt(n,this.entry[0])?this.entry[1]:o},Ue.prototype.update=function(t,e,n,o,i,r,l){var u=i===s,c=pt(o,this.entry[0]);return(c?i===this.entry[1]:u)?this:(a(l),u?void a(r):c?t&&t===this.ownerID?(this.entry[1]=i,this):new Ue(t,this.keyHash,[o,i]):(a(r),je(this,t,e,gt(o),[o,i])))},Le.prototype.iterate=Fe.prototype.iterate=function(t,e){for(var n=this.entries,o=0,i=n.length-1;o<=i;o++)if(!1===t(n[e?i-o:o]))return!1},Be.prototype.iterate=Pe.prototype.iterate=function(t,e){for(var n=this.nodes,o=0,i=n.length-1;o<=i;o++){var r=n[e?i-o:o];if(r&&!1===r.iterate(t,e))return!1}},Ue.prototype.iterate=function(t,e){return t(this.entry)};var Ve,He=function(t){function e(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&We(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n=e.node,o=e.index++,i=void 0;if(n.entry){if(0===o)return Ge(t,n.entry)}else if(n.entries){if(o<=(i=n.entries.length-1))return Ge(t,n.entries[this._reverse?i-o:o])}else if(o<=(i=n.nodes.length-1)){var r=n.nodes[this._reverse?i-o:o];if(r){if(r.entry)return Ge(t,r.entry);e=this._stack=We(r,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(H);function Ge(t,e){return G(t,e[0],e[1])}function We(t,e){return{node:t,index:0,__prev:e}}function Xe(t,e,n,o){var i=Object.create(Me);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=o,i.__altered=!1,i}function ze(){return Ve||(Ve=Xe(0))}function Je(t,e,n){var o,i;if(t._root){var r={value:!1},a={value:!1};if(o=Ke(t._root,t.__ownerID,0,void 0,e,n,r,a),!a.value)return t;i=t.size+(r.value?n===s?-1:1:0)}else{if(n===s)return t;i=1,o=new Le(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=o,t.__hash=void 0,t.__altered=!0,t):o?Xe(i,o):ze()}function Ke(t,e,n,o,i,r,l,u){return t?t.update(e,n,o,i,r,l,u):r===s?t:(a(u),a(l),new Ue(e,o,[i,r]))}function Ye(t){return t.constructor===Ue||t.constructor===Fe}function je(t,e,n,i,s){if(t.keyHash===i)return new Fe(e,i,[t.entry,s]);var a,l=(0===n?t.keyHash:t.keyHash>>>n)&r,u=(0===n?i:i>>>n)&r,c=l===u?[je(t,e,n+o,i,s)]:(a=new Ue(e,i,s),l<u?[t,a]:[a,t]);return new Be(e,1<<l|1<<u,c)}function qe(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Qe(t,e,n,o){var i=o?t:qt(t);return i[e]=n,i}var Ze=i/4,$e=i/2,tn=i/4,en="@@__IMMUTABLE_LIST__@@";function nn(t){return Boolean(t&&t[en])}var on=function(t){function e(e){var n=hn();if(null===e||void 0===e)return n;if(nn(e))return e;var r=t(e),s=r.size;return 0===s?n:(Zt(s),s>0&&s<i?cn(0,s,o,null,new sn(r.toArray())):n.withMutations((function(t){t.setSize(s),r.forEach((function(e,n){return t.set(n,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=c(this,t))>=0&&t<this.size){var n=fn(this,t+=this._origin);return n&&n.array[t&r]}return e},e.prototype.set=function(t,e){return function(t,e,n){if((e=c(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?_n(t,e).set(0,n):_n(t,0,e+1).set(e,n)}));e+=t._origin;var o=t._tail,i=t._root,r={value:!1};e>=gn(t._capacity)?o=pn(o,t.__ownerID,0,e,n,r):i=pn(i,t.__ownerID,t._level,e,n,r);if(!r.value)return t;if(t.__ownerID)return t._root=i,t._tail=o,t.__hash=void 0,t.__altered=!0,t;return cn(t._origin,t._capacity,t._level,i,o)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=o,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):hn()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){_n(n,0,e+t.length);for(var o=0;o<t.length;o++)n.set(e+o,t[o])}))},e.prototype.pop=function(){return _n(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){_n(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},e.prototype.shift=function(){return _n(this,1)},e.prototype.concat=function(){for(var e=arguments,n=[],o=0;o<arguments.length;o++){var i=e[o],r=t("string"!==typeof i&&X(i)?i:[i]);0!==r.size&&n.push(r)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(t){n.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(n[0])},e.prototype.setSize=function(t){return _n(this,0,t)},e.prototype.map=function(t,e){var n=this;return this.withMutations((function(o){for(var i=0;i<n.size;i++)o.set(i,t.call(e,o.get(i),i,o))}))},e.prototype.slice=function(t,e){var n=this.size;return p(t,e,n)?this:_n(this,d(t,n),f(e,n))},e.prototype.__iterator=function(t,e){var n=e?this.size:0,o=un(this,e);return new H((function(){var i=o();return i===ln?{value:void 0,done:!0}:G(t,e?--n:n++,i)}))},e.prototype.__iterate=function(t,e){for(var n,o=e?this.size:0,i=un(this,e);(n=i())!==ln&&!1!==t(n,e?--o:o++,this););return o},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?cn(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?hn():(this.__ownerID=t,this.__altered=!1,this)},e}(D);on.isList=nn;var rn=on.prototype;rn[en]=!0,rn.delete=rn.remove,rn.merge=rn.concat,rn.setIn=ce,rn.deleteIn=rn.removeIn=pe,rn.update=fe,rn.updateIn=_e,rn.mergeIn=Ie,rn.mergeDeepIn=Re,rn.withMutations=Ae,rn.wasAltered=xe,rn.asImmutable=we,rn["@@transducer/init"]=rn.asMutable=Oe,rn["@@transducer/step"]=function(t,e){return t.push(e)},rn["@@transducer/result"]=function(t){return t.asImmutable()};var sn=function(t,e){this.array=t,this.ownerID=e};sn.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var i=n>>>e&r;if(i>=this.array.length)return new sn([],t);var s,a=0===i;if(e>0){var l=this.array[i];if((s=l&&l.removeBefore(t,e-o,n))===l&&a)return this}if(a&&!s)return this;var u=dn(this,t);if(!a)for(var c=0;c<i;c++)u.array[c]=void 0;return s&&(u.array[i]=s),u},sn.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var i,s=n-1>>>e&r;if(s>=this.array.length)return this;if(e>0){var a=this.array[s];if((i=a&&a.removeAfter(t,e-o,n))===a&&s===this.array.length-1)return this}var l=dn(this,t);return l.array.splice(s+1),i&&(l.array[s]=i),l};var an,ln={};function un(t,e){var n=t._origin,r=t._capacity,s=gn(r),a=t._tail;return l(t._root,t._level,0);function l(t,u,c){return 0===u?function(t,o){var l=o===s?a&&a.array:t&&t.array,u=o>n?0:n-o,c=r-o;c>i&&(c=i);return function(){if(u===c)return ln;var t=e?--c:u++;return l&&l[t]}}(t,c):function(t,s,a){var u,c=t&&t.array,h=a>n?0:n-a>>s,p=1+(r-a>>s);p>i&&(p=i);return function(){for(;;){if(u){var t=u();if(t!==ln)return t;u=null}if(h===p)return ln;var n=e?--p:h++;u=l(c&&c[n],s-o,a+(n<<s))}}}(t,u,c)}}function cn(t,e,n,o,i,r,s){var a=Object.create(rn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=o,a._tail=i,a.__ownerID=r,a.__hash=s,a.__altered=!1,a}function hn(){return an||(an=cn(0,0,o))}function pn(t,e,n,i,s,l){var u,c=i>>>n&r,h=t&&c<t.array.length;if(!h&&void 0===s)return t;if(n>0){var p=t&&t.array[c],d=pn(p,e,n-o,i,s,l);return d===p?t:((u=dn(t,e)).array[c]=d,u)}return h&&t.array[c]===s?t:(l&&a(l),u=dn(t,e),void 0===s&&c===u.array.length-1?u.array.pop():u.array[c]=s,u)}function dn(t,e){return e&&t&&e===t.ownerID?t:new sn(t?t.array.slice():[],e)}function fn(t,e){if(e>=gn(t._capacity))return t._tail;if(e<1<<t._level+o){for(var n=t._root,i=t._level;n&&i>0;)n=n.array[e>>>i&r],i-=o;return n}}function _n(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var i=t.__ownerID||new l,s=t._origin,a=t._capacity,u=s+e,c=void 0===n?a:n<0?a+n:s+n;if(u===s&&c===a)return t;if(u>=c)return t.clear();for(var h=t._level,p=t._root,d=0;u+d<0;)p=new sn(p&&p.array.length?[void 0,p]:[],i),d+=1<<(h+=o);d&&(u+=d,s+=d,c+=d,a+=d);for(var f=gn(a),_=gn(c);_>=1<<h+o;)p=new sn(p&&p.array.length?[p]:[],i),h+=o;var g=t._tail,m=_<f?fn(t,c-1):_>f?new sn([],i):g;if(g&&_>f&&u<a&&g.array.length){for(var v=p=dn(p,i),E=h;E>o;E-=o){var T=f>>>E&r;v=v.array[T]=dn(v.array[T],i)}v.array[f>>>o&r]=g}if(c<a&&(m=m&&m.removeAfter(i,0,c)),u>=_)u-=_,c-=_,h=o,p=null,m=m&&m.removeBefore(i,0,u);else if(u>s||_<f){for(d=0;p;){var y=u>>>h&r;if(y!==_>>>h&r)break;y&&(d+=(1<<h)*y),h-=o,p=p.array[y]}p&&u>s&&(p=p.removeBefore(i,h,u-d)),p&&_<f&&(p=p.removeAfter(i,h,_-d)),d&&(u-=d,c-=d)}return t.__ownerID?(t.size=c-u,t._origin=u,t._capacity=c,t._level=h,t._root=p,t._tail=m,t.__hash=void 0,t.__altered=!0,t):cn(u,c,h,p,m)}function gn(t){return t<i?0:t-1>>>o<<o}var mn,vn=function(t){function e(t){return null===t||void 0===t?Tn():ct(t)?t:Tn().withMutations((function(e){var n=k(t);Zt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Tn()},e.prototype.set=function(t,e){return yn(this,t,e)},e.prototype.remove=function(t){return yn(this,t,s)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?En(e,n,t,this.__hash):0===this.size?Tn():(this.__ownerID=t,this._map=e,this._list=n,this)},e}(Ne);function En(t,e,n,o){var i=Object.create(vn.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=o,i}function Tn(){return mn||(mn=En(ze(),hn()))}function yn(t,e,n){var o,r,a=t._map,l=t._list,u=a.get(e),c=void 0!==u;if(n===s){if(!c)return t;l.size>=i&&l.size>=2*a.size?(o=(r=l.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(o.__ownerID=r.__ownerID=t.__ownerID)):(o=a.remove(e),r=u===l.size-1?l.pop():l.set(u,void 0))}else if(c){if(n===l.get(u)[1])return t;o=a,r=l.set(u,[e,n])}else o=a.set(e,l.size),r=l.set(l.size,[e,n]);return t.__ownerID?(t.size=o.size,t._map=o,t._list=r,t.__hash=void 0,t):En(o,r)}vn.isOrderedMap=ct,vn.prototype[N]=!0,vn.prototype.delete=vn.prototype.remove;var bn="@@__IMMUTABLE_STACK__@@";function Sn(t){return Boolean(t&&t[bn])}var Cn=function(t){function e(t){return null===t||void 0===t?Rn():Sn(t)?t:Rn().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var n=this._head;for(t=c(this,t);n&&t--;)n=n.next;return n?n.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,n=this._head,o=arguments.length-1;o>=0;o--)n={value:t[o],next:n};return this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):In(e,n)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&Sn(e))return e;Zt(e.size);var n=this.size,o=this._head;return e.__iterate((function(t){n++,o={value:t,next:o}}),!0),this.__ownerID?(this.size=n,this._head=o,this.__hash=void 0,this.__altered=!0,this):In(n,o)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Rn()},e.prototype.slice=function(e,n){if(p(e,n,this.size))return this;var o=d(e,this.size);if(f(n,this.size)!==this.size)return t.prototype.slice.call(this,e,n);for(var i=this.size-o,r=this._head;o--;)r=r.next;return this.__ownerID?(this.size=i,this._head=r,this.__hash=void 0,this.__altered=!0,this):In(i,r)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?In(this.size,this._head,t,this.__hash):0===this.size?Rn():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var n=this;if(e)return new tt(this.toArray()).__iterate((function(e,o){return t(e,o,n)}),e);for(var o=0,i=this._head;i&&!1!==t(i.value,o++,this);)i=i.next;return o},e.prototype.__iterator=function(t,e){if(e)return new tt(this.toArray()).__iterator(t,e);var n=0,o=this._head;return new H((function(){if(o){var e=o.value;return o=o.next,G(t,n++,e)}return{value:void 0,done:!0}}))},e}(D);Cn.isStack=Sn;var kn,Dn=Cn.prototype;function In(t,e,n,o){var i=Object.create(Dn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=o,i.__altered=!1,i}function Rn(){return kn||(kn=In(0))}Dn[bn]=!0,Dn.shift=Dn.pop,Dn.unshift=Dn.push,Dn.unshiftAll=Dn.pushAll,Dn.withMutations=Ae,Dn.wasAltered=xe,Dn.asImmutable=we,Dn["@@transducer/init"]=Dn.asMutable=Oe,Dn["@@transducer/step"]=function(t,e){return t.unshift(e)},Dn["@@transducer/result"]=function(t){return t.asImmutable()};var An="@@__IMMUTABLE_SET__@@";function On(t){return Boolean(t&&t[An])}function wn(t){return On(t)&&M(t)}function xn(t,e){if(t===e)return!0;if(!v(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||T(t)!==T(e)||b(t)!==b(e)||M(t)!==M(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!S(t);if(M(t)){var o=t.entries();return e.every((function(t,e){var i=o.next().value;return i&&pt(i[1],t)&&(n||pt(i[0],e))}))&&o.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{i=!0;var r=t;t=e,e=r}var a=!0,l=e.__iterate((function(e,o){if(n?!t.has(e):i?!pt(e,t.get(o,s)):!pt(t.get(o,s),e))return a=!1,!1}));return a&&t.size===l}function Nn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Mn(t){if(!t||"object"!==typeof t)return t;if(!v(t)){if(!ee(t))return t;t=q(t)}if(T(t)){var e={};return t.__iterate((function(t,n){e[n]=Mn(t)})),e}var n=[];return t.__iterate((function(t){n.push(Mn(t))})),n}var Ln=function(t){function e(e){return null===e||void 0===e?Vn():On(e)&&!M(e)?e:Vn().withMutations((function(n){var o=t(e);Zt(o.size),o.forEach((function(t){return n.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(k(t).keySeq())},e.intersect=function(t){return(t=C(t).toArray()).length?Pn.intersect.apply(e(t.pop()),t):Vn()},e.union=function(t){return(t=C(t).toArray()).length?Pn.union.apply(e(t.pop()),t):Vn()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Fn(this,this._map.set(t,t))},e.prototype.remove=function(t){return Fn(this,this._map.remove(t))},e.prototype.clear=function(){return Fn(this,this._map.clear())},e.prototype.map=function(t,e){var n=this,o=[],i=[];return this.forEach((function(r){var s=t.call(e,r,r,n);s!==r&&(o.push(r),i.push(s))})),this.withMutations((function(t){o.forEach((function(e){return t.remove(e)})),i.forEach((function(e){return t.add(e)}))}))},e.prototype.union=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(n){for(var o=0;o<e.length;o++)t(e[o]).forEach((function(t){return n.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var o=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||o.push(t)})),this.withMutations((function(t){o.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var o=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&o.push(t)})),this.withMutations((function(t){o.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return io(Vt(this,t))},e.prototype.sortBy=function(t,e){return io(Vt(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(I);Ln.isSet=On;var Bn,Pn=Ln.prototype;function Fn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Un(t,e){var n=Object.create(Pn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Vn(){return Bn||(Bn=Un(ze()))}Pn[An]=!0,Pn.delete=Pn.remove,Pn.merge=Pn.concat=Pn.union,Pn.withMutations=Ae,Pn.asImmutable=we,Pn["@@transducer/init"]=Pn.asMutable=Oe,Pn["@@transducer/step"]=function(t,e){return t.add(e)},Pn["@@transducer/result"]=function(t){return t.asImmutable()},Pn.__empty=Vn,Pn.__make=Un;var Hn,Gn=function(t){function e(t,n,o){if(!(this instanceof e))return new e(t,n,o);if(Qt(0!==o,"Cannot step a Range by 0"),t=t||0,void 0===n&&(n=1/0),o=void 0===o?1:Math.abs(o),n<t&&(o=-o),this._start=t,this._end=n,this._step=o,this.size=Math.max(0,Math.ceil((n-t)/o-1)+1),0===this.size){if(Hn)return Hn;Hn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+c(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,n){return p(t,n,this.size)?this:(t=d(t,this.size),(n=f(n,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(n,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var n=this.size,o=this._step,i=e?this._start+(n-1)*o:this._start,r=0;r!==n&&!1!==t(i,e?n-++r:r++,this);)i+=e?-o:o;return r},e.prototype.__iterator=function(t,e){var n=this.size,o=this._step,i=e?this._start+(n-1)*o:this._start,r=0;return new H((function(){if(r===n)return{value:void 0,done:!0};var s=i;return i+=e?-o:o,G(t,e?n-++r:r++,s)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:xn(this,t)},e}(Z);function Wn(t,e,n){for(var o=$t(e),i=0;i!==o.length;)if((t=ie(t,o[i++],s))===s)return n;return t}function Xn(t,e){return Wn(this,t,e)}function zn(t,e){return Wn(t,e,s)!==s}function Jn(){Zt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t}C.isIterable=v,C.isKeyed=T,C.isIndexed=b,C.isAssociative=S,C.isOrdered=M,C.Iterator=H,Nn(C,{toArray:function(){Zt(this.size);var t=new Array(this.size||0),e=T(this),n=0;return this.__iterate((function(o,i){t[n++]=e?[i,o]:o})),t},toIndexedSeq:function(){return new At(this)},toJS:function(){return Mn(this)},toKeyedSeq:function(){return new Rt(this,!0)},toMap:function(){return Ne(this.toKeyedSeq())},toObject:Jn,toOrderedMap:function(){return vn(this.toKeyedSeq())},toOrderedSet:function(){return io(T(this)?this.valueSeq():this)},toSet:function(){return Ln(T(this)?this.valueSeq():this)},toSetSeq:function(){return new Ot(this)},toSeq:function(){return b(this)?this.toIndexedSeq():T(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Cn(T(this)?this.valueSeq():this)},toList:function(){return on(T(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Xt(this,Ft(this,t))},includes:function(t){return this.some((function(e){return pt(e,t)}))},entries:function(){return this.__iterator(P)},every:function(t,e){Zt(this.size);var n=!0;return this.__iterate((function(o,i,r){if(!t.call(e,o,i,r))return n=!1,!1})),n},filter:function(t,e){return Xt(this,Lt(this,t,e,!0))},find:function(t,e,n){var o=this.findEntry(t,e);return o?o[1]:n},forEach:function(t,e){return Zt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Zt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(o){n?n=!1:e+=t,e+=null!==o&&void 0!==o?o.toString():""})),e},keys:function(){return this.__iterator(L)},map:function(t,e){return Xt(this,Nt(this,t,e))},reduce:function(t,e,n){return qn(this,t,e,n,arguments.length<2,!1)},reduceRight:function(t,e,n){return qn(this,t,e,n,arguments.length<2,!0)},reverse:function(){return Xt(this,Mt(this,!0))},slice:function(t,e){return Xt(this,Bt(this,t,e,!0))},some:function(t,e){return!this.every($n(t),e)},sort:function(t){return Xt(this,Vt(this,t))},values:function(){return this.__iterator(B)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return u(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var o=Ne().asMutable();return t.__iterate((function(i,r){o.update(e.call(n,i,r,t),0,(function(t){return t+1}))})),o.asImmutable()}(this,t,e)},equals:function(t){return xn(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map(Zn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter($n(t),e)},findEntry:function(t,e,n){var o=n;return this.__iterate((function(n,i,r){if(t.call(e,n,i,r))return o=[i,n],!1})),o},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(h,null,t)},flatMap:function(t,e){return Xt(this,function(t,e,n){var o=Jt(t);return t.toSeq().map((function(i,r){return o(e.call(n,i,r,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return Xt(this,Ut(this,t,!0))},fromEntrySeq:function(){return new wt(this)},get:function(t,e){return this.find((function(e,n){return pt(n,t)}),void 0,e)},getIn:Xn,groupBy:function(t,e){return function(t,e,n){var o=T(t),i=(M(t)?vn():Ne()).asMutable();t.__iterate((function(r,s){i.update(e.call(n,r,s,t),(function(t){return(t=t||[]).push(o?[s,r]:r),t}))}));var r=Jt(t);return i.map((function(e){return Xt(t,r(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,s)!==s},hasIn:function(t){return zn(this,t)},isSubset:function(t){return t="function"===typeof t.includes?t:C(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:C(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return pt(e,t)}))},keySeq:function(){return this.toSeq().map(Qn).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Ht(this,t)},maxBy:function(t,e){return Ht(this,e,t)},min:function(t){return Ht(this,t?to(t):no)},minBy:function(t,e){return Ht(this,e?to(e):no,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Xt(this,Pt(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($n(t),e)},sortBy:function(t,e){return Xt(this,Vt(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Xt(this,function(t,e,n){var o=Kt(t);return o.__iterateUncached=function(o,i){var r=this;if(i)return this.cacheResult().__iterate(o,i);var s=0;return t.__iterate((function(t,i,a){return e.call(n,t,i,a)&&++s&&o(t,i,r)})),s},o.__iteratorUncached=function(o,i){var r=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(P,i),a=!0;return new H((function(){if(!a)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var i=t.value,l=i[0],u=i[1];return e.call(n,u,l,r)?o===P?t:G(o,l,u,t):(a=!1,{value:void 0,done:!0})}))},o}(this,t,e))},takeUntil:function(t,e){return this.takeWhile($n(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=M(t),n=T(t),o=e?1:0;return function(t,e){return e=dt(e,3432918353),e=dt(e<<15|e>>>-15,461845907),e=dt(e<<13|e>>>-13,5),e=dt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=ft((e=dt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){o=31*o+oo(gt(t),gt(e))|0}:function(t,e){o=o+oo(gt(t),gt(e))|0}:e?function(t){o=31*o+gt(t)|0}:function(t){o=o+gt(t)|0}),o)}(this))}});var Kn=C.prototype;Kn[m]=!0,Kn[V]=Kn.values,Kn.toJSON=Kn.toArray,Kn.__toStringMapper=ne,Kn.inspect=Kn.toSource=function(){return this.toString()},Kn.chain=Kn.flatMap,Kn.contains=Kn.includes,Nn(k,{flip:function(){return Xt(this,xt(this))},mapEntries:function(t,e){var n=this,o=0;return Xt(this,this.toSeq().map((function(i,r){return t.call(e,[r,i],o++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Xt(this,this.toSeq().flip().map((function(o,i){return t.call(e,o,i,n)})).flip())}});var Yn=k.prototype;Yn[E]=!0,Yn[V]=Kn.entries,Yn.toJSON=Jn,Yn.__toStringMapper=function(t,e){return ne(e)+": "+ne(t)},Nn(D,{toKeyedSeq:function(){return new Rt(this,!1)},filter:function(t,e){return Xt(this,Lt(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Xt(this,Mt(this,!1))},slice:function(t,e){return Xt(this,Bt(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(e||0,0),0===n||2===n&&!e)return this;t=d(t,t<0?this.count():this.size);var o=this.slice(0,t);return Xt(this,1===n?o:o.concat(qt(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Xt(this,Ut(this,t,!1))},get:function(t,e){return(t=c(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=c(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Xt(this,function(t,e){var n=Kt(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,o){var i=this,r=0;return t.__iterate((function(t){return(!r||!1!==n(e,r++,i))&&!1!==n(t,r++,i)}),o),r},n.__iteratorUncached=function(n,o){var i,r=t.__iterator(B,o),s=0;return new H((function(){return(!i||s%2)&&(i=r.next()).done?i:s%2?G(n,s++,e):G(n,s++,i.value,i)}))},n}(this,t))},interleave:function(){var t=[this].concat(qt(arguments)),e=Wt(this.toSeq(),Z.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Xt(this,n)},keySeq:function(){return Gn(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return Xt(this,Pt(this,t,e,!1))},zip:function(){var t=[this].concat(qt(arguments));return Xt(this,Wt(this,eo,t))},zipAll:function(){var t=[this].concat(qt(arguments));return Xt(this,Wt(this,eo,t,!0))},zipWith:function(t){var e=qt(arguments);return e[0]=this,Xt(this,Wt(this,t,e))}});var jn=D.prototype;function qn(t,e,n,o,i,r){return Zt(t.size),t.__iterate((function(t,r,s){i?(i=!1,n=t):n=e.call(o,n,t,r,s)}),r),n}function Qn(t,e){return e}function Zn(t,e){return[e,t]}function $n(t){return function(){return!t.apply(this,arguments)}}function to(t){return function(){return-t.apply(this,arguments)}}function eo(){return qt(arguments)}function no(t,e){return t<e?1:t>e?-1:0}function oo(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}jn[y]=!0,jn[N]=!0,Nn(I,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),I.prototype.has=Kn.includes,I.prototype.contains=I.prototype.includes,Nn(Q,k.prototype),Nn(Z,D.prototype),Nn($,I.prototype);var io=function(t){function e(t){return null===t||void 0===t?lo():wn(t)?t:lo().withMutations((function(e){var n=I(t);Zt(n.size),n.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(k(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Ln);io.isOrderedSet=wn;var ro,so=io.prototype;function ao(t,e){var n=Object.create(so);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function lo(){return ro||(ro=ao(Tn()))}so[N]=!0,so.zip=jn.zip,so.zipWith=jn.zipWith,so.__empty=lo,so.__make=ao;var uo=function(t,e){var n,o=function(r){var s=this;if(r instanceof o)return r;if(!(this instanceof o))return new o(r);if(!n){n=!0;var a=Object.keys(t),l=i._indices={};i._name=e,i._keys=a,i._defaultValues=t;for(var u=0;u<a.length;u++){var c=a[u];l[c]=u,i[c]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+po(this)+' with property "'+c+'" since that property name is part of the Record API.'):_o(i,c)}}this.__ownerID=void 0,this._values=on().withMutations((function(t){t.setSize(s._keys.length),k(r).forEach((function(e,n){t.set(s._indices[n],e===s._defaultValues[n]?void 0:e)}))}))},i=o.prototype=Object.create(co);return i.constructor=o,e&&(o.displayName=e),o};uo.prototype.toString=function(){for(var t,e=po(this)+" { ",n=this._keys,o=0,i=n.length;o!==i;o++)e+=(o?", ":"")+(t=n[o])+": "+ne(this.get(t));return e+" }"},uo.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&fo(this).equals(fo(t))},uo.prototype.hashCode=function(){return fo(this).hashCode()},uo.prototype.has=function(t){return this._indices.hasOwnProperty(t)},uo.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._indices[t],o=this._values.get(n);return void 0===o?this._defaultValues[t]:o},uo.prototype.set=function(t,e){if(this.has(t)){var n=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(n!==this._values&&!this.__ownerID)return ho(this,n)}return this},uo.prototype.remove=function(t){return this.set(t)},uo.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:ho(this,t)},uo.prototype.wasAltered=function(){return this._values.wasAltered()},uo.prototype.toSeq=function(){return fo(this)},uo.prototype.toJS=function(){return Mn(this)},uo.prototype.entries=function(){return this.__iterator(P)},uo.prototype.__iterator=function(t,e){return fo(this).__iterator(t,e)},uo.prototype.__iterate=function(t,e){return fo(this).__iterate(t,e)},uo.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?ho(this,e,t):(this.__ownerID=t,this._values=e,this)},uo.isRecord=w,uo.getDescriptiveName=po;var co=uo.prototype;function ho(t,e,n){var o=Object.create(Object.getPrototypeOf(t));return o._values=e,o.__ownerID=n,o}function po(t){return t.constructor.displayName||t.constructor.name||"Record"}function fo(t){return rt(t._keys.map((function(e){return[e,t.get(e)]})))}function _o(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Qt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(n){}}co[O]=!0,co.delete=co.remove,co.deleteIn=co.removeIn=pe,co.getIn=Xn,co.hasIn=Kn.hasIn,co.merge=ge,co.mergeWith=me,co.mergeIn=Ie,co.mergeDeep=ke,co.mergeDeepWith=De,co.mergeDeepIn=Re,co.setIn=ce,co.update=fe,co.updateIn=_e,co.withMutations=Ae,co.asMutable=Oe,co.asImmutable=we,co[V]=co.entries,co.toJSON=co.toObject=Kn.toObject,co.inspect=co.toSource=function(){return this.toString()};var go,mo=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);if(this._value=t,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(go)return go;go=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(t,e){return this.has(t)?this._value:e},e.prototype.includes=function(t){return pt(this._value,t)},e.prototype.slice=function(t,n){var o=this.size;return p(t,n,o)?this:new e(this._value,f(n,o)-d(t,o))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(t){return pt(this._value,t)?0:-1},e.prototype.lastIndexOf=function(t){return pt(this._value,t)?this.size:-1},e.prototype.__iterate=function(t,e){for(var n=this.size,o=0;o!==n&&!1!==t(this._value,e?n-++o:o++,this););return o},e.prototype.__iterator=function(t,e){var n=this,o=this.size,i=0;return new H((function(){return i===o?{value:void 0,done:!0}:G(t,e?o-++i:i++,n._value)}))},e.prototype.equals=function(t){return t instanceof e?pt(this._value,t._value):xn(t)},e}(Z);function vo(t,e){return function t(e,n,o,i,r,s){var a=Array.isArray(o)?Z:te(o)?Q:null;if(a){if(~e.indexOf(o))throw new TypeError("Cannot convert circular structure to Immutable");e.push(o),r&&""!==i&&r.push(i);var l=n.call(s,i,a(o).map((function(i,s){return t(e,n,i,s,r,o)})),r&&r.slice());return e.pop(),r&&r.pop(),l}return o}([],e||Eo,t,"",e&&e.length>2?[]:void 0,{"":t})}function Eo(t,e){return T(e)?e.toMap():e.toList()}var To="4.0.0-rc.11",yo={version:To,Collection:C,Iterable:C,Seq:q,Map:Ne,OrderedMap:vn,List:on,Stack:Cn,Set:Ln,OrderedSet:io,Record:uo,Range:Gn,Repeat:mo,is:pt,fromJS:vo,hash:gt,isImmutable:x,isCollection:v,isKeyed:T,isIndexed:b,isAssociative:S,isOrdered:M,isValueObject:ht,isSeq:A,isList:nn,isMap:ut,isOrderedMap:ct,isStack:Sn,isSet:On,isOrderedSet:wn,isRecord:w,get:ie,getIn:Wn,has:oe,hasIn:zn,merge:Ee,mergeDeep:ye,mergeWith:Te,mergeDeepWith:be,remove:se,removeIn:he,set:ae,setIn:ue,update:de,updateIn:le},bo=C;e.default=yo},function(t,e,n){var o;o=function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var o=n(1),i=n(3),r=n(11),s=n(15);e.parse=function(t,e,n){var s,a=null,l=function(t,e){n&&n(t,e),a&&a.visit(t,e)},u="function"===typeof n?l:null,c=!1;if(e){c="boolean"===typeof e.comment&&e.comment;var h="boolean"===typeof e.attachComment&&e.attachComment;(c||h)&&((a=new o.CommentHandler).attach=h,e.comment=!0,u=l)}var p=(s=e&&"boolean"===typeof e.jsx&&e.jsx?new r.JSXParser(t,e,u):new i.Parser(t,e,u)).parseProgram();return c&&(p.comments=a.comments),s.config.tokens&&(p.tokens=s.tokens),s.config.tolerant&&(p.errors=s.errorHandler.errors),p},e.tokenize=function(t,e,n){var o,i=new s.Tokenizer(t,e);o=[];try{for(;;){var r=i.getNextToken();if(!r)break;n&&(r=n(r)),o.push(r)}}catch(a){i.errorHandler.tolerate(a)}return i.errorHandler.tolerant&&(o.errors=i.errors()),o};var a=n(2);e.Syntax=a.Syntax,e.version="3.1.3"},function(t,e,n){"use strict";var o=n(2),i=function(){function t(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return t.prototype.insertInnerComments=function(t,e){if(t.type===o.Syntax.BlockStatement&&0===t.body.length){for(var n=[],i=this.leading.length-1;i>=0;--i){var r=this.leading[i];e.end.offset>=r.start&&(n.unshift(r.comment),this.leading.splice(i,1),this.trailing.splice(i,1))}n.length&&(t.innerComments=n)}},t.prototype.findTrailingComments=function(t,e){var n=[];if(this.trailing.length>0){for(var o=this.trailing.length-1;o>=0;--o){var i=this.trailing[o];i.start>=e.end.offset&&n.unshift(i.comment)}return this.trailing.length=0,n}var r=this.stack[this.stack.length-1];if(r&&r.node.trailingComments){var s=r.node.trailingComments[0];s&&s.range[0]>=e.end.offset&&(n=r.node.trailingComments,delete r.node.trailingComments)}return n},t.prototype.findLeadingComments=function(t,e){for(var n,o=[];this.stack.length>0&&((s=this.stack[this.stack.length-1])&&s.start>=e.start.offset);)n=this.stack.pop().node;if(n){for(var i=(n.leadingComments?n.leadingComments.length:0)-1;i>=0;--i){var r=n.leadingComments[i];r.range[1]<=e.start.offset&&(o.unshift(r),n.leadingComments.splice(i,1))}return n.leadingComments&&0===n.leadingComments.length&&delete n.leadingComments,o}for(i=this.leading.length-1;i>=0;--i){var s;(s=this.leading[i]).start<=e.start.offset&&(o.unshift(s.comment),this.leading.splice(i,1))}return o},t.prototype.visitNode=function(t,e){if(!(t.type===o.Syntax.Program&&t.body.length>0)){this.insertInnerComments(t,e);var n=this.findTrailingComments(t,e),i=this.findLeadingComments(t,e);i.length>0&&(t.leadingComments=i),n.length>0&&(t.trailingComments=n),this.stack.push({node:t,start:e.start.offset})}},t.prototype.visitComment=function(t,e){var n="L"===t.type[0]?"Line":"Block",o={type:n,value:t.value};if(t.range&&(o.range=t.range),t.loc&&(o.loc=t.loc),this.comments.push(o),this.attach){var i={comment:{type:n,value:t.value,range:[e.start.offset,e.end.offset]},start:e.start.offset};t.loc&&(i.comment.loc=t.loc),t.type=n,this.leading.push(i),this.trailing.push(i)}},t.prototype.visit=function(t,e){"LineComment"===t.type?this.visitComment(t,e):"BlockComment"===t.type?this.visitComment(t,e):this.attach&&this.visitNode(t,e)},t}();e.CommentHandler=i},function(t,e){"use strict";e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,n){"use strict";var o=n(4),i=n(5),r=n(6),s=n(7),a=n(8),l=n(2),u=n(10),c=function(){function t(t,e,n){void 0===e&&(e={}),this.config={range:"boolean"===typeof e.range&&e.range,loc:"boolean"===typeof e.loc&&e.loc,source:null,tokens:"boolean"===typeof e.tokens&&e.tokens,comment:"boolean"===typeof e.comment&&e.comment,tolerant:"boolean"===typeof e.tolerant&&e.tolerant},this.config.loc&&e.source&&null!==e.source&&(this.config.source=String(e.source)),this.delegate=n,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(t,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.sourceType=e&&"module"===e.sourceType?"module":"script",this.lookahead=null,this.hasLineTerminator=!1,this.context={allowIn:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:"module"===this.sourceType},this.tokens=[],this.startMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.lastMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.nextToken(),this.lastMarker={index:this.scanner.index,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart}}return t.prototype.throwError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),r=t.replace(/%(\d)/g,(function(t,e){return o.assert(e<i.length,"Message reference must be in range"),i[e]})),s=this.lastMarker.index,a=this.lastMarker.lineNumber,l=this.lastMarker.index-this.lastMarker.lineStart+1;throw this.errorHandler.createError(s,a,l,r)},t.prototype.tolerateError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),r=t.replace(/%(\d)/g,(function(t,e){return o.assert(e<i.length,"Message reference must be in range"),i[e]})),s=this.lastMarker.index,a=this.scanner.lineNumber,l=this.lastMarker.index-this.lastMarker.lineStart+1;this.errorHandler.tolerateError(s,a,l,r)},t.prototype.unexpectedTokenError=function(t,e){var n,o=e||i.Messages.UnexpectedToken;if(t?(e||(o=t.type===s.Token.EOF?i.Messages.UnexpectedEOS:t.type===s.Token.Identifier?i.Messages.UnexpectedIdentifier:t.type===s.Token.NumericLiteral?i.Messages.UnexpectedNumber:t.type===s.Token.StringLiteral?i.Messages.UnexpectedString:t.type===s.Token.Template?i.Messages.UnexpectedTemplate:i.Messages.UnexpectedToken,t.type===s.Token.Keyword&&(this.scanner.isFutureReservedWord(t.value)?o=i.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(t.value)&&(o=i.Messages.StrictReservedWord))),n=t.type===s.Token.Template?t.value.raw:t.value):n="ILLEGAL",o=o.replace("%0",n),t&&"number"===typeof t.lineNumber){var r=t.start,a=t.lineNumber,l=t.start-this.lastMarker.lineStart+1;return this.errorHandler.createError(r,a,l,o)}return r=this.lastMarker.index,a=this.lastMarker.lineNumber,l=r-this.lastMarker.lineStart+1,this.errorHandler.createError(r,a,l,o)},t.prototype.throwUnexpectedToken=function(t,e){throw this.unexpectedTokenError(t,e)},t.prototype.tolerateUnexpectedToken=function(t,e){this.errorHandler.tolerate(this.unexpectedTokenError(t,e))},t.prototype.collectComments=function(){if(this.config.comment){var t=this.scanner.scanComments();if(t.length>0&&this.delegate)for(var e=0;e<t.length;++e){var n=t[e],o=void 0;o={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(o.range=n.range),this.config.loc&&(o.loc=n.loc);var i={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(o,i)}}else this.scanner.scanComments()},t.prototype.getTokenRaw=function(t){return this.scanner.source.slice(t.start,t.end)},t.prototype.convertToken=function(t){var e;return e={type:s.TokenName[t.type],value:this.getTokenRaw(t)},this.config.range&&(e.range=[t.start,t.end]),this.config.loc&&(e.loc={start:{line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),t.regex&&(e.regex=t.regex),e},t.prototype.nextToken=function(){var t,e=this.lookahead;return this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart,t=this.scanner.lex(),this.hasLineTerminator=!(!e||!t)&&e.lineNumber!==t.lineNumber,t&&this.context.strict&&t.type===s.Token.Identifier&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=s.Token.Keyword),this.lookahead=t,this.config.tokens&&t.type!==s.Token.EOF&&this.tokens.push(this.convertToken(t)),e},t.prototype.nextRegexToken=function(){this.collectComments();var t=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(t))),this.lookahead=t,this.nextToken(),t},t.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart}},t.prototype.startNode=function(t){return{index:t.start,line:t.lineNumber,column:t.start-t.lineStart}},t.prototype.finalize=function(t,e){if(this.config.range&&(e.range=[t.index,this.lastMarker.index]),this.config.loc&&(e.loc={start:{line:t.line,column:t.column},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart}},this.config.source&&(e.loc.source=this.config.source)),this.delegate){var n={start:{line:t.line,column:t.column,offset:t.index},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart,offset:this.lastMarker.index}};this.delegate(e,n)}return e},t.prototype.expect=function(t){var e=this.nextToken();e.type===s.Token.Punctuator&&e.value===t||this.throwUnexpectedToken(e)},t.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var t=this.lookahead;t.type===s.Token.Punctuator&&","===t.value?this.nextToken():t.type===s.Token.Punctuator&&";"===t.value?(this.nextToken(),this.tolerateUnexpectedToken(t)):this.tolerateUnexpectedToken(t,i.Messages.UnexpectedToken)}else this.expect(",")},t.prototype.expectKeyword=function(t){var e=this.nextToken();e.type===s.Token.Keyword&&e.value===t||this.throwUnexpectedToken(e)},t.prototype.match=function(t){return this.lookahead.type===s.Token.Punctuator&&this.lookahead.value===t},t.prototype.matchKeyword=function(t){return this.lookahead.type===s.Token.Keyword&&this.lookahead.value===t},t.prototype.matchContextualKeyword=function(t){return this.lookahead.type===s.Token.Identifier&&this.lookahead.value===t},t.prototype.matchAssign=function(){if(this.lookahead.type!==s.Token.Punctuator)return!1;var t=this.lookahead.value;return"="===t||"*="===t||"**="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t},t.prototype.isolateCoverGrammar=function(t){var e=this.context.isBindingElement,n=this.context.isAssignmentTarget,o=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=t.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=e,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=o,i},t.prototype.inheritCoverGrammar=function(t){var e=this.context.isBindingElement,n=this.context.isAssignmentTarget,o=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=t.call(this);return this.context.isBindingElement=this.context.isBindingElement&&e,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=o||this.context.firstCoverInitializedNameError,i},t.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===s.Token.EOF||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.lineNumber=this.startMarker.lineNumber,this.lastMarker.lineStart=this.startMarker.lineStart)},t.prototype.parsePrimaryExpression=function(){var t,e,n,o=this.createNode();switch(this.lookahead.type){case s.Token.Identifier:"module"===this.sourceType&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),t=this.finalize(o,new u.Identifier(this.nextToken().value));break;case s.Token.NumericLiteral:case s.Token.StringLiteral:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,i.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,e=this.nextToken(),n=this.getTokenRaw(e),t=this.finalize(o,new u.Literal(e.value,n));break;case s.Token.BooleanLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,(e=this.nextToken()).value="true"===e.value,n=this.getTokenRaw(e),t=this.finalize(o,new u.Literal(e.value,n));break;case s.Token.NullLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,(e=this.nextToken()).value=null,n=this.getTokenRaw(e),t=this.finalize(o,new u.Literal(e.value,n));break;case s.Token.Template:t=this.parseTemplateLiteral();break;case s.Token.Punctuator:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,t=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":t=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":t=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,e=this.nextRegexToken(),n=this.getTokenRaw(e),t=this.finalize(o,new u.RegexLiteral(e.value,n,e.regex));break;default:this.throwUnexpectedToken(this.nextToken())}break;case s.Token.Keyword:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?t=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?t=this.finalize(o,new u.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?t=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),t=this.finalize(o,new u.ThisExpression)):this.matchKeyword("class")?t=this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:this.throwUnexpectedToken(this.nextToken())}return t},t.prototype.parseSpreadElement=function(){var t=this.createNode();this.expect("...");var e=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(t,new u.SpreadElement(e))},t.prototype.parseArrayInitializer=function(){var t=this.createNode(),e=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),e.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),e.push(n)}else e.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(t,new u.ArrayExpression(e))},t.prototype.parsePropertyMethod=function(t){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var e=this.context.strict,n=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&t.firstRestricted&&this.tolerateUnexpectedToken(t.firstRestricted,t.message),this.context.strict&&t.stricted&&this.tolerateUnexpectedToken(t.stricted,t.message),this.context.strict=e,n},t.prototype.parsePropertyMethodFunction=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!1;var n=this.parseFormalParameters(),o=this.parsePropertyMethod(n);return this.context.allowYield=e,this.finalize(t,new u.FunctionExpression(null,n.params,o,!1))},t.prototype.parseObjectPropertyKey=function(){var t=this.createNode(),e=this.nextToken(),n=null;switch(e.type){case s.Token.StringLiteral:case s.Token.NumericLiteral:this.context.strict&&e.octal&&this.tolerateUnexpectedToken(e,i.Messages.StrictOctalLiteral);var o=this.getTokenRaw(e);n=this.finalize(t,new u.Literal(e.value,o));break;case s.Token.Identifier:case s.Token.BooleanLiteral:case s.Token.NullLiteral:case s.Token.Keyword:n=this.finalize(t,new u.Identifier(e.value));break;case s.Token.Punctuator:"["===e.value?(n=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):this.throwUnexpectedToken(e);break;default:this.throwUnexpectedToken(e)}return n},t.prototype.isPropertyKey=function(t,e){return t.type===l.Syntax.Identifier&&t.name===e||t.type===l.Syntax.Literal&&t.value===e},t.prototype.parseObjectProperty=function(t){var e,n,o,r=this.createNode(),a=this.lookahead,l=!1,c=!1,h=!1;a.type===s.Token.Identifier?(this.nextToken(),n=this.finalize(r,new u.Identifier(a.value))):this.match("*")?this.nextToken():(l=this.match("["),n=this.parseObjectPropertyKey());var p=this.qualifiedPropertyName(this.lookahead);if(a.type===s.Token.Identifier&&"get"===a.value&&p)e="get",l=this.match("["),n=this.parseObjectPropertyKey(),this.context.allowYield=!1,o=this.parseGetterMethod();else if(a.type===s.Token.Identifier&&"set"===a.value&&p)e="set",l=this.match("["),n=this.parseObjectPropertyKey(),o=this.parseSetterMethod();else if(a.type===s.Token.Punctuator&&"*"===a.value&&p)e="init",l=this.match("["),n=this.parseObjectPropertyKey(),o=this.parseGeneratorMethod(),c=!0;else if(n||this.throwUnexpectedToken(this.lookahead),e="init",this.match(":"))!l&&this.isPropertyKey(n,"__proto__")&&(t.value&&this.tolerateError(i.Messages.DuplicateProtoProperty),t.value=!0),this.nextToken(),o=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))o=this.parsePropertyMethodFunction(),c=!0;else if(a.type===s.Token.Identifier){var d=this.finalize(r,new u.Identifier(a.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),h=!0;var f=this.isolateCoverGrammar(this.parseAssignmentExpression);o=this.finalize(r,new u.AssignmentPattern(d,f))}else h=!0,o=d}else this.throwUnexpectedToken(this.nextToken());return this.finalize(r,new u.Property(e,n,l,o,c,h))},t.prototype.parseObjectInitializer=function(){var t=this.createNode();this.expect("{");for(var e=[],n={value:!1};!this.match("}");)e.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(t,new u.ObjectExpression(e))},t.prototype.parseTemplateHead=function(){o.assert(this.lookahead.head,"Template literal must start with a template head");var t=this.createNode(),e=this.nextToken(),n={raw:e.value.raw,cooked:e.value.cooked};return this.finalize(t,new u.TemplateElement(n,e.tail))},t.prototype.parseTemplateElement=function(){this.lookahead.type!==s.Token.Template&&this.throwUnexpectedToken();var t=this.createNode(),e=this.nextToken(),n={raw:e.value.raw,cooked:e.value.cooked};return this.finalize(t,new u.TemplateElement(n,e.tail))},t.prototype.parseTemplateLiteral=function(){var t=this.createNode(),e=[],n=[],o=this.parseTemplateHead();for(n.push(o);!o.tail;)e.push(this.parseExpression()),o=this.parseTemplateElement(),n.push(o);return this.finalize(t,new u.TemplateLiteral(n,e))},t.prototype.reinterpretExpressionAsPattern=function(t){switch(t.type){case l.Syntax.Identifier:case l.Syntax.MemberExpression:case l.Syntax.RestElement:case l.Syntax.AssignmentPattern:break;case l.Syntax.SpreadElement:t.type=l.Syntax.RestElement,this.reinterpretExpressionAsPattern(t.argument);break;case l.Syntax.ArrayExpression:t.type=l.Syntax.ArrayPattern;for(var e=0;e<t.elements.length;e++)null!==t.elements[e]&&this.reinterpretExpressionAsPattern(t.elements[e]);break;case l.Syntax.ObjectExpression:for(t.type=l.Syntax.ObjectPattern,e=0;e<t.properties.length;e++)this.reinterpretExpressionAsPattern(t.properties[e].value);break;case l.Syntax.AssignmentExpression:t.type=l.Syntax.AssignmentPattern,delete t.operator,this.reinterpretExpressionAsPattern(t.left)}},t.prototype.parseGroupExpression=function(){var t;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),t={type:"ArrowParameterPlaceHolder",params:[]};else{var e=this.lookahead,n=[];if(this.match("..."))t=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),t={type:"ArrowParameterPlaceHolder",params:[t]};else{var o=!1;if(this.context.isBindingElement=!0,t=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var i=[];for(this.context.isAssignmentTarget=!1,i.push(t);this.startMarker.index<this.scanner.length&&this.match(",");){if(this.nextToken(),this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var r=0;r<i.length;r++)this.reinterpretExpressionAsPattern(i[r]);o=!0,t={type:"ArrowParameterPlaceHolder",params:i}}else i.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(o)break}o||(t=this.finalize(this.startNode(e),new u.SequenceExpression(i)))}if(!o){if(this.expect(")"),this.match("=>")&&(t.type===l.Syntax.Identifier&&"yield"===t.name&&(o=!0,t={type:"ArrowParameterPlaceHolder",params:[t]}),!o)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),t.type===l.Syntax.SequenceExpression)for(r=0;r<t.expressions.length;r++)this.reinterpretExpressionAsPattern(t.expressions[r]);else this.reinterpretExpressionAsPattern(t);t={type:"ArrowParameterPlaceHolder",params:t.type===l.Syntax.SequenceExpression?t.expressions:[t]}}this.context.isBindingElement=!1}}}return t},t.prototype.parseArguments=function(){this.expect("(");var t=[];if(!this.match(")"))for(;;){var e=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(t.push(e),this.match(")"))break;this.expectCommaSeparator()}return this.expect(")"),t},t.prototype.isIdentifierName=function(t){return t.type===s.Token.Identifier||t.type===s.Token.Keyword||t.type===s.Token.BooleanLiteral||t.type===s.Token.NullLiteral},t.prototype.parseIdentifierName=function(){var t=this.createNode(),e=this.nextToken();return this.isIdentifierName(e)||this.throwUnexpectedToken(e),this.finalize(t,new u.Identifier(e.value))},t.prototype.parseNewExpression=function(){var t,e=this.createNode(),n=this.parseIdentifierName();if(o.assert("new"===n.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===s.Token.Identifier&&this.context.inFunctionBody&&"target"===this.lookahead.value){var i=this.parseIdentifierName();t=new u.MetaProperty(n,i)}else this.throwUnexpectedToken(this.lookahead);else{var r=this.isolateCoverGrammar(this.parseLeftHandSideExpression),a=this.match("(")?this.parseArguments():[];t=new u.NewExpression(r,a),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(e,t)},t.prototype.parseLeftHandSideExpressionAllowCall=function(){var t,e=this.lookahead,n=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(t=this.createNode(),this.nextToken(),t=this.finalize(t,new u.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):t=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var o=this.parseIdentifierName();t=this.finalize(this.startNode(e),new u.StaticMemberExpression(t,o))}else if(this.match("(")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var i=this.parseArguments();t=this.finalize(this.startNode(e),new u.CallExpression(t,i))}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),o=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),t=this.finalize(this.startNode(e),new u.ComputedMemberExpression(t,o));else{if(this.lookahead.type!==s.Token.Template||!this.lookahead.head)break;var r=this.parseTemplateLiteral();t=this.finalize(this.startNode(e),new u.TaggedTemplateExpression(t,r))}return this.context.allowIn=n,t},t.prototype.parseSuper=function(){var t=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(t,new u.Super)},t.prototype.parseLeftHandSideExpression=function(){o.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var t=this.startNode(this.lookahead),e=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),e=this.finalize(t,new u.ComputedMemberExpression(e,n))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),n=this.parseIdentifierName(),e=this.finalize(t,new u.StaticMemberExpression(e,n));else{if(this.lookahead.type!==s.Token.Template||!this.lookahead.head)break;var i=this.parseTemplateLiteral();e=this.finalize(t,new u.TaggedTemplateExpression(e,i))}return e},t.prototype.parseUpdateExpression=function(){var t,e=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(e),o=this.nextToken();t=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&t.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(t.name)&&this.tolerateError(i.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(i.Messages.InvalidLHSInAssignment);var r=!0;t=this.finalize(n,new u.UpdateExpression(o.value,t,r)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(t=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===s.Token.Punctuator&&(this.match("++")||this.match("--"))){this.context.strict&&t.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(t.name)&&this.tolerateError(i.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(i.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var a=this.nextToken().value;r=!1,t=this.finalize(this.startNode(e),new u.UpdateExpression(a,t,r))}return t},t.prototype.parseUnaryExpression=function(){var t;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var e=this.startNode(this.lookahead),n=this.nextToken();t=this.inheritCoverGrammar(this.parseUnaryExpression),t=this.finalize(e,new u.UnaryExpression(n.value,t)),this.context.strict&&"delete"===t.operator&&t.argument.type===l.Syntax.Identifier&&this.tolerateError(i.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else t=this.parseUpdateExpression();return t},t.prototype.parseExponentiationExpression=function(){var t=this.lookahead,e=this.inheritCoverGrammar(this.parseUnaryExpression);if(e.type!==l.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=e,o=this.isolateCoverGrammar(this.parseExponentiationExpression);e=this.finalize(this.startNode(t),new u.BinaryExpression("**",n,o))}return e},t.prototype.binaryPrecedence=function(t){var e=t.value;return t.type===s.Token.Punctuator?this.operatorPrecedence[e]||0:t.type===s.Token.Keyword&&("instanceof"===e||this.context.allowIn&&"in"===e)?7:0},t.prototype.parseBinaryExpression=function(){var t=this.lookahead,e=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,o=this.binaryPrecedence(n);if(o>0){this.nextToken(),n.prec=o,this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var i=[t,this.lookahead],r=e,s=this.isolateCoverGrammar(this.parseExponentiationExpression),a=[r,n,s];!((o=this.binaryPrecedence(this.lookahead))<=0);){for(;a.length>2&&o<=a[a.length-2].prec;){s=a.pop();var l=a.pop().value;r=a.pop(),i.pop();var c=this.startNode(i[i.length-1]);a.push(this.finalize(c,new u.BinaryExpression(l,r,s)))}(n=this.nextToken()).prec=o,a.push(n),i.push(this.lookahead),a.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var h=a.length-1;for(e=a[h],i.pop();h>1;)c=this.startNode(i.pop()),e=this.finalize(c,new u.BinaryExpression(a[h-1].value,a[h-2],e)),h-=2}return e},t.prototype.parseConditionalExpression=function(){var t=this.lookahead,e=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var i=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new u.ConditionalExpression(e,o,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return e},t.prototype.checkPatternParam=function(t,e){switch(e.type){case l.Syntax.Identifier:this.validateParam(t,e,e.name);break;case l.Syntax.RestElement:this.checkPatternParam(t,e.argument);break;case l.Syntax.AssignmentPattern:this.checkPatternParam(t,e.left);break;case l.Syntax.ArrayPattern:for(var n=0;n<e.elements.length;n++)null!==e.elements[n]&&this.checkPatternParam(t,e.elements[n]);break;case l.Syntax.YieldExpression:break;default:for(o.assert(e.type===l.Syntax.ObjectPattern,"Invalid type"),n=0;n<e.properties.length;n++)this.checkPatternParam(t,e.properties[n].value)}},t.prototype.reinterpretAsCoverFormalsList=function(t){var e,n=[t];switch(t.type){case l.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":n=t.params;break;default:return null}e={paramSet:{}};for(var o=0;o<n.length;++o)(r=n[o]).type===l.Syntax.AssignmentPattern&&r.right.type===l.Syntax.YieldExpression&&(r.right.argument&&this.throwUnexpectedToken(this.lookahead),r.right.type=l.Syntax.Identifier,r.right.name="yield",delete r.right.argument,delete r.right.delegate),this.checkPatternParam(e,r),n[o]=r;if(this.context.strict||!this.context.allowYield)for(o=0;o<n.length;++o){var r;(r=n[o]).type===l.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(e.message===i.Messages.StrictParamDupe){var s=this.context.strict?e.stricted:e.firstRestricted;this.throwUnexpectedToken(s,e.message)}return{params:n,stricted:e.stricted,firstRestricted:e.firstRestricted,message:e.message}},t.prototype.parseAssignmentExpression=function(){var t;if(!this.context.allowYield&&this.matchKeyword("yield"))t=this.parseYieldExpression();else{var e=this.lookahead,n=e;if("ArrowParameterPlaceHolder"===(t=this.parseConditionalExpression()).type||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var o=this.reinterpretAsCoverFormalsList(t);if(o){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var r=this.context.strict,s=this.context.allowYield;this.context.allowYield=!0;var a=this.startNode(e);this.expect("=>");var c=this.match("{")?this.parseFunctionSourceElements():this.isolateCoverGrammar(this.parseAssignmentExpression),h=c.type!==l.Syntax.BlockStatement;this.context.strict&&o.firstRestricted&&this.throwUnexpectedToken(o.firstRestricted,o.message),this.context.strict&&o.stricted&&this.tolerateUnexpectedToken(o.stricted,o.message),t=this.finalize(a,new u.ArrowFunctionExpression(o.params,c,h)),this.context.strict=r,this.context.allowYield=s}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(i.Messages.InvalidLHSInAssignment),this.context.strict&&t.type===l.Syntax.Identifier){var p=t;this.scanner.isRestrictedWord(p.name)&&this.tolerateUnexpectedToken(n,i.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(p.name)&&this.tolerateUnexpectedToken(n,i.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(t):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),n=this.nextToken();var d=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new u.AssignmentExpression(n.value,t,d)),this.context.firstCoverInitializedNameError=null}}return t},t.prototype.parseExpression=function(){var t=this.lookahead,e=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];for(n.push(e);this.startMarker.index<this.scanner.length&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));e=this.finalize(this.startNode(t),new u.SequenceExpression(n))}return e},t.prototype.parseStatementListItem=function(){var t=null;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===s.Token.Keyword)switch(this.lookahead.value){case"export":"module"!==this.sourceType&&this.tolerateUnexpectedToken(this.lookahead,i.Messages.IllegalExportDeclaration),t=this.parseExportDeclaration();break;case"import":"module"!==this.sourceType&&this.tolerateUnexpectedToken(this.lookahead,i.Messages.IllegalImportDeclaration),t=this.parseImportDeclaration();break;case"const":t=this.parseLexicalDeclaration({inFor:!1});break;case"function":t=this.parseFunctionDeclaration();break;case"class":t=this.parseClassDeclaration();break;case"let":t=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:t=this.parseStatement()}else t=this.parseStatement();return t},t.prototype.parseBlock=function(){var t=this.createNode();this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseStatementListItem());return this.expect("}"),this.finalize(t,new u.BlockStatement(e))},t.prototype.parseLexicalBinding=function(t,e){var n=this.createNode(),o=this.parsePattern([],t);this.context.strict&&o.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(o.name)&&this.tolerateError(i.Messages.StrictVarName);var r=null;return"const"===t?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.expect("="),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):(!e.inFor&&o.type!==l.Syntax.Identifier||this.match("="))&&(this.expect("="),r=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new u.VariableDeclarator(o,r))},t.prototype.parseBindingList=function(t,e){for(var n=[this.parseLexicalBinding(t,e)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(t,e));return n},t.prototype.isLexicalDeclaration=function(){var t=this.scanner.index,e=this.scanner.lineNumber,n=this.scanner.lineStart;this.collectComments();var o=this.scanner.lex();return this.scanner.index=t,this.scanner.lineNumber=e,this.scanner.lineStart=n,o.type===s.Token.Identifier||o.type===s.Token.Punctuator&&"["===o.value||o.type===s.Token.Punctuator&&"{"===o.value||o.type===s.Token.Keyword&&"let"===o.value||o.type===s.Token.Keyword&&"yield"===o.value},t.prototype.parseLexicalDeclaration=function(t){var e=this.createNode(),n=this.nextToken().value;o.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var i=this.parseBindingList(n,t);return this.consumeSemicolon(),this.finalize(e,new u.VariableDeclaration(i,n))},t.prototype.parseBindingRestElement=function(t,e){var n=this.createNode();this.expect("...");var o=this.parsePattern(t,e);return this.finalize(n,new u.RestElement(o))},t.prototype.parseArrayPattern=function(t,e){var n=this.createNode();this.expect("[");for(var o=[];!this.match("]");)if(this.match(","))this.nextToken(),o.push(null);else{if(this.match("...")){o.push(this.parseBindingRestElement(t,e));break}o.push(this.parsePatternWithDefault(t,e)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new u.ArrayPattern(o))},t.prototype.parsePropertyPattern=function(t,e){var n,o,i=this.createNode(),r=!1,a=!1;if(this.lookahead.type===s.Token.Identifier){var l=this.lookahead;n=this.parseVariableIdentifier();var c=this.finalize(i,new u.Identifier(l.value));if(this.match("=")){t.push(l),a=!0,this.nextToken();var h=this.parseAssignmentExpression();o=this.finalize(this.startNode(l),new u.AssignmentPattern(c,h))}else this.match(":")?(this.expect(":"),o=this.parsePatternWithDefault(t,e)):(t.push(l),a=!0,o=c)}else r=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),o=this.parsePatternWithDefault(t,e);return this.finalize(i,new u.Property("init",n,r,o,!1,a))},t.prototype.parseObjectPattern=function(t,e){var n=this.createNode(),o=[];for(this.expect("{");!this.match("}");)o.push(this.parsePropertyPattern(t,e)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new u.ObjectPattern(o))},t.prototype.parsePattern=function(t,e){var n;return this.match("[")?n=this.parseArrayPattern(t,e):this.match("{")?n=this.parseObjectPattern(t,e):(!this.matchKeyword("let")||"const"!==e&&"let"!==e||this.tolerateUnexpectedToken(this.lookahead,i.Messages.UnexpectedToken),t.push(this.lookahead),n=this.parseVariableIdentifier(e)),n},t.prototype.parsePatternWithDefault=function(t,e){var n=this.lookahead,o=this.parsePattern(t,e);if(this.match("=")){this.nextToken();var i=this.context.allowYield;this.context.allowYield=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=i,o=this.finalize(this.startNode(n),new u.AssignmentPattern(o,r))}return o},t.prototype.parseVariableIdentifier=function(t){var e=this.createNode(),n=this.nextToken();return n.type===s.Token.Keyword&&"yield"===n.value?(this.context.strict&&this.tolerateUnexpectedToken(n,i.Messages.StrictReservedWord),this.context.allowYield||this.throwUnexpectedToken(n)):n.type!==s.Token.Identifier?this.context.strict&&n.type===s.Token.Keyword&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,i.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==t)&&this.throwUnexpectedToken(n):"module"===this.sourceType&&n.type===s.Token.Identifier&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(e,new u.Identifier(n.value))},t.prototype.parseVariableDeclaration=function(t){var e=this.createNode(),n=this.parsePattern([],"var");this.context.strict&&n.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(i.Messages.StrictVarName);var o=null;return this.match("=")?(this.nextToken(),o=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===l.Syntax.Identifier||t.inFor||this.expect("="),this.finalize(e,new u.VariableDeclarator(n,o))},t.prototype.parseVariableDeclarationList=function(t){var e={inFor:t.inFor},n=[];for(n.push(this.parseVariableDeclaration(e));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(e));return n},t.prototype.parseVariableStatement=function(){var t=this.createNode();this.expectKeyword("var");var e=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(t,new u.VariableDeclaration(e,"var"))},t.prototype.parseEmptyStatement=function(){var t=this.createNode();return this.expect(";"),this.finalize(t,new u.EmptyStatement)},t.prototype.parseExpressionStatement=function(){var t=this.createNode(),e=this.parseExpression();return this.consumeSemicolon(),this.finalize(t,new u.ExpressionStatement(e))},t.prototype.parseIfStatement=function(){var t,e=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var o=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new u.EmptyStatement)):(this.expect(")"),t=this.parseStatement(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseStatement())),this.finalize(e,new u.IfStatement(o,t,n))},t.prototype.parseDoWhileStatement=function(){var t=this.createNode();this.expectKeyword("do");var e=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=e,this.expectKeyword("while"),this.expect("(");var o=this.parseExpression();return this.expect(")"),this.match(";")&&this.nextToken(),this.finalize(t,new u.DoWhileStatement(n,o))},t.prototype.parseWhileStatement=function(){var t,e=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new u.EmptyStatement);else{this.expect(")");var o=this.context.inIteration;this.context.inIteration=!0,t=this.parseStatement(),this.context.inIteration=o}return this.finalize(e,new u.WhileStatement(n,t))},t.prototype.parseForStatement=function(){var t,e,n,o=null,r=null,s=null,a=!0,c=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){o=this.createNode(),this.nextToken();var h=this.context.allowIn;this.context.allowIn=!1;var p=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=h,1===p.length&&this.matchKeyword("in")){var d=p[0];d.init&&(d.id.type===l.Syntax.ArrayPattern||d.id.type===l.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(i.Messages.ForInOfLoopInitializer,"for-in"),o=this.finalize(o,new u.VariableDeclaration(p,"var")),this.nextToken(),t=o,e=this.parseExpression(),o=null}else 1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(o=this.finalize(o,new u.VariableDeclaration(p,"var")),this.nextToken(),t=o,e=this.parseAssignmentExpression(),o=null,a=!1):(o=this.finalize(o,new u.VariableDeclaration(p,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){o=this.createNode();var f=this.nextToken().value;this.context.strict||"in"!==this.lookahead.value?(h=this.context.allowIn,this.context.allowIn=!1,p=this.parseBindingList(f,{inFor:!0}),this.context.allowIn=h,1===p.length&&null===p[0].init&&this.matchKeyword("in")?(o=this.finalize(o,new u.VariableDeclaration(p,f)),this.nextToken(),t=o,e=this.parseExpression(),o=null):1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(o=this.finalize(o,new u.VariableDeclaration(p,f)),this.nextToken(),t=o,e=this.parseAssignmentExpression(),o=null,a=!1):(this.consumeSemicolon(),o=this.finalize(o,new u.VariableDeclaration(p,f)))):(o=this.finalize(o,new u.Identifier(f)),this.nextToken(),t=o,e=this.parseExpression(),o=null)}else{var _=this.lookahead;if(h=this.context.allowIn,this.context.allowIn=!1,o=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=h,this.matchKeyword("in"))this.context.isAssignmentTarget&&o.type!==l.Syntax.AssignmentExpression||this.tolerateError(i.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(o),t=o,e=this.parseExpression(),o=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&o.type!==l.Syntax.AssignmentExpression||this.tolerateError(i.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(o),t=o,e=this.parseAssignmentExpression(),o=null,a=!1;else{if(this.match(",")){for(var g=[o];this.match(",");)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));o=this.finalize(this.startNode(_),new u.SequenceExpression(g))}this.expect(";")}}if("undefined"===typeof t&&(this.match(";")||(r=this.parseExpression()),this.expect(";"),this.match(")")||(s=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),n=this.finalize(this.createNode(),new u.EmptyStatement);else{this.expect(")");var m=this.context.inIteration;this.context.inIteration=!0,n=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=m}return"undefined"===typeof t?this.finalize(c,new u.ForStatement(o,r,s,n)):a?this.finalize(c,new u.ForInStatement(t,e,n)):this.finalize(c,new u.ForOfStatement(t,e,n))},t.prototype.parseContinueStatement=function(){var t=this.createNode();this.expectKeyword("continue");var e=null;if(this.lookahead.type===s.Token.Identifier&&!this.hasLineTerminator){var n="$"+(e=this.parseVariableIdentifier()).name;Object.prototype.hasOwnProperty.call(this.context.labelSet,n)||this.throwError(i.Messages.UnknownLabel,e.name)}return this.consumeSemicolon(),null!==e||this.context.inIteration||this.throwError(i.Messages.IllegalContinue),this.finalize(t,new u.ContinueStatement(e))},t.prototype.parseBreakStatement=function(){var t=this.createNode();this.expectKeyword("break");var e=null;if(this.lookahead.type===s.Token.Identifier&&!this.hasLineTerminator){var n="$"+(e=this.parseVariableIdentifier()).name;Object.prototype.hasOwnProperty.call(this.context.labelSet,n)||this.throwError(i.Messages.UnknownLabel,e.name)}return this.consumeSemicolon(),null!==e||this.context.inIteration||this.context.inSwitch||this.throwError(i.Messages.IllegalBreak),this.finalize(t,new u.BreakStatement(e))},t.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(i.Messages.IllegalReturn);var t=this.createNode();this.expectKeyword("return");var e=this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===s.Token.EOF?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(t,new u.ReturnStatement(e))},t.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(i.Messages.StrictModeWith);var t=this.createNode();this.expectKeyword("with"),this.expect("(");var e=this.parseExpression();this.expect(")");var n=this.parseStatement();return this.finalize(t,new u.WithStatement(e,n))},t.prototype.parseSwitchCase=function(){var t,e=this.createNode();this.matchKeyword("default")?(this.nextToken(),t=null):(this.expectKeyword("case"),t=this.parseExpression()),this.expect(":");for(var n=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)n.push(this.parseStatementListItem());return this.finalize(e,new u.SwitchCase(t,n))},t.prototype.parseSwitchStatement=function(){var t=this.createNode();this.expectKeyword("switch"),this.expect("(");var e=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var o=[],r=!1;for(this.expect("{");!this.match("}");){var s=this.parseSwitchCase();null===s.test&&(r&&this.throwError(i.Messages.MultipleDefaultsInSwitch),r=!0),o.push(s)}return this.expect("}"),this.context.inSwitch=n,this.finalize(t,new u.SwitchStatement(e,o))},t.prototype.parseLabelledStatement=function(){var t,e=this.createNode(),n=this.parseExpression();if(n.type===l.Syntax.Identifier&&this.match(":")){this.nextToken();var o=n,r="$"+o.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)&&this.throwError(i.Messages.Redeclaration,"Label",o.name),this.context.labelSet[r]=!0;var s=this.parseStatement();delete this.context.labelSet[r],t=new u.LabeledStatement(o,s)}else this.consumeSemicolon(),t=new u.ExpressionStatement(n);return this.finalize(e,t)},t.prototype.parseThrowStatement=function(){var t=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(i.Messages.NewlineAfterThrow);var e=this.parseExpression();return this.consumeSemicolon(),this.finalize(t,new u.ThrowStatement(e))},t.prototype.parseCatchClause=function(){var t=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var e=[],n=this.parsePattern(e),o={},r=0;r<e.length;r++){var s="$"+e[r].value;Object.prototype.hasOwnProperty.call(o,s)&&this.tolerateError(i.Messages.DuplicateBinding,e[r].value),o[s]=!0}this.context.strict&&n.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(i.Messages.StrictCatchVariable),this.expect(")");var a=this.parseBlock();return this.finalize(t,new u.CatchClause(n,a))},t.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},t.prototype.parseTryStatement=function(){var t=this.createNode();this.expectKeyword("try");var e=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,o=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||o||this.throwError(i.Messages.NoCatchOrFinally),this.finalize(t,new u.TryStatement(e,n,o))},t.prototype.parseDebuggerStatement=function(){var t=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(t,new u.DebuggerStatement)},t.prototype.parseStatement=function(){var t=null;switch(this.lookahead.type){case s.Token.BooleanLiteral:case s.Token.NullLiteral:case s.Token.NumericLiteral:case s.Token.StringLiteral:case s.Token.Template:case s.Token.RegularExpression:t=this.parseExpressionStatement();break;case s.Token.Punctuator:var e=this.lookahead.value;t="{"===e?this.parseBlock():"("===e?this.parseExpressionStatement():";"===e?this.parseEmptyStatement():this.parseExpressionStatement();break;case s.Token.Identifier:t=this.parseLabelledStatement();break;case s.Token.Keyword:switch(this.lookahead.value){case"break":t=this.parseBreakStatement();break;case"continue":t=this.parseContinueStatement();break;case"debugger":t=this.parseDebuggerStatement();break;case"do":t=this.parseDoWhileStatement();break;case"for":t=this.parseForStatement();break;case"function":t=this.parseFunctionDeclaration();break;case"if":t=this.parseIfStatement();break;case"return":t=this.parseReturnStatement();break;case"switch":t=this.parseSwitchStatement();break;case"throw":t=this.parseThrowStatement();break;case"try":t=this.parseTryStatement();break;case"var":t=this.parseVariableStatement();break;case"while":t=this.parseWhileStatement();break;case"with":t=this.parseWithStatement();break;default:t=this.parseExpressionStatement()}break;default:this.throwUnexpectedToken(this.lookahead)}return t},t.prototype.parseFunctionSourceElements=function(){var t=this.createNode();this.expect("{");var e=this.parseDirectivePrologues(),n=this.context.labelSet,o=this.context.inIteration,i=this.context.inSwitch,r=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.startMarker.index<this.scanner.length&&!this.match("}");)e.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=o,this.context.inSwitch=i,this.context.inFunctionBody=r,this.finalize(t,new u.BlockStatement(e))},t.prototype.validateParam=function(t,e,n){var o="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(t.stricted=e,t.message=i.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(t.paramSet,o)&&(t.stricted=e,t.message=i.Messages.StrictParamDupe)):t.firstRestricted||(this.scanner.isRestrictedWord(n)?(t.firstRestricted=e,t.message=i.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(t.firstRestricted=e,t.message=i.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(t.paramSet,o)&&(t.stricted=e,t.message=i.Messages.StrictParamDupe)),"function"===typeof Object.defineProperty?Object.defineProperty(t.paramSet,o,{value:!0,enumerable:!0,writable:!0,configurable:!0}):t.paramSet[o]=!0},t.prototype.parseRestElement=function(t){var e=this.createNode();this.expect("...");var n=this.parsePattern(t);return this.match("=")&&this.throwError(i.Messages.DefaultRestParameter),this.match(")")||this.throwError(i.Messages.ParameterAfterRestParameter),this.finalize(e,new u.RestElement(n))},t.prototype.parseFormalParameter=function(t){for(var e=[],n=this.match("...")?this.parseRestElement(e):this.parsePatternWithDefault(e),o=0;o<e.length;o++)this.validateParam(t,e[o],e[o].value);return t.params.push(n),!this.match(")")},t.prototype.parseFormalParameters=function(t){var e;if(e={params:[],firstRestricted:t},this.expect("("),!this.match(")"))for(e.paramSet={};this.startMarker.index<this.scanner.length&&this.parseFormalParameter(e);)this.expect(",");return this.expect(")"),{params:e.params,stricted:e.stricted,firstRestricted:e.firstRestricted,message:e.message}},t.prototype.parseFunctionDeclaration=function(t){var e=this.createNode();this.expectKeyword("function");var n,o=this.match("*");o&&this.nextToken();var r=null,s=null;if(!t||!this.match("(")){var a=this.lookahead;r=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,i.Messages.StrictFunctionName):this.scanner.isRestrictedWord(a.value)?(s=a,n=i.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(a.value)&&(s=a,n=i.Messages.StrictReservedWord)}var l=this.context.allowYield;this.context.allowYield=!o;var c=this.parseFormalParameters(s),h=c.params,p=c.stricted;s=c.firstRestricted,c.message&&(n=c.message);var d=this.context.strict,f=this.parseFunctionSourceElements();return this.context.strict&&s&&this.throwUnexpectedToken(s,n),this.context.strict&&p&&this.tolerateUnexpectedToken(p,n),this.context.strict=d,this.context.allowYield=l,this.finalize(e,new u.FunctionDeclaration(r,h,f,o))},t.prototype.parseFunctionExpression=function(){var t=this.createNode();this.expectKeyword("function");var e,n=this.match("*");n&&this.nextToken();var o,r=null,s=this.context.allowYield;if(this.context.allowYield=!n,!this.match("(")){var a=this.lookahead;r=this.context.strict||n||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,i.Messages.StrictFunctionName):this.scanner.isRestrictedWord(a.value)?(o=a,e=i.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(a.value)&&(o=a,e=i.Messages.StrictReservedWord)}var l=this.parseFormalParameters(o),c=l.params,h=l.stricted;o=l.firstRestricted,l.message&&(e=l.message);var p=this.context.strict,d=this.parseFunctionSourceElements();return this.context.strict&&o&&this.throwUnexpectedToken(o,e),this.context.strict&&h&&this.tolerateUnexpectedToken(h,e),this.context.strict=p,this.context.allowYield=s,this.finalize(t,new u.FunctionExpression(r,c,d,n))},t.prototype.parseDirective=function(){var t=this.lookahead,e=null,n=this.createNode(),o=this.parseExpression();return o.type===l.Syntax.Literal&&(e=this.getTokenRaw(t).slice(1,-1)),this.consumeSemicolon(),this.finalize(n,e?new u.Directive(o,e):new u.ExpressionStatement(o))},t.prototype.parseDirectivePrologues=function(){for(var t=null,e=[];;){var n=this.lookahead;if(n.type!==s.Token.StringLiteral)break;var o=this.parseDirective();e.push(o);var r=o.directive;if("string"!==typeof r)break;"use strict"===r?(this.context.strict=!0,t&&this.tolerateUnexpectedToken(t,i.Messages.StrictOctalLiteral)):!t&&n.octal&&(t=n)}return e},t.prototype.qualifiedPropertyName=function(t){switch(t.type){case s.Token.Identifier:case s.Token.StringLiteral:case s.Token.BooleanLiteral:case s.Token.NullLiteral:case s.Token.NumericLiteral:case s.Token.Keyword:return!0;case s.Token.Punctuator:return"["===t.value}return!1},t.prototype.parseGetterMethod=function(){var t=this.createNode();this.expect("("),this.expect(")");var e={params:[],stricted:null,firstRestricted:null,message:null},n=this.context.allowYield;this.context.allowYield=!1;var o=this.parsePropertyMethod(e);return this.context.allowYield=n,this.finalize(t,new u.FunctionExpression(null,e.params,o,!1))},t.prototype.parseSetterMethod=function(){var t=this.createNode(),e={params:[],firstRestricted:null,paramSet:{}},n=this.context.allowYield;this.context.allowYield=!1,this.expect("("),this.match(")")?this.tolerateUnexpectedToken(this.lookahead):this.parseFormalParameter(e),this.expect(")");var o=this.parsePropertyMethod(e);return this.context.allowYield=n,this.finalize(t,new u.FunctionExpression(null,e.params,o,!1))},t.prototype.parseGeneratorMethod=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();this.context.allowYield=!1;var o=this.parsePropertyMethod(n);return this.context.allowYield=e,this.finalize(t,new u.FunctionExpression(null,n.params,o,!0))},t.prototype.isStartOfExpression=function(){var t=!0,e=this.lookahead.value;switch(this.lookahead.type){case s.Token.Punctuator:t="["===e||"("===e||"{"===e||"+"===e||"-"===e||"!"===e||"~"===e||"++"===e||"--"===e||"/"===e||"/="===e;break;case s.Token.Keyword:t="class"===e||"delete"===e||"function"===e||"let"===e||"new"===e||"super"===e||"this"===e||"typeof"===e||"void"===e||"yield"===e}return t},t.prototype.parseYieldExpression=function(){var t=this.createNode();this.expectKeyword("yield");var e=null,n=!1;if(!this.hasLineTerminator){var o=this.context.allowYield;this.context.allowYield=!1,(n=this.match("*"))?(this.nextToken(),e=this.parseAssignmentExpression()):this.isStartOfExpression()&&(e=this.parseAssignmentExpression()),this.context.allowYield=o}return this.finalize(t,new u.YieldExpression(e,n))},t.prototype.parseClassElement=function(t){var e,n,o,r=this.lookahead,a=this.createNode(),l=!1,c=!1,h=!1;this.match("*")?this.nextToken():(l=this.match("["),"static"===(n=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(r=this.lookahead,h=!0,l=this.match("["),this.match("*")?this.nextToken():n=this.parseObjectPropertyKey()));var p=this.qualifiedPropertyName(this.lookahead);return r.type===s.Token.Identifier?"get"===r.value&&p?(e="get",l=this.match("["),n=this.parseObjectPropertyKey(),this.context.allowYield=!1,o=this.parseGetterMethod()):"set"===r.value&&p&&(e="set",l=this.match("["),n=this.parseObjectPropertyKey(),o=this.parseSetterMethod()):r.type===s.Token.Punctuator&&"*"===r.value&&p&&(e="init",l=this.match("["),n=this.parseObjectPropertyKey(),o=this.parseGeneratorMethod(),c=!0),!e&&n&&this.match("(")&&(e="init",o=this.parsePropertyMethodFunction(),c=!0),e||this.throwUnexpectedToken(this.lookahead),"init"===e&&(e="method"),l||(h&&this.isPropertyKey(n,"prototype")&&this.throwUnexpectedToken(r,i.Messages.StaticPrototype),!h&&this.isPropertyKey(n,"constructor")&&("method"===e&&c&&!o.generator||this.throwUnexpectedToken(r,i.Messages.ConstructorSpecialMethod),t.value?this.throwUnexpectedToken(r,i.Messages.DuplicateConstructor):t.value=!0,e="constructor")),this.finalize(a,new u.MethodDefinition(n,l,o,e,h))},t.prototype.parseClassElementList=function(){var t=[],e={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():t.push(this.parseClassElement(e));return this.expect("}"),t},t.prototype.parseClassBody=function(){var t=this.createNode(),e=this.parseClassElementList();return this.finalize(t,new u.ClassBody(e))},t.prototype.parseClassDeclaration=function(t){var e=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var o=t&&this.lookahead.type!==s.Token.Identifier?null:this.parseVariableIdentifier(),i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var r=this.parseClassBody();return this.context.strict=n,this.finalize(e,new u.ClassDeclaration(o,i,r))},t.prototype.parseClassExpression=function(){var t=this.createNode(),e=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=this.lookahead.type===s.Token.Identifier?this.parseVariableIdentifier():null,o=null;this.matchKeyword("extends")&&(this.nextToken(),o=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var i=this.parseClassBody();return this.context.strict=e,this.finalize(t,new u.ClassExpression(n,o,i))},t.prototype.parseProgram=function(){for(var t=this.createNode(),e=this.parseDirectivePrologues();this.startMarker.index<this.scanner.length;)e.push(this.parseStatementListItem());return this.finalize(t,new u.Program(e,this.sourceType))},t.prototype.parseModuleSpecifier=function(){var t=this.createNode();this.lookahead.type!==s.Token.StringLiteral&&this.throwError(i.Messages.InvalidModuleSpecifier);var e=this.nextToken(),n=this.getTokenRaw(e);return this.finalize(t,new u.Literal(e.value,n))},t.prototype.parseImportSpecifier=function(){var t,e,n=this.createNode();return this.lookahead.type===s.Token.Identifier?(e=t=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),e=this.parseVariableIdentifier())):(e=t=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),e=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new u.ImportSpecifier(e,t))},t.prototype.parseNamedImports=function(){this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),t},t.prototype.parseImportDefaultSpecifier=function(){var t=this.createNode(),e=this.parseIdentifierName();return this.finalize(t,new u.ImportDefaultSpecifier(e))},t.prototype.parseImportNamespaceSpecifier=function(){var t=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(i.Messages.NoAsAfterImportNamespace),this.nextToken();var e=this.parseIdentifierName();return this.finalize(t,new u.ImportNamespaceSpecifier(e))},t.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(i.Messages.IllegalImportDeclaration);var t,e=this.createNode();this.expectKeyword("import");var n=[];if(this.lookahead.type===s.Token.StringLiteral)t=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var o=this.lookahead.value?i.Messages.UnexpectedToken:i.Messages.MissingFromClause;this.throwError(o,this.lookahead.value)}this.nextToken(),t=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(e,new u.ImportDeclaration(n,t))},t.prototype.parseExportSpecifier=function(){var t=this.createNode(),e=this.parseIdentifierName(),n=e;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(t,new u.ExportSpecifier(e,n))},t.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(i.Messages.IllegalExportDeclaration);var t,e=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);t=this.finalize(e,new u.ExportDefaultDeclaration(n))}else this.matchKeyword("class")?(n=this.parseClassDeclaration(!0),t=this.finalize(e,new u.ExportDefaultDeclaration(n))):(this.matchContextualKeyword("from")&&this.throwError(i.Messages.UnexpectedToken,this.lookahead.value),n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),t=this.finalize(e,new u.ExportDefaultDeclaration(n)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var o=this.lookahead.value?i.Messages.UnexpectedToken:i.Messages.MissingFromClause;this.throwError(o,this.lookahead.value)}this.nextToken();var r=this.parseModuleSpecifier();this.consumeSemicolon(),t=this.finalize(e,new u.ExportAllDeclaration(r))}else if(this.lookahead.type===s.Token.Keyword){switch(n=void 0,this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}t=this.finalize(e,new u.ExportNamedDeclaration(n,[],null))}else{var a=[],l=null,c=!1;for(this.expect("{");!this.match("}");)c=c||this.matchKeyword("default"),a.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),l=this.parseModuleSpecifier(),this.consumeSemicolon()):c?(o=this.lookahead.value?i.Messages.UnexpectedToken:i.Messages.MissingFromClause,this.throwError(o,this.lookahead.value)):this.consumeSemicolon(),t=this.finalize(e,new u.ExportNamedDeclaration(null,a,l))}return t},t}();e.Parser=c},function(t,e){"use strict";e.assert=function(t,e){if(!t)throw new Error("ASSERT: "+e)}},function(t,e){"use strict";e.Messages={UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer"}},function(t,e){"use strict";var n=function(){function t(){this.errors=[],this.tolerant=!1}return t.prototype.recordError=function(t){this.errors.push(t)},t.prototype.tolerate=function(t){if(!this.tolerant)throw t;this.recordError(t)},t.prototype.constructError=function(t,e){var n=new Error(t);try{throw n}catch(o){Object.create&&Object.defineProperty&&(n=Object.create(o),Object.defineProperty(n,"column",{value:e}))}finally{return n}},t.prototype.createError=function(t,e,n,o){var i="Line "+e+": "+o,r=this.constructError(i,n);return r.index=t,r.lineNumber=e,r.description=o,r},t.prototype.throwError=function(t,e,n,o){throw this.createError(t,e,n,o)},t.prototype.tolerateError=function(t,e,n,o){var i=this.createError(t,e,n,o);if(!this.tolerant)throw i;this.recordError(i)},t}();e.ErrorHandler=n},function(t,e){"use strict";!function(t){t[t.BooleanLiteral=1]="BooleanLiteral",t[t.EOF=2]="EOF",t[t.Identifier=3]="Identifier",t[t.Keyword=4]="Keyword",t[t.NullLiteral=5]="NullLiteral",t[t.NumericLiteral=6]="NumericLiteral",t[t.Punctuator=7]="Punctuator",t[t.StringLiteral=8]="StringLiteral",t[t.RegularExpression=9]="RegularExpression",t[t.Template=10]="Template"}(e.Token||(e.Token={}));var n=e.Token;e.TokenName={},e.TokenName[n.BooleanLiteral]="Boolean",e.TokenName[n.EOF]="<end>",e.TokenName[n.Identifier]="Identifier",e.TokenName[n.Keyword]="Keyword",e.TokenName[n.NullLiteral]="Null",e.TokenName[n.NumericLiteral]="Numeric",e.TokenName[n.Punctuator]="Punctuator",e.TokenName[n.StringLiteral]="String",e.TokenName[n.RegularExpression]="RegularExpression",e.TokenName[n.Template]="Template"},function(t,e,n){"use strict";var o=n(4),i=n(5),r=n(9),s=n(7);function a(t){return"0123456789abcdef".indexOf(t.toLowerCase())}function l(t){return"01234567".indexOf(t)}var u=function(){function t(t,e){this.source=t,this.errorHandler=e,this.trackComment=!1,this.length=t.length,this.index=0,this.lineNumber=t.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return t.prototype.eof=function(){return this.index>=this.length},t.prototype.throwUnexpectedToken=function(t){void 0===t&&(t=i.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,t)},t.prototype.tolerateUnexpectedToken=function(){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,i.Messages.UnexpectedTokenIllegal)},t.prototype.skipSingleLineComment=function(t){var e,n,o;for(this.trackComment&&(e=[],n=this.index-t,o={start:{line:this.lineNumber,column:this.index-this.lineStart-t},end:{}});!this.eof();){var i=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(i)){if(this.trackComment){o.end={line:this.lineNumber,column:this.index-this.lineStart-1};var s={multiLine:!1,slice:[n+t,this.index-1],range:[n,this.index-1],loc:o};e.push(s)}return 13===i&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,e}}return this.trackComment&&(o.end={line:this.lineNumber,column:this.index-this.lineStart},s={multiLine:!1,slice:[n+t,this.index],range:[n,this.index],loc:o},e.push(s)),e},t.prototype.skipMultiLineComment=function(){var t,e,n;for(this.trackComment&&(t=[],e=this.index-2,n={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var o=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(o))13===o&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===o){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart};var i={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:n};t.push(i)}return t}++this.index}else++this.index}return this.trackComment&&(n.end={line:this.lineNumber,column:this.index-this.lineStart},i={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:n},t.push(i)),this.tolerateUnexpectedToken(),t},t.prototype.scanComments=function(){var t;this.trackComment&&(t=[]);for(var e=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(n))++this.index;else if(r.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,e=!0;else if(47===n)if(47===(n=this.source.charCodeAt(this.index+1))){this.index+=2;var o=this.skipSingleLineComment(2);this.trackComment&&(t=t.concat(o)),e=!0}else{if(42!==n)break;this.index+=2,o=this.skipMultiLineComment(),this.trackComment&&(t=t.concat(o))}else if(e&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3,o=this.skipSingleLineComment(3),this.trackComment&&(t=t.concat(o))}else{if(60!==n)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4,o=this.skipSingleLineComment(4),this.trackComment&&(t=t.concat(o))}}return t},t.prototype.isFutureReservedWord=function(t){switch(t){case"enum":case"export":case"import":case"super":return!0;default:return!1}},t.prototype.isStrictModeReservedWord=function(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},t.prototype.isRestrictedWord=function(t){return"eval"===t||"arguments"===t},t.prototype.isKeyword=function(t){switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}},t.prototype.codePointAt=function(t){var e=this.source.charCodeAt(t);if(e>=55296&&e<=56319){var n=this.source.charCodeAt(t+1);n>=56320&&n<=57343&&(e=1024*(e-55296)+n-56320+65536)}return e},t.prototype.scanHexEscape=function(t){for(var e="u"===t?4:2,n=0,o=0;o<e;++o){if(this.eof()||!r.Character.isHexDigit(this.source.charCodeAt(this.index)))return"";n=16*n+a(this.source[this.index++])}return String.fromCharCode(n)},t.prototype.scanUnicodeCodePointEscape=function(){var t=this.source[this.index],e=0;for("}"===t&&this.throwUnexpectedToken();!this.eof()&&(t=this.source[this.index++],r.Character.isHexDigit(t.charCodeAt(0)));)e=16*e+a(t);return(e>1114111||"}"!==t)&&this.throwUnexpectedToken(),r.Character.fromCodePoint(e)},t.prototype.getIdentifier=function(){for(var t=this.index++;!this.eof();){var e=this.source.charCodeAt(this.index);if(92===e)return this.index=t,this.getComplexIdentifier();if(e>=55296&&e<57343)return this.index=t,this.getComplexIdentifier();if(!r.Character.isIdentifierPart(e))break;++this.index}return this.source.slice(t,this.index)},t.prototype.getComplexIdentifier=function(){var t,e=this.codePointAt(this.index),n=r.Character.fromCodePoint(e);for(this.index+=n.length,92===e&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,t=this.scanUnicodeCodePointEscape()):(e=(t=this.scanHexEscape("u")).charCodeAt(0),t&&"\\"!==t&&r.Character.isIdentifierStart(e)||this.throwUnexpectedToken()),n=t);!this.eof()&&(e=this.codePointAt(this.index),r.Character.isIdentifierPart(e));)n+=t=r.Character.fromCodePoint(e),this.index+=t.length,92===e&&(n=n.substr(0,n.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,t=this.scanUnicodeCodePointEscape()):(e=(t=this.scanHexEscape("u")).charCodeAt(0),t&&"\\"!==t&&r.Character.isIdentifierPart(e)||this.throwUnexpectedToken()),n+=t);return n},t.prototype.octalToDecimal=function(t){var e="0"!==t,n=l(t);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(e=!0,n=8*n+l(this.source[this.index++]),"0123".indexOf(t)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+l(this.source[this.index++]))),{code:n,octal:e}},t.prototype.scanIdentifier=function(){var t=this.index,e=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();return{type:1===e.length?s.Token.Identifier:this.isKeyword(e)?s.Token.Keyword:"null"===e?s.Token.NullLiteral:"true"===e||"false"===e?s.Token.BooleanLiteral:s.Token.Identifier,value:e,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanPunctuator=function(){var t={type:s.Token.Punctuator,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index},e=this.source[this.index];switch(e){case"(":case"{":"{"===e&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,e="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(e=this.source.substr(this.index,4))?this.index+=4:"==="===(e=e.substr(0,3))||"!=="===e||">>>"===e||"<<="===e||">>="===e||"**="===e?this.index+=3:"&&"===(e=e.substr(0,2))||"||"===e||"=="===e||"!="===e||"+="===e||"-="===e||"*="===e||"/="===e||"++"===e||"--"===e||"<<"===e||">>"===e||"&="===e||"|="===e||"^="===e||"%="===e||"<="===e||">="===e||"=>"===e||"**"===e?this.index+=2:(e=this.source[this.index],"<>=!+-*%&|^/".indexOf(e)>=0&&++this.index)}return this.index===t.start&&this.throwUnexpectedToken(),t.end=this.index,t.value=e,t},t.prototype.scanHexLiteral=function(t){for(var e="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)e+=this.source[this.index++];return 0===e.length&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:s.Token.NumericLiteral,value:parseInt("0x"+e,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanBinaryLiteral=function(t){for(var e,n="";!this.eof()&&("0"===(e=this.source[this.index])||"1"===e);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(e=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(e)||r.Character.isDecimalDigit(e))&&this.throwUnexpectedToken()),{type:s.Token.NumericLiteral,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanOctalLiteral=function(t,e){var n="",o=!1;for(r.Character.isOctalDigit(t.charCodeAt(0))?(o=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return o||0!==n.length||this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:s.Token.NumericLiteral,value:parseInt(n,8),octal:o,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},t.prototype.isImplicitOctalLiteral=function(){for(var t=this.index+1;t<this.length;++t){var e=this.source[t];if("8"===e||"9"===e)return!1;if(!r.Character.isOctalDigit(e.charCodeAt(0)))return!0}return!0},t.prototype.scanNumericLiteral=function(){var t=this.index,e=this.source[t];o.assert(r.Character.isDecimalDigit(e.charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==e){if(n=this.source[this.index++],e=this.source[this.index],"0"===n){if("x"===e||"X"===e)return++this.index,this.scanHexLiteral(t);if("b"===e||"B"===e)return++this.index,this.scanBinaryLiteral(t);if("o"===e||"O"===e)return this.scanOctalLiteral(e,t);if(e&&r.Character.isOctalDigit(e.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(e,t)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];e=this.source[this.index]}if("."===e){for(n+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];e=this.source[this.index]}if("e"===e||"E"===e)if(n+=this.source[this.index++],"+"!==(e=this.source[this.index])&&"-"!==e||(n+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:s.Token.NumericLiteral,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanStringLiteral=function(){var t=this.index,e=this.source[t];o.assert("'"===e||'"'===e,"String literal must starts with a quote"),++this.index;for(var n=!1,i="";!this.eof();){var a=this.source[this.index++];if(a===e){e="";break}if("\\"===a)if((a=this.source[this.index++])&&r.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case"u":case"x":if("{"===this.source[this.index])++this.index,i+=this.scanUnicodeCodePointEscape();else{var l=this.scanHexEscape(a);l||this.throwUnexpectedToken(),i+=l}break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;case"8":case"9":i+=a,this.tolerateUnexpectedToken();break;default:if(a&&r.Character.isOctalDigit(a.charCodeAt(0))){var u=this.octalToDecimal(a);n=u.octal||n,i+=String.fromCharCode(u.code)}else i+=a}else{if(r.Character.isLineTerminator(a.charCodeAt(0)))break;i+=a}}return""!==e&&(this.index=t,this.throwUnexpectedToken()),{type:s.Token.StringLiteral,value:i,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanTemplate=function(){var t="",e=!1,n=this.index,o="`"===this.source[n],a=!1,l=2;for(++this.index;!this.eof();){var u=this.source[this.index++];if("`"===u){l=1,a=!0,e=!0;break}if("$"===u){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,e=!0;break}t+=u}else if("\\"===u)if(u=this.source[this.index++],r.Character.isLineTerminator(u.charCodeAt(0)))++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(u){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"u":case"x":if("{"===this.source[this.index])++this.index,t+=this.scanUnicodeCodePointEscape();else{var c=this.index,h=this.scanHexEscape(u);h?t+=h:(this.index=c,t+=u)}break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:"0"===u?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(i.Messages.TemplateOctalLiteral),t+="\0"):r.Character.isOctalDigit(u.charCodeAt(0))?this.throwUnexpectedToken(i.Messages.TemplateOctalLiteral):t+=u}else r.Character.isLineTerminator(u.charCodeAt(0))?(++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,t+="\n"):t+=u}return e||this.throwUnexpectedToken(),o||this.curlyStack.pop(),{type:s.Token.Template,value:{cooked:t,raw:this.source.slice(n+1,this.index-l)},head:o,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},t.prototype.testRegExp=function(t,e){var n=t,o=this;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(t,e,n){var r=parseInt(e||n,16);return r>1114111&&o.throwUnexpectedToken(i.Messages.InvalidRegExp),r<=65535?String.fromCharCode(r):"\uffff"})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(n)}catch(r){this.throwUnexpectedToken(i.Messages.InvalidRegExp)}try{return new RegExp(t,e)}catch(s){return null}},t.prototype.scanRegExpBody=function(){var t=this.source[this.index];o.assert("/"===t,"Regular expression literal must start with a slash");for(var e=this.source[this.index++],n=!1,s=!1;!this.eof();)if(e+=t=this.source[this.index++],"\\"===t)t=this.source[this.index++],r.Character.isLineTerminator(t.charCodeAt(0))&&this.throwUnexpectedToken(i.Messages.UnterminatedRegExp),e+=t;else if(r.Character.isLineTerminator(t.charCodeAt(0)))this.throwUnexpectedToken(i.Messages.UnterminatedRegExp);else if(n)"]"===t&&(n=!1);else{if("/"===t){s=!0;break}"["===t&&(n=!0)}return s||this.throwUnexpectedToken(i.Messages.UnterminatedRegExp),{value:e.substr(1,e.length-2),literal:e}},t.prototype.scanRegExpFlags=function(){for(var t="",e="";!this.eof();){var n=this.source[this.index];if(!r.Character.isIdentifierPart(n.charCodeAt(0)))break;if(++this.index,"\\"!==n||this.eof())e+=n,t+=n;else if("u"===(n=this.source[this.index])){++this.index;var o=this.index;if(n=this.scanHexEscape("u"))for(e+=n,t+="\\u";o<this.index;++o)t+=this.source[o];else this.index=o,e+="u",t+="\\u";this.tolerateUnexpectedToken()}else t+="\\",this.tolerateUnexpectedToken()}return{value:e,literal:t}},t.prototype.scanRegExp=function(){var t=this.index,e=this.scanRegExpBody(),n=this.scanRegExpFlags(),o=this.testRegExp(e.value,n.value);return{type:s.Token.RegularExpression,value:o,literal:e.literal+n.literal,regex:{pattern:e.value,flags:n.value},lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.lex=function(){if(this.eof())return{type:s.Token.EOF,lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var t=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(t)?this.scanIdentifier():40===t||41===t||59===t?this.scanPunctuator():39===t||34===t?this.scanStringLiteral():46===t?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(t)?this.scanNumericLiteral():96===t||125===t&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():t>=55296&&t<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},t}();e.Scanner=u},function(t,e){"use strict";var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10))+String.fromCharCode(56320+(t-65536&1023))},isWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0},isLineTerminator:function(t){return 10===t||13===t||8232===t||8233===t},isIdentifierStart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&n.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(t))},isIdentifierPart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&n.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(t))},isDecimalDigit:function(t){return t>=48&&t<=57},isHexDigit:function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},isOctalDigit:function(t){return t>=48&&t<=55}}},function(t,e,n){"use strict";var o=n(2),i=function(t){this.type=o.Syntax.ArrayExpression,this.elements=t};e.ArrayExpression=i;var r=function(t){this.type=o.Syntax.ArrayPattern,this.elements=t};e.ArrayPattern=r;var s=function(t,e,n){this.type=o.Syntax.ArrowFunctionExpression,this.id=null,this.params=t,this.body=e,this.generator=!1,this.expression=n};e.ArrowFunctionExpression=s;var a=function(t,e,n){this.type=o.Syntax.AssignmentExpression,this.operator=t,this.left=e,this.right=n};e.AssignmentExpression=a;var l=function(t,e){this.type=o.Syntax.AssignmentPattern,this.left=t,this.right=e};e.AssignmentPattern=l;var u=function(t,e,n){var i="||"===t||"&&"===t;this.type=i?o.Syntax.LogicalExpression:o.Syntax.BinaryExpression,this.operator=t,this.left=e,this.right=n};e.BinaryExpression=u;var c=function(t){this.type=o.Syntax.BlockStatement,this.body=t};e.BlockStatement=c;var h=function(t){this.type=o.Syntax.BreakStatement,this.label=t};e.BreakStatement=h;var p=function(t,e){this.type=o.Syntax.CallExpression,this.callee=t,this.arguments=e};e.CallExpression=p;var d=function(t,e){this.type=o.Syntax.CatchClause,this.param=t,this.body=e};e.CatchClause=d;var f=function(t){this.type=o.Syntax.ClassBody,this.body=t};e.ClassBody=f;var _=function(t,e,n){this.type=o.Syntax.ClassDeclaration,this.id=t,this.superClass=e,this.body=n};e.ClassDeclaration=_;var g=function(t,e,n){this.type=o.Syntax.ClassExpression,this.id=t,this.superClass=e,this.body=n};e.ClassExpression=g;var m=function(t,e){this.type=o.Syntax.MemberExpression,this.computed=!0,this.object=t,this.property=e};e.ComputedMemberExpression=m;var v=function(t,e,n){this.type=o.Syntax.ConditionalExpression,this.test=t,this.consequent=e,this.alternate=n};e.ConditionalExpression=v;var E=function(t){this.type=o.Syntax.ContinueStatement,this.label=t};e.ContinueStatement=E;var T=function(){this.type=o.Syntax.DebuggerStatement};e.DebuggerStatement=T;var y=function(t,e){this.type=o.Syntax.ExpressionStatement,this.expression=t,this.directive=e};e.Directive=y;var b=function(t,e){this.type=o.Syntax.DoWhileStatement,this.body=t,this.test=e};e.DoWhileStatement=b;var S=function(){this.type=o.Syntax.EmptyStatement};e.EmptyStatement=S;var C=function(t){this.type=o.Syntax.ExportAllDeclaration,this.source=t};e.ExportAllDeclaration=C;var k=function(t){this.type=o.Syntax.ExportDefaultDeclaration,this.declaration=t};e.ExportDefaultDeclaration=k;var D=function(t,e,n){this.type=o.Syntax.ExportNamedDeclaration,this.declaration=t,this.specifiers=e,this.source=n};e.ExportNamedDeclaration=D;var I=function(t,e){this.type=o.Syntax.ExportSpecifier,this.exported=e,this.local=t};e.ExportSpecifier=I;var R=function(t){this.type=o.Syntax.ExpressionStatement,this.expression=t};e.ExpressionStatement=R;var A=function(t,e,n){this.type=o.Syntax.ForInStatement,this.left=t,this.right=e,this.body=n,this.each=!1};e.ForInStatement=A;var O=function(t,e,n){this.type=o.Syntax.ForOfStatement,this.left=t,this.right=e,this.body=n};e.ForOfStatement=O;var w=function(t,e,n,i){this.type=o.Syntax.ForStatement,this.init=t,this.test=e,this.update=n,this.body=i};e.ForStatement=w;var x=function(t,e,n,i){this.type=o.Syntax.FunctionDeclaration,this.id=t,this.params=e,this.body=n,this.generator=i,this.expression=!1};e.FunctionDeclaration=x;var N=function(t,e,n,i){this.type=o.Syntax.FunctionExpression,this.id=t,this.params=e,this.body=n,this.generator=i,this.expression=!1};e.FunctionExpression=N;var M=function(t){this.type=o.Syntax.Identifier,this.name=t};e.Identifier=M;var L=function(t,e,n){this.type=o.Syntax.IfStatement,this.test=t,this.consequent=e,this.alternate=n};e.IfStatement=L;var B=function(t,e){this.type=o.Syntax.ImportDeclaration,this.specifiers=t,this.source=e};e.ImportDeclaration=B;var P=function(t){this.type=o.Syntax.ImportDefaultSpecifier,this.local=t};e.ImportDefaultSpecifier=P;var F=function(t){this.type=o.Syntax.ImportNamespaceSpecifier,this.local=t};e.ImportNamespaceSpecifier=F;var U=function(t,e){this.type=o.Syntax.ImportSpecifier,this.local=t,this.imported=e};e.ImportSpecifier=U;var V=function(t,e){this.type=o.Syntax.LabeledStatement,this.label=t,this.body=e};e.LabeledStatement=V;var H=function(t,e){this.type=o.Syntax.Literal,this.value=t,this.raw=e};e.Literal=H;var G=function(t,e){this.type=o.Syntax.MetaProperty,this.meta=t,this.property=e};e.MetaProperty=G;var W=function(t,e,n,i,r){this.type=o.Syntax.MethodDefinition,this.key=t,this.computed=e,this.value=n,this.kind=i,this.static=r};e.MethodDefinition=W;var X=function(t,e){this.type=o.Syntax.NewExpression,this.callee=t,this.arguments=e};e.NewExpression=X;var z=function(t){this.type=o.Syntax.ObjectExpression,this.properties=t};e.ObjectExpression=z;var J=function(t){this.type=o.Syntax.ObjectPattern,this.properties=t};e.ObjectPattern=J;var K=function(t,e){this.type=o.Syntax.Program,this.body=t,this.sourceType=e};e.Program=K;var Y=function(t,e,n,i,r,s){this.type=o.Syntax.Property,this.key=e,this.computed=n,this.value=i,this.kind=t,this.method=r,this.shorthand=s};e.Property=Y;var j=function(t,e,n){this.type=o.Syntax.Literal,this.value=t,this.raw=e,this.regex=n};e.RegexLiteral=j;var q=function(t){this.type=o.Syntax.RestElement,this.argument=t};e.RestElement=q;var Q=function(t){this.type=o.Syntax.ReturnStatement,this.argument=t};e.ReturnStatement=Q;var Z=function(t){this.type=o.Syntax.SequenceExpression,this.expressions=t};e.SequenceExpression=Z;var $=function(t){this.type=o.Syntax.SpreadElement,this.argument=t};e.SpreadElement=$;var tt=function(t,e){this.type=o.Syntax.MemberExpression,this.computed=!1,this.object=t,this.property=e};e.StaticMemberExpression=tt;var et=function(){this.type=o.Syntax.Super};e.Super=et;var nt=function(t,e){this.type=o.Syntax.SwitchCase,this.test=t,this.consequent=e};e.SwitchCase=nt;var ot=function(t,e){this.type=o.Syntax.SwitchStatement,this.discriminant=t,this.cases=e};e.SwitchStatement=ot;var it=function(t,e){this.type=o.Syntax.TaggedTemplateExpression,this.tag=t,this.quasi=e};e.TaggedTemplateExpression=it;var rt=function(t,e){this.type=o.Syntax.TemplateElement,this.value=t,this.tail=e};e.TemplateElement=rt;var st=function(t,e){this.type=o.Syntax.TemplateLiteral,this.quasis=t,this.expressions=e};e.TemplateLiteral=st;var at=function(){this.type=o.Syntax.ThisExpression};e.ThisExpression=at;var lt=function(t){this.type=o.Syntax.ThrowStatement,this.argument=t};e.ThrowStatement=lt;var ut=function(t,e,n){this.type=o.Syntax.TryStatement,this.block=t,this.handler=e,this.finalizer=n};e.TryStatement=ut;var ct=function(t,e){this.type=o.Syntax.UnaryExpression,this.operator=t,this.argument=e,this.prefix=!0};e.UnaryExpression=ct;var ht=function(t,e,n){this.type=o.Syntax.UpdateExpression,this.operator=t,this.argument=e,this.prefix=n};e.UpdateExpression=ht;var pt=function(t,e){this.type=o.Syntax.VariableDeclaration,this.declarations=t,this.kind=e};e.VariableDeclaration=pt;var dt=function(t,e){this.type=o.Syntax.VariableDeclarator,this.id=t,this.init=e};e.VariableDeclarator=dt;var ft=function(t,e){this.type=o.Syntax.WhileStatement,this.test=t,this.body=e};e.WhileStatement=ft;var _t=function(t,e){this.type=o.Syntax.WithStatement,this.object=t,this.body=e};e.WithStatement=_t;var gt=function(t,e){this.type=o.Syntax.YieldExpression,this.argument=t,this.delegate=e};e.YieldExpression=gt},function(t,e,n){"use strict";var o,i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},r=n(9),s=n(7),a=n(3),l=n(12),u=n(13),c=n(10),h=n(14);function p(t){var e;switch(t.type){case u.JSXSyntax.JSXIdentifier:e=t.name;break;case u.JSXSyntax.JSXNamespacedName:var n=t;e=p(n.namespace)+":"+p(n.name);break;case u.JSXSyntax.JSXMemberExpression:var o=t;e=p(o.object)+"."+p(o.property)}return e}!function(t){t[t.Identifier=100]="Identifier",t[t.Text=101]="Text"}(o||(o={})),s.TokenName[o.Identifier]="JSXIdentifier",s.TokenName[o.Text]="JSXText";var d=function(t){function e(e,n,o){t.call(this,e,n,o)}return i(e,t),e.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():t.prototype.parsePrimaryExpression.call(this)},e.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.lineNumber,this.scanner.lineStart=this.startMarker.lineStart},e.prototype.finishJSX=function(){this.nextToken()},e.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},e.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},e.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},e.prototype.scanXHTMLEntity=function(t){for(var e="&",n=!0,o=!1,i=!1,s=!1;!this.scanner.eof()&&n&&!o;){var a=this.scanner.source[this.scanner.index];if(a===t)break;if(o=";"===a,e+=a,++this.scanner.index,!o)switch(e.length){case 2:i="#"===a;break;case 3:i&&(n=(s="x"===a)||r.Character.isDecimalDigit(a.charCodeAt(0)),i=i&&!s);break;default:n=(n=n&&!(i&&!r.Character.isDecimalDigit(a.charCodeAt(0))))&&!(s&&!r.Character.isHexDigit(a.charCodeAt(0)))}}if(n&&o&&e.length>2){var u=e.substr(1,e.length-2);i&&u.length>1?e=String.fromCharCode(parseInt(u.substr(1),10)):s&&u.length>2?e=String.fromCharCode(parseInt("0"+u.substr(1),16)):i||s||!l.XHTMLEntities[u]||(e=l.XHTMLEntities[u])}return e},e.prototype.lexJSX=function(){var t=this.scanner.source.charCodeAt(this.scanner.index);if(60===t||62===t||47===t||58===t||61===t||123===t||125===t){var e=this.scanner.source[this.scanner.index++];return{type:s.Token.Punctuator,value:e,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(34===t||39===t){for(var n=this.scanner.index,i=this.scanner.source[this.scanner.index++],a="";!this.scanner.eof()&&(c=this.scanner.source[this.scanner.index++])!==i;)a+="&"===c?this.scanXHTMLEntity(i):c;return{type:s.Token.StringLiteral,value:a,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(46===t){var l=this.scanner.source.charCodeAt(this.scanner.index+1),u=this.scanner.source.charCodeAt(this.scanner.index+2);return e=46===l&&46===u?"...":".",n=this.scanner.index,this.scanner.index+=e.length,{type:s.Token.Punctuator,value:e,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(96===t)return{type:s.Token.Template,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(r.Character.isIdentifierStart(t)&&92!==t){for(n=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var c=this.scanner.source.charCodeAt(this.scanner.index);if(r.Character.isIdentifierPart(c)&&92!==c)++this.scanner.index;else{if(45!==c)break;++this.scanner.index}}var h=this.scanner.source.slice(n,this.scanner.index);return{type:o.Identifier,value:h,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}this.scanner.throwUnexpectedToken()},e.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;var t=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(t)),t},e.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;for(var t=this.scanner.index,e="";!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,e+=n,r.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart;var i={type:o.Text,value:e,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index};return e.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(i)),i},e.prototype.peekJSXToken=function(){var t=this.scanner.index,e=this.scanner.lineNumber,n=this.scanner.lineStart;this.scanner.scanComments();var o=this.lexJSX();return this.scanner.index=t,this.scanner.lineNumber=e,this.scanner.lineStart=n,o},e.prototype.expectJSX=function(t){var e=this.nextJSXToken();e.type===s.Token.Punctuator&&e.value===t||this.throwUnexpectedToken(e)},e.prototype.matchJSX=function(t){var e=this.peekJSXToken();return e.type===s.Token.Punctuator&&e.value===t},e.prototype.parseJSXIdentifier=function(){var t=this.createJSXNode(),e=this.nextJSXToken();return e.type!==o.Identifier&&this.throwUnexpectedToken(e),this.finalize(t,new h.JSXIdentifier(e.value))},e.prototype.parseJSXElementName=function(){var t=this.createJSXNode(),e=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=e;this.expectJSX(":");var o=this.parseJSXIdentifier();e=this.finalize(t,new h.JSXNamespacedName(n,o))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var i=e;this.expectJSX(".");var r=this.parseJSXIdentifier();e=this.finalize(t,new h.JSXMemberExpression(i,r))}return e},e.prototype.parseJSXAttributeName=function(){var t,e=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var o=n;this.expectJSX(":");var i=this.parseJSXIdentifier();t=this.finalize(e,new h.JSXNamespacedName(o,i))}else t=n;return t},e.prototype.parseJSXStringLiteralAttribute=function(){var t=this.createJSXNode(),e=this.nextJSXToken();e.type!==s.Token.StringLiteral&&this.throwUnexpectedToken(e);var n=this.getTokenRaw(e);return this.finalize(t,new c.Literal(e.value,n))},e.prototype.parseJSXExpressionAttribute=function(){var t=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var e=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(t,new h.JSXExpressionContainer(e))},e.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},e.prototype.parseJSXNameValueAttribute=function(){var t=this.createJSXNode(),e=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(t,new h.JSXAttribute(e,n))},e.prototype.parseJSXSpreadAttribute=function(){var t=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var e=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(t,new h.JSXSpreadAttribute(e))},e.prototype.parseJSXAttributes=function(){for(var t=[];!this.matchJSX("/")&&!this.matchJSX(">");){var e=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();t.push(e)}return t},e.prototype.parseJSXOpeningElement=function(){var t=this.createJSXNode();this.expectJSX("<");var e=this.parseJSXElementName(),n=this.parseJSXAttributes(),o=this.matchJSX("/");return o&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(t,new h.JSXOpeningElement(e,o,n))},e.prototype.parseJSXBoundaryElement=function(){var t=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var e=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(t,new h.JSXClosingElement(e))}var n=this.parseJSXElementName(),o=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(t,new h.JSXOpeningElement(n,i,o))},e.prototype.parseJSXEmptyExpression=function(){var t=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.finalize(t,new h.JSXEmptyExpression)},e.prototype.parseJSXExpressionContainer=function(){var t,e=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(t=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),t=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(e,new h.JSXExpressionContainer(t))},e.prototype.parseJSXChildren=function(){for(var t=[];!this.scanner.eof();){var e=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var o=this.getTokenRaw(n),i=this.finalize(e,new h.JSXText(n.value,o));t.push(i)}if("{"!==this.scanner.source[this.scanner.index])break;var r=this.parseJSXExpressionContainer();t.push(r)}return t},e.prototype.parseComplexJSXElement=function(t){for(var e=[];!this.scanner.eof();){t.children=t.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),o=this.parseJSXBoundaryElement();if(o.type===u.JSXSyntax.JSXOpeningElement){var i=o;if(i.selfClosing){var r=this.finalize(n,new h.JSXElement(i,[],null));t.children.push(r)}else e.push(t),t={node:n,opening:i,closing:null,children:[]}}if(o.type===u.JSXSyntax.JSXClosingElement){t.closing=o;var s=p(t.opening.name);if(s!==p(t.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",s),!(e.length>0))break;r=this.finalize(t.node,new h.JSXElement(t.opening,t.children,t.closing)),(t=e.pop()).children.push(r)}}return t},e.prototype.parseJSXElement=function(){var t=this.createJSXNode(),e=this.parseJSXOpeningElement(),n=[],o=null;if(!e.selfClosing){var i=this.parseComplexJSXElement({node:t,opening:e,closing:o,children:n});n=i.children,o=i.closing}return this.finalize(t,new h.JSXElement(e,n,o))},e.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var t=this.parseJSXElement();return this.finishJSX(),t},e}(a.Parser);e.JSXParser=d},function(t,e){"use strict";e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",frasl:"\u2044",euro:"\u20ac",image:"\u2111",weierp:"\u2118",real:"\u211c",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lArr:"\u21d0",uArr:"\u21d1",rArr:"\u21d2",dArr:"\u21d3",hArr:"\u21d4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27e8",rang:"\u27e9"}},function(t,e){"use strict";e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,n){"use strict";var o=n(13),i=function(t){this.type=o.JSXSyntax.JSXClosingElement,this.name=t};e.JSXClosingElement=i;var r=function(t,e,n){this.type=o.JSXSyntax.JSXElement,this.openingElement=t,this.children=e,this.closingElement=n};e.JSXElement=r;var s=function(){this.type=o.JSXSyntax.JSXEmptyExpression};e.JSXEmptyExpression=s;var a=function(t){this.type=o.JSXSyntax.JSXExpressionContainer,this.expression=t};e.JSXExpressionContainer=a;var l=function(t){this.type=o.JSXSyntax.JSXIdentifier,this.name=t};e.JSXIdentifier=l;var u=function(t,e){this.type=o.JSXSyntax.JSXMemberExpression,this.object=t,this.property=e};e.JSXMemberExpression=u;var c=function(t,e){this.type=o.JSXSyntax.JSXAttribute,this.name=t,this.value=e};e.JSXAttribute=c;var h=function(t,e){this.type=o.JSXSyntax.JSXNamespacedName,this.namespace=t,this.name=e};e.JSXNamespacedName=h;var p=function(t,e,n){this.type=o.JSXSyntax.JSXOpeningElement,this.name=t,this.selfClosing=e,this.attributes=n};e.JSXOpeningElement=p;var d=function(t){this.type=o.JSXSyntax.JSXSpreadAttribute,this.argument=t};e.JSXSpreadAttribute=d;var f=function(t,e){this.type=o.JSXSyntax.JSXText,this.value=t,this.raw=e};e.JSXText=f},function(t,e,n){"use strict";var o=n(8),i=n(6),r=n(7),s=function(){function t(){this.values=[],this.curly=this.paren=-1}return t.prototype.beforeFunctionExpression=function(t){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(t)>=0},t.prototype.isRegexStart=function(){var t=this.values[this.values.length-1],e=null!==t;switch(t){case"this":case"]":e=!1;break;case")":var n=this.values[this.paren-1];e="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(e=!1,"function"===this.values[this.curly-3]){var o=this.values[this.curly-4];e=!!o&&!this.beforeFunctionExpression(o)}else if("function"===this.values[this.curly-4]){var i=this.values[this.curly-5];e=!i||!this.beforeFunctionExpression(i)}}return e},t.prototype.push=function(t){t.type===r.Token.Punctuator||t.type===r.Token.Keyword?("{"===t.value?this.curly=this.values.length:"("===t.value&&(this.paren=this.values.length),this.values.push(t.value)):this.values.push(null)},t}(),a=function(){function t(t,e){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=!!e&&"boolean"===typeof e.tolerant&&e.tolerant,this.scanner=new o.Scanner(t,this.errorHandler),this.scanner.trackComment=!!e&&"boolean"===typeof e.comment&&e.comment,this.trackRange=!!e&&"boolean"===typeof e.range&&e.range,this.trackLoc=!!e&&"boolean"===typeof e.loc&&e.loc,this.buffer=[],this.reader=new s}return t.prototype.errors=function(){return this.errorHandler.errors},t.prototype.getNextToken=function(){if(0===this.buffer.length){var t=this.scanner.scanComments();if(this.scanner.trackComment)for(var e=0;e<t.length;++e){var n=t[e],o=void 0,i=this.scanner.source.slice(n.slice[0],n.slice[1]);o={type:n.multiLine?"BlockComment":"LineComment",value:i},this.trackRange&&(o.range=n.range),this.trackLoc&&(o.loc=n.loc),this.buffer.push(o)}if(!this.scanner.eof()){var s=void 0;this.trackLoc&&(s={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var a=void 0;a="/"===this.scanner.source[this.scanner.index]?this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.scanPunctuator():this.scanner.lex(),this.reader.push(a);var l=void 0;l={type:r.TokenName[a.type],value:this.scanner.source.slice(a.start,a.end)},this.trackRange&&(l.range=[a.start,a.end]),this.trackLoc&&(s.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},l.loc=s),a.regex&&(l.regex=a.regex),this.buffer.push(l)}}return this.buffer.shift()},t}();e.Tokenizer=a}])},t.exports=o()}]]);
//# sourceMappingURL=2.bfba0c09.chunk.js.map